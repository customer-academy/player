(function(){const nn=document.createElement("link").relList;if(nn&&nn.supports&&nn.supports("modulepreload"))return;for(const ze of document.querySelectorAll('link[rel="modulepreload"]'))Ho(ze);new MutationObserver(ze=>{for(const H of ze)if(H.type==="childList")for(const Fn of H.addedNodes)Fn.tagName==="LINK"&&Fn.rel==="modulepreload"&&Ho(Fn)}).observe(document,{childList:!0,subtree:!0});function zc(ze){const H={};return ze.integrity&&(H.integrity=ze.integrity),ze.referrerPolicy&&(H.referrerPolicy=ze.referrerPolicy),ze.crossOrigin==="use-credentials"?H.credentials="include":ze.crossOrigin==="anonymous"?H.credentials="omit":H.credentials="same-origin",H}function Ho(ze){if(ze.ep)return;ze.ep=!0;const H=zc(ze);fetch(ze.href,H)}})();var Jj=(jc,nn)=>()=>(nn||jc((nn={exports:{}}).exports,nn),nn.exports),Gj=Jj((jc,nn)=>{function zc(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ze={exports:{}},H={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Fn=Symbol.for("react.element"),gS=Symbol.for("react.portal"),yS=Symbol.for("react.fragment"),vS=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),wS=Symbol.for("react.provider"),kS=Symbol.for("react.context"),xS=Symbol.for("react.forward_ref"),SS=Symbol.for("react.suspense"),ES=Symbol.for("react.memo"),TS=Symbol.for("react.lazy"),Bm=Symbol.iterator;function OS(t){return t===null||typeof t!="object"?null:(t=Bm&&t[Bm]||t["@@iterator"],typeof t=="function"?t:null)}var Um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qm=Object.assign,Hm={};function ji(t,e,n){this.props=t,this.context=e,this.refs=Hm,this.updater=n||Um}ji.prototype.isReactComponent={},ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wm(){}Wm.prototype=ji.prototype;function $c(t,e,n){this.props=t,this.context=e,this.refs=Hm,this.updater=n||Um}var qc=$c.prototype=new Wm;qc.constructor=$c,Qm(qc,ji.prototype),qc.isPureReactComponent=!0;var Km=Array.isArray,Jm=Object.prototype.hasOwnProperty,Vc={current:null},Gm={key:!0,ref:!0,__self:!0,__source:!0};function Ym(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Jm.call(e,r)&&!Gm.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fn,type:t,key:o,ref:s,props:i,_owner:Vc.current}}function CS(t,e){return{$$typeof:Fn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fn}function NS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xm=/\/+/g;function Uc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NS(""+t.key):e.toString(36)}function Ma(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Fn:case gS:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Uc(s,0):r,Km(i)?(n="",t!=null&&(n=t.replace(Xm,"$&/")+"/"),Ma(i,e,n,"",function(u){return u})):i!=null&&(Bc(i)&&(i=CS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Xm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Km(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Uc(o,a);s+=Ma(o,e,n,l,i)}else if(l=OS(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Uc(o,a++),s+=Ma(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ia(t,e,n){if(t==null)return t;var r=[],i=0;return Ma(t,r,"","",function(o){return e.call(n,o,i++)}),r}function _S(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ft={current:null},Aa={transition:null},MS={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Aa,ReactCurrentOwner:Vc};H.Children={map:Ia,forEach:function(t,e,n){Ia(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ia(t,function(){e++}),e},toArray:function(t){return Ia(t,function(e){return e})||[]},only:function(t){if(!Bc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},H.Component=ji,H.Fragment=yS,H.Profiler=bS,H.PureComponent=$c,H.StrictMode=vS,H.Suspense=SS,H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MS,H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Qm({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Vc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Jm.call(e,l)&&!Gm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fn,type:t.type,key:i,ref:o,props:r,_owner:s}},H.createContext=function(t){return t={$$typeof:kS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wS,_context:t},t.Consumer=t},H.createElement=Ym,H.createFactory=function(t){var e=Ym.bind(null,t);return e.type=t,e},H.createRef=function(){return{current:null}},H.forwardRef=function(t){return{$$typeof:xS,render:t}},H.isValidElement=Bc,H.lazy=function(t){return{$$typeof:TS,_payload:{_status:-1,_result:t},_init:_S}},H.memo=function(t,e){return{$$typeof:ES,type:t,compare:e===void 0?null:e}},H.startTransition=function(t){var e=Aa.transition;Aa.transition={};try{t()}finally{Aa.transition=e}},H.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},H.useCallback=function(t,e){return ft.current.useCallback(t,e)},H.useContext=function(t){return ft.current.useContext(t)},H.useDebugValue=function(){},H.useDeferredValue=function(t){return ft.current.useDeferredValue(t)},H.useEffect=function(t,e){return ft.current.useEffect(t,e)},H.useId=function(){return ft.current.useId()},H.useImperativeHandle=function(t,e,n){return ft.current.useImperativeHandle(t,e,n)},H.useInsertionEffect=function(t,e){return ft.current.useInsertionEffect(t,e)},H.useLayoutEffect=function(t,e){return ft.current.useLayoutEffect(t,e)},H.useMemo=function(t,e){return ft.current.useMemo(t,e)},H.useReducer=function(t,e,n){return ft.current.useReducer(t,e,n)},H.useRef=function(t){return ft.current.useRef(t)},H.useState=function(t){return ft.current.useState(t)},H.useSyncExternalStore=function(t,e,n){return ft.current.useSyncExternalStore(t,e,n)},H.useTransition=function(){return ft.current.useTransition()},H.version="18.2.0",ze.exports=H;var wt=ze.exports;const IS=Ho(wt);var Qc={},Zm={exports:{}},It={},eg={exports:{}},tg={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(t){function e(M,D){var U=M.length;M.push(D);e:for(;0<U;){var oe=U-1>>>1,se=M[oe];if(0<i(se,D))M[oe]=D,M[U]=se,U=oe;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var D=M[0],U=M.pop();if(U!==D){M[0]=U;e:for(var oe=0,se=M.length,ct=se>>>1;oe<ct;){var Ln=2*(oe+1)-1,$m=M[Ln],Fi=Ln+1,Fc=M[Fi];if(0>i($m,U))Fi<se&&0>i(Fc,$m)?(M[oe]=Fc,M[Fi]=U,oe=Fi):(M[oe]=$m,M[Ln]=U,oe=Ln);else if(Fi<se&&0>i(Fc,U))M[oe]=Fc,M[Fi]=U,oe=Fi;else break e}}return D}function i(M,D){var U=M.sortIndex-D.sortIndex;return U!==0?U:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=M)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function w(M){if(v=!1,y(M),!g)if(n(l)!==null)g=!0,$(k);else{var D=n(u);D!==null&&ee(w,D.startTime-M)}}function k(M,D){g=!1,v&&(v=!1,p(C),C=-1),h=!0;var U=d;try{for(y(D),f=n(l);f!==null&&(!(f.expirationTime>D)||M&&!_e());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,d=f.priorityLevel;var se=oe(f.expirationTime<=D);D=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),y(D)}else r(l);f=n(l)}if(f!==null)var ct=!0;else{var Ln=n(u);Ln!==null&&ee(w,Ln.startTime-D),ct=!1}return ct}finally{f=null,d=U,h=!1}}var x=!1,E=null,C=-1,B=5,z=-1;function _e(){return!(t.unstable_now()-z<B)}function N(){if(E!==null){var M=t.unstable_now();z=M;var D=!0;try{D=E(!0,M)}finally{D?T():(x=!1,E=null)}}else x=!1}var T;if(typeof m=="function")T=function(){m(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,K=I.port2;I.port1.onmessage=N,T=function(){K.postMessage(null)}}else T=function(){b(N,0)};function $(M){E=M,x||(x=!0,T())}function ee(M,D){C=b(function(){M(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,$(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var U=d;d=D;try{return M()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=d;d=M;try{return D()}finally{d=U}},t.unstable_scheduleCallback=function(M,D,U){var oe=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?oe+U:oe):U=oe,M){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=U+se,M={id:c++,callback:D,priorityLevel:M,startTime:U,expirationTime:se,sortIndex:-1},U>oe?(M.sortIndex=U,e(u,M),n(l)===null&&M===n(u)&&(v?(p(C),C=-1):v=!0,ee(w,U-oe))):(M.sortIndex=se,e(l,M),g||h||(g=!0,$(k))),M},t.unstable_shouldYield=_e,t.unstable_wrapCallback=function(M){var D=d;return function(){var U=d;d=D;try{return M.apply(this,arguments)}finally{d=U}}}})(tg),eg.exports=tg;var AS=eg.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ng=wt,At=AS;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rg=new Set,Wo={};function Br(t,e){zi(t,e),zi(t+"Capture",e)}function zi(t,e){for(Wo[t]=e,t=0;t<e.length;t++)rg.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=Object.prototype.hasOwnProperty,DS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ig={},og={};function RS(t){return Hc.call(og,t)?!0:Hc.call(ig,t)?!1:DS.test(t)?og[t]=!0:(ig[t]=!0,!1)}function PS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LS(t,e,n,r){if(e===null||typeof e>"u"||PS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new dt(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new dt(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new dt(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new dt(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new dt(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new dt(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Ke[t]=new dt(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Ke[t]=new dt(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Ke[t]=new dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Kc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wc,Kc);Ke[e]=new dt(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wc,Kc);Ke[e]=new dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wc,Kc);Ke[e]=new dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new dt(t,1,!1,t.toLowerCase(),null,!1,!1)}),Ke.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Ke[t]=new dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jc(t,e,n,r){var i=Ke.hasOwnProperty(e)?Ke[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LS(e,n,i,r)&&(n=null),r||i===null?RS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zn=ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Da=Symbol.for("react.element"),$i=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),Gc=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),sg=Symbol.for("react.provider"),ag=Symbol.for("react.context"),Xc=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),tf=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),lg=Symbol.for("react.offscreen"),ug=Symbol.iterator;function Ko(t){return t===null||typeof t!="object"?null:(t=ug&&t[ug]||t["@@iterator"],typeof t=="function"?t:null)}var ve=Object.assign,nf;function Jo(t){if(nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+t}var rf=!1;function of(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jo(t):""}function FS(t){switch(t.tag){case 5:return Jo(t.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return t=of(t.type,!1),t;case 11:return t=of(t.type.render,!1),t;case 1:return t=of(t.type,!0),t;default:return""}}function sf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qi:return"Fragment";case $i:return"Portal";case Yc:return"Profiler";case Gc:return"StrictMode";case Zc:return"Suspense";case ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ag:return(t.displayName||"Context")+".Consumer";case sg:return(t._context.displayName||"Context")+".Provider";case Xc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tf:return e=t.displayName||null,e!==null?e:sf(t.type)||"Memo";case Xn:e=t._payload,t=t._init;try{return sf(t(e))}catch{}}return null}function jS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sf(e);case 8:return e===Gc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zS(t){var e=cg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ra(t){t._valueTracker||(t._valueTracker=zS(t))}function fg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function af(t,e){var n=e.checked;return ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hg(t,e){e=e.checked,e!=null&&Jc(t,"checked",e,!1)}function lf(t,e){hg(t,e);var n=Zn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uf(t,e.type,n):e.hasOwnProperty("defaultValue")&&uf(t,e.type,Zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uf(t,e,n){(e!=="number"||Pa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Go=Array.isArray;function Vi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_(91));return ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_(92));if(Go(n)){if(1<n.length)throw Error(_(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zn(n)}}function gg(t,e){var n=Zn(e.value),r=Zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ff(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var La,bg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(La=La||document.createElement("div"),La.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=La.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$S=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(t){$S.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xo[e]=Xo[t]})});function wg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xo.hasOwnProperty(t)&&Xo[t]?(""+e).trim():e+"px"}function kg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qS=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function df(t,e){if(e){if(qS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_(62))}}function hf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=null;function mf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gf=null,Bi=null,Ui=null;function xg(t){if(t=ks(t)){if(typeof gf!="function")throw Error(_(280));var e=t.stateNode;e&&(e=ol(e),gf(t.stateNode,t.type,e))}}function Sg(t){Bi?Ui?Ui.push(t):Ui=[t]:Bi=t}function Eg(){if(Bi){var t=Bi,e=Ui;if(Ui=Bi=null,xg(t),e)for(t=0;t<e.length;t++)xg(e[t])}}function Tg(t,e){return t(e)}function Og(){}var yf=!1;function Cg(t,e,n){if(yf)return t(e,n);yf=!0;try{return Tg(t,e,n)}finally{yf=!1,(Bi!==null||Ui!==null)&&(Og(),Eg())}}function Zo(t,e){var n=t.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_(231,e,typeof n));return n}var vf=!1;if(jn)try{var es={};Object.defineProperty(es,"passive",{get:function(){vf=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{vf=!1}function VS(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ts=!1,Fa=null,ja=!1,bf=null,BS={onError:function(t){ts=!0,Fa=t}};function US(t,e,n,r,i,o,s,a,l){ts=!1,Fa=null,VS.apply(BS,arguments)}function QS(t,e,n,r,i,o,s,a,l){if(US.apply(this,arguments),ts){if(ts){var u=Fa;ts=!1,Fa=null}else throw Error(_(198));ja||(ja=!0,bf=u)}}function Ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ng(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _g(t){if(Ur(t)!==t)throw Error(_(188))}function HS(t){var e=t.alternate;if(!e){if(e=Ur(t),e===null)throw Error(_(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _g(i),t;if(o===r)return _g(i),e;o=o.sibling}throw Error(_(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?t:e}function Mg(t){return t=HS(t),t!==null?Ig(t):null}function Ig(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ig(t);if(e!==null)return e;t=t.sibling}return null}var Ag=At.unstable_scheduleCallback,Dg=At.unstable_cancelCallback,WS=At.unstable_shouldYield,KS=At.unstable_requestPaint,Ne=At.unstable_now,JS=At.unstable_getCurrentPriorityLevel,wf=At.unstable_ImmediatePriority,Rg=At.unstable_UserBlockingPriority,za=At.unstable_NormalPriority,GS=At.unstable_LowPriority,Pg=At.unstable_IdlePriority,$a=null,wn=null;function YS(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot($a,t,void 0,(t.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:eE,XS=Math.log,ZS=Math.LN2;function eE(t){return t>>>=0,t===0?32:31-(XS(t)/ZS|0)|0}var qa=64,Va=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ba(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ns(a):(o&=s,o!==0&&(r=ns(o)))}else s=n&~i,s!==0?r=ns(s):o!==0&&(r=ns(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rn(e),i=1<<n,r|=t[n],e&=~i;return r}function tE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-rn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=tE(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lg(){var t=qa;return qa<<=1,!(qa&4194240)&&(qa=64),t}function xf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rn(e),t[e]=n}function rE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Sf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function Fg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jg,Ef,zg,$g,qg,Tf=!1,Ua=[],er=null,tr=null,nr=null,is=new Map,ss=new Map,rr=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vg(t,e){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(e.pointerId)}}function as(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ks(e),e!==null&&Ef(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oE(t,e,n,r,i){switch(e){case"focusin":return er=as(er,t,e,n,r,i),!0;case"dragenter":return tr=as(tr,t,e,n,r,i),!0;case"mouseover":return nr=as(nr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return is.set(o,as(is.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ss.set(o,as(ss.get(o)||null,t,e,n,r,i)),!0}return!1}function Bg(t){var e=Qr(t.target);if(e!==null){var n=Ur(e);if(n!==null){if(e=n.tag,e===13){if(e=Ng(n),e!==null){t.blockedOn=e,qg(t.priority,function(){zg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pf=r,n.target.dispatchEvent(r),pf=null}else return e=ks(n),e!==null&&Ef(e),t.blockedOn=n,!1;e.shift()}return!0}function Ug(t,e,n){Qa(t)&&n.delete(e)}function sE(){Tf=!1,er!==null&&Qa(er)&&(er=null),tr!==null&&Qa(tr)&&(tr=null),nr!==null&&Qa(nr)&&(nr=null),is.forEach(Ug),ss.forEach(Ug)}function ls(t,e){t.blockedOn===e&&(t.blockedOn=null,Tf||(Tf=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,sE)))}function us(t){function e(i){return ls(i,t)}if(0<Ua.length){ls(Ua[0],t);for(var n=1;n<Ua.length;n++){var r=Ua[n];r.blockedOn===t&&(r.blockedOn=null)}}for(er!==null&&ls(er,t),tr!==null&&ls(tr,t),nr!==null&&ls(nr,t),is.forEach(e),ss.forEach(e),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)Bg(n),n.blockedOn===null&&rr.shift()}var Qi=zn.ReactCurrentBatchConfig,Ha=!0;function aE(t,e,n,r){var i=le,o=Qi.transition;Qi.transition=null;try{le=1,Of(t,e,n,r)}finally{le=i,Qi.transition=o}}function lE(t,e,n,r){var i=le,o=Qi.transition;Qi.transition=null;try{le=4,Of(t,e,n,r)}finally{le=i,Qi.transition=o}}function Of(t,e,n,r){if(Ha){var i=Cf(t,e,n,r);if(i===null)Uf(t,e,r,Wa,n),Vg(t,r);else if(oE(i,t,e,n,r))r.stopPropagation();else if(Vg(t,r),e&4&&-1<iE.indexOf(t)){for(;i!==null;){var o=ks(i);if(o!==null&&jg(o),o=Cf(t,e,n,r),o===null&&Uf(t,e,r,Wa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Uf(t,e,r,null,n)}}var Wa=null;function Cf(t,e,n,r){if(Wa=null,t=mf(r),t=Qr(t),t!==null)if(e=Ur(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ng(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wa=t,null}function Qg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JS()){case wf:return 1;case Rg:return 4;case za:case GS:return 16;case Pg:return 536870912;default:return 16}default:return 16}}var ir=null,Nf=null,Ka=null;function Hg(){if(Ka)return Ka;var t,e=Nf,n=e.length,r,i="value"in ir?ir.value:ir.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ka=i.slice(t,1<r?1-r:void 0)}function Ja(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function Wg(){return!1}function Dt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ga:Wg,this.isPropagationStopped=Wg,this}return ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),e}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=Dt(Hi),cs=ve({},Hi,{view:0,detail:0}),uE=Dt(cs),Mf,If,fs,Ya=ve({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fs&&(fs&&t.type==="mousemove"?(Mf=t.screenX-fs.screenX,If=t.screenY-fs.screenY):If=Mf=0,fs=t),Mf)},movementY:function(t){return"movementY"in t?t.movementY:If}}),Kg=Dt(Ya),cE=ve({},Ya,{dataTransfer:0}),fE=Dt(cE),dE=ve({},cs,{relatedTarget:0}),Af=Dt(dE),hE=ve({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),pE=Dt(hE),mE=ve({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gE=Dt(mE),yE=ve({},Hi,{data:0}),Jg=Dt(yE),vE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wE[t])?!!e[t]:!1}function Df(){return kE}var xE=ve({},cs,{key:function(t){if(t.key){var e=vE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(t){return t.type==="keypress"?Ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SE=Dt(xE),EE=ve({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gg=Dt(EE),TE=ve({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),OE=Dt(TE),CE=ve({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),NE=Dt(CE),_E=ve({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ME=Dt(_E),IE=[9,13,27,32],Rf=jn&&"CompositionEvent"in window,ds=null;jn&&"documentMode"in document&&(ds=document.documentMode);var AE=jn&&"TextEvent"in window&&!ds,Yg=jn&&(!Rf||ds&&8<ds&&11>=ds),Xg=" ",Zg=!1;function ey(t,e){switch(t){case"keyup":return IE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function DE(t,e){switch(t){case"compositionend":return ty(e);case"keypress":return e.which!==32?null:(Zg=!0,Xg);case"textInput":return t=e.data,t===Xg&&Zg?null:t;default:return null}}function RE(t,e){if(Wi)return t==="compositionend"||!Rf&&ey(t,e)?(t=Hg(),Ka=Nf=ir=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yg&&e.locale!=="ko"?null:e.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PE[t.type]:e==="textarea"}function ry(t,e,n,r){Sg(r),e=nl(e,"onChange"),0<e.length&&(n=new _f("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hs=null,ps=null;function LE(t){ky(t,0)}function Xa(t){var e=Xi(t);if(fg(e))return t}function FE(t,e){if(t==="change")return e}var iy=!1;if(jn){var Pf;if(jn){var Lf="oninput"in document;if(!Lf){var oy=document.createElement("div");oy.setAttribute("oninput","return;"),Lf=typeof oy.oninput=="function"}Pf=Lf}else Pf=!1;iy=Pf&&(!document.documentMode||9<document.documentMode)}function sy(){hs&&(hs.detachEvent("onpropertychange",ay),ps=hs=null)}function ay(t){if(t.propertyName==="value"&&Xa(ps)){var e=[];ry(e,ps,t,mf(t)),Cg(LE,e)}}function jE(t,e,n){t==="focusin"?(sy(),hs=e,ps=n,hs.attachEvent("onpropertychange",ay)):t==="focusout"&&sy()}function zE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xa(ps)}function $E(t,e){if(t==="click")return Xa(e)}function qE(t,e){if(t==="input"||t==="change")return Xa(e)}function VE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:VE;function ms(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hc.call(e,i)||!on(t[i],e[i]))return!1}return!0}function ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uy(t,e){var n=ly(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ly(n)}}function cy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fy(){for(var t=window,e=Pa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pa(t.document)}return e}function Ff(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BE(t){var e=fy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cy(n.ownerDocument.documentElement,n)){if(r!==null&&Ff(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=uy(n,o);var s=uy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UE=jn&&"documentMode"in document&&11>=document.documentMode,Ki=null,jf=null,gs=null,zf=!1;function dy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zf||Ki==null||Ki!==Pa(r)||(r=Ki,"selectionStart"in r&&Ff(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gs&&ms(gs,r)||(gs=r,r=nl(jf,"onSelect"),0<r.length&&(e=new _f("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ki)))}function Za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},$f={},hy={};jn&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function el(t){if($f[t])return $f[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hy)return $f[t]=e[n];return t}var py=el("animationend"),my=el("animationiteration"),gy=el("animationstart"),yy=el("transitionend"),vy=new Map,by="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(t,e){vy.set(t,e),Br(e,[t])}for(var qf=0;qf<by.length;qf++){var Vf=by[qf],QE=Vf.toLowerCase(),HE=Vf[0].toUpperCase()+Vf.slice(1);or(QE,"on"+HE)}or(py,"onAnimationEnd"),or(my,"onAnimationIteration"),or(gy,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(yy,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function wy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QS(r,e,void 0,t),t.currentTarget=null}function ky(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;wy(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;wy(i,a,u),o=l}}}if(ja)throw t=bf,ja=!1,bf=null,t}function he(t,e){var n=e[Gf];n===void 0&&(n=e[Gf]=new Set);var r=t+"__bubble";n.has(r)||(xy(e,t,2,!1),n.add(r))}function Bf(t,e,n){var r=0;e&&(r|=4),xy(n,t,r,e)}var tl="_reactListening"+Math.random().toString(36).slice(2);function vs(t){if(!t[tl]){t[tl]=!0,rg.forEach(function(n){n!=="selectionchange"&&(WE.has(n)||Bf(n,!1,t),Bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tl]||(e[tl]=!0,Bf("selectionchange",!1,e))}}function xy(t,e,n,r){switch(Qg(e)){case 1:var i=aE;break;case 4:i=lE;break;default:i=Of}n=i.bind(null,e,n,t),i=void 0,!vf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Qr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Cg(function(){var u=o,c=mf(n),f=[];e:{var d=vy.get(t);if(d!==void 0){var h=_f,g=t;switch(t){case"keypress":if(Ja(n)===0)break e;case"keydown":case"keyup":h=SE;break;case"focusin":g="focus",h=Af;break;case"focusout":g="blur",h=Af;break;case"beforeblur":case"afterblur":h=Af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=OE;break;case py:case my:case gy:h=pE;break;case yy:h=NE;break;case"scroll":h=uE;break;case"wheel":h=ME;break;case"copy":case"cut":case"paste":h=gE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Gg}var v=(e&4)!==0,b=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var m=u,y;m!==null;){y=m;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=Zo(m,p),w!=null&&v.push(bs(m,w,y)))),b)break;m=m.return}0<v.length&&(d=new h(d,g,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==pf&&(g=n.relatedTarget||n.fromElement)&&(Qr(g)||g[$n]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Qr(g):null,g!==null&&(b=Ur(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(v=Kg,w="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Gg,w="onPointerLeave",p="onPointerEnter",m="pointer"),b=h==null?d:Xi(h),y=g==null?d:Xi(g),d=new v(w,m+"leave",h,n,c),d.target=b,d.relatedTarget=y,w=null,Qr(c)===u&&(v=new v(p,m+"enter",g,n,c),v.target=y,v.relatedTarget=b,w=v),b=w,h&&g)t:{for(v=h,p=g,m=0,y=v;y;y=Gi(y))m++;for(y=0,w=p;w;w=Gi(w))y++;for(;0<m-y;)v=Gi(v),m--;for(;0<y-m;)p=Gi(p),y--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break t;v=Gi(v),p=Gi(p)}v=null}else v=null;h!==null&&Sy(f,d,h,v,!1),g!==null&&b!==null&&Sy(f,b,g,v,!0)}}e:{if(d=u?Xi(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var k=FE;else if(ny(d))if(iy)k=qE;else{k=zE;var x=jE}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=$E);if(k&&(k=k(t,u))){ry(f,k,n,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&uf(d,"number",d.value)}switch(x=u?Xi(u):window,t){case"focusin":(ny(x)||x.contentEditable==="true")&&(Ki=x,jf=u,gs=null);break;case"focusout":gs=jf=Ki=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,dy(f,n,c);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":dy(f,n,c)}var E;if(Rf)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wi?ey(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Yg&&n.locale!=="ko"&&(Wi||C!=="onCompositionStart"?C==="onCompositionEnd"&&Wi&&(E=Hg()):(ir=c,Nf="value"in ir?ir.value:ir.textContent,Wi=!0)),x=nl(u,C),0<x.length&&(C=new Jg(C,t,null,n,c),f.push({event:C,listeners:x}),E?C.data=E:(E=ty(n),E!==null&&(C.data=E)))),(E=AE?DE(t,n):RE(t,n))&&(u=nl(u,"onBeforeInput"),0<u.length&&(c=new Jg("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}ky(f,e)})}function bs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zo(t,n),o!=null&&r.unshift(bs(t,o,i)),o=Zo(t,e),o!=null&&r.push(bs(t,o,i))),t=t.return}return r}function Gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Zo(n,o),l!=null&&s.unshift(bs(n,l,a))):i||(l=Zo(n,o),l!=null&&s.push(bs(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var KE=/\r\n?/g,JE=/\u0000|\uFFFD/g;function Ey(t){return(typeof t=="string"?t:""+t).replace(KE,`
`).replace(JE,"")}function rl(t,e,n){if(e=Ey(e),Ey(t)!==e&&n)throw Error(_(425))}function il(){}var Qf=null,Hf=null;function Wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,YE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(XE)}:Kf;function XE(t){setTimeout(function(){throw t})}function Jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),us(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);us(e)}function sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Oy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),kn="__reactFiber$"+Yi,ws="__reactProps$"+Yi,$n="__reactContainer$"+Yi,Gf="__reactEvents$"+Yi,ZE="__reactListeners$"+Yi,eT="__reactHandles$"+Yi;function Qr(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Oy(t);t!==null;){if(n=t[kn])return n;t=Oy(t)}return e}t=n,n=t.parentNode}return null}function ks(t){return t=t[kn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_(33))}function ol(t){return t[ws]||null}var Yf=[],Zi=-1;function ar(t){return{current:t}}function pe(t){0>Zi||(t.current=Yf[Zi],Yf[Zi]=null,Zi--)}function de(t,e){Zi++,Yf[Zi]=t.current,t.current=e}var lr={},rt=ar(lr),kt=ar(!1),Hr=lr;function eo(t,e){var n=t.type.contextTypes;if(!n)return lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function sl(){pe(kt),pe(rt)}function Cy(t,e,n){if(rt.current!==lr)throw Error(_(168));de(rt,e),de(kt,n)}function Ny(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_(108,jS(t)||"Unknown",i));return ve({},n,r)}function al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,Hr=rt.current,de(rt,t),de(kt,kt.current),!0}function _y(t,e,n){var r=t.stateNode;if(!r)throw Error(_(169));n?(t=Ny(t,e,Hr),r.__reactInternalMemoizedMergedChildContext=t,pe(kt),pe(rt),de(rt,t)):pe(kt),de(kt,n)}var qn=null,ll=!1,Xf=!1;function My(t){qn===null?qn=[t]:qn.push(t)}function tT(t){ll=!0,My(t)}function ur(){if(!Xf&&qn!==null){Xf=!0;var t=0,e=le;try{var n=qn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,ll=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),Ag(wf,ur),i}finally{le=e,Xf=!1}}return null}var to=[],no=0,ul=null,cl=0,Bt=[],Ut=0,Wr=null,Vn=1,Bn="";function Kr(t,e){to[no++]=cl,to[no++]=ul,ul=t,cl=e}function Iy(t,e,n){Bt[Ut++]=Vn,Bt[Ut++]=Bn,Bt[Ut++]=Wr,Wr=t;var r=Vn;t=Bn;var i=32-rn(r)-1;r&=~(1<<i),n+=1;var o=32-rn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Vn=1<<32-rn(e)+i|n<<i|r,Bn=o+t}else Vn=1<<o|n<<i|r,Bn=t}function Zf(t){t.return!==null&&(Kr(t,1),Iy(t,1,0))}function ed(t){for(;t===ul;)ul=to[--no],to[no]=null,cl=to[--no],to[no]=null;for(;t===Wr;)Wr=Bt[--Ut],Bt[Ut]=null,Bn=Bt[--Ut],Bt[Ut]=null,Vn=Bt[--Ut],Bt[Ut]=null}var Rt=null,Pt=null,ge=!1,sn=null;function Ay(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rt=t,Pt=sr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rt=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wr!==null?{id:Vn,overflow:Bn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rt=t,Pt=null,!0):!1;default:return!1}}function td(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nd(t){if(ge){var e=Pt;if(e){var n=e;if(!Dy(t,e)){if(td(t))throw Error(_(418));e=sr(n.nextSibling);var r=Rt;e&&Dy(t,e)?Ay(r,n):(t.flags=t.flags&-4097|2,ge=!1,Rt=t)}}else{if(td(t))throw Error(_(418));t.flags=t.flags&-4097|2,ge=!1,Rt=t}}}function Ry(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function fl(t){if(t!==Rt)return!1;if(!ge)return Ry(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wf(t.type,t.memoizedProps)),e&&(e=Pt)){if(td(t))throw Py(),Error(_(418));for(;e;)Ay(t,e),e=sr(e.nextSibling)}if(Ry(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pt=sr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=Rt?sr(t.stateNode.nextSibling):null;return!0}function Py(){for(var t=Pt;t;)t=sr(t.nextSibling)}function ro(){Pt=Rt=null,ge=!1}function rd(t){sn===null?sn=[t]:sn.push(t)}var nT=zn.ReactCurrentBatchConfig;function an(t,e){if(t&&t.defaultProps){e=ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var dl=ar(null),hl=null,io=null,id=null;function od(){id=io=hl=null}function sd(t){var e=dl.current;pe(dl),t._currentValue=e}function ad(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oo(t,e){hl=t,id=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(id!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(hl===null)throw Error(_(308));io=t,hl.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var Jr=null;function ld(t){Jr===null?Jr=[t]:Jr.push(t)}function Ly(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ld(e)):(n.next=i.next,i.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cr=!1;function ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Un(t,n)}return i=r.interleaved,i===null?(e.next=e,ld(r)):(e.next=i.next,i.next=e),r.interleaved=e,Un(t,n)}function pl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sf(t,n)}}function jy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ml(t,e,n,r){var i=t.updateQueue;cr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,h=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=ve({},f,d);break e;case 2:cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Xr|=s,t.lanes=s,t.memoizedState=f}}function zy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_(191,i));i.call(r)}}}var $y=new ng.Component().refs;function cd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gl={isMounted:function(t){return(t=t._reactInternals)?Ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pt(),i=mr(t),o=Qn(r,i);o.payload=e,n!=null&&(o.callback=n),e=fr(t,o,i),e!==null&&(cn(e,t,i,r),pl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pt(),i=mr(t),o=Qn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=fr(t,o,i),e!==null&&(cn(e,t,i,r),pl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pt(),r=mr(t),i=Qn(n,r);i.tag=2,e!=null&&(i.callback=e),e=fr(t,i,r),e!==null&&(cn(e,t,r,n),pl(e,t,r))}};function qy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ms(n,r)||!ms(i,o):!0}function Vy(t,e,n){var r=!1,i=lr,o=e.contextType;return typeof o=="object"&&o!==null?o=Qt(o):(i=xt(e)?Hr:rt.current,r=e.contextTypes,o=(r=r!=null)?eo(t,i):lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function By(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gl.enqueueReplaceState(e,e.state,null)}function fd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=$y,ud(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Qt(o):(o=xt(e)?Hr:rt.current,i.context=eo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(cd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gl.enqueueReplaceState(i,i.state,null),ml(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===$y&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,t))}return t}function yl(t,e){throw t=Object.prototype.toString.call(e),Error(_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uy(t){var e=t._init;return e(t._payload)}function Qy(t){function e(p,m){if(t){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=yr(p,m),p.index=0,p.sibling=null,p}function o(p,m,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function s(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,y,w){return m===null||m.tag!==6?(m=Wd(y,p.mode,w),m.return=p,m):(m=i(m,y),m.return=p,m)}function l(p,m,y,w){var k=y.type;return k===qi?c(p,m,y.props.children,w,y.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xn&&Uy(k)===m.type)?(w=i(m,y.props),w.ref=xs(p,m,y),w.return=p,w):(w=Ll(y.type,y.key,y.props,null,p.mode,w),w.ref=xs(p,m,y),w.return=p,w)}function u(p,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Kd(y,p.mode,w),m.return=p,m):(m=i(m,y.children||[]),m.return=p,m)}function c(p,m,y,w,k){return m===null||m.tag!==7?(m=ni(y,p.mode,w,k),m.return=p,m):(m=i(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Wd(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Da:return y=Ll(m.type,m.key,m.props,null,p.mode,y),y.ref=xs(p,null,m),y.return=p,y;case $i:return m=Kd(m,p.mode,y),m.return=p,m;case Xn:var w=m._init;return f(p,w(m._payload),y)}if(Go(m)||Ko(m))return m=ni(m,p.mode,y,null),m.return=p,m;yl(p,m)}return null}function d(p,m,y,w){var k=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(p,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Da:return y.key===k?l(p,m,y,w):null;case $i:return y.key===k?u(p,m,y,w):null;case Xn:return k=y._init,d(p,m,k(y._payload),w)}if(Go(y)||Ko(y))return k!==null?null:c(p,m,y,w,null);yl(p,y)}return null}function h(p,m,y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,a(m,p,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Da:return p=p.get(w.key===null?y:w.key)||null,l(m,p,w,k);case $i:return p=p.get(w.key===null?y:w.key)||null,u(m,p,w,k);case Xn:var x=w._init;return h(p,m,y,x(w._payload),k)}if(Go(w)||Ko(w))return p=p.get(y)||null,c(m,p,w,k,null);yl(m,w)}return null}function g(p,m,y,w){for(var k=null,x=null,E=m,C=m=0,B=null;E!==null&&C<y.length;C++){E.index>C?(B=E,E=null):B=E.sibling;var z=d(p,E,y[C],w);if(z===null){E===null&&(E=B);break}t&&E&&z.alternate===null&&e(p,E),m=o(z,m,C),x===null?k=z:x.sibling=z,x=z,E=B}if(C===y.length)return n(p,E),ge&&Kr(p,C),k;if(E===null){for(;C<y.length;C++)E=f(p,y[C],w),E!==null&&(m=o(E,m,C),x===null?k=E:x.sibling=E,x=E);return ge&&Kr(p,C),k}for(E=r(p,E);C<y.length;C++)B=h(E,p,C,y[C],w),B!==null&&(t&&B.alternate!==null&&E.delete(B.key===null?C:B.key),m=o(B,m,C),x===null?k=B:x.sibling=B,x=B);return t&&E.forEach(function(_e){return e(p,_e)}),ge&&Kr(p,C),k}function v(p,m,y,w){var k=Ko(y);if(typeof k!="function")throw Error(_(150));if(y=k.call(y),y==null)throw Error(_(151));for(var x=k=null,E=m,C=m=0,B=null,z=y.next();E!==null&&!z.done;C++,z=y.next()){E.index>C?(B=E,E=null):B=E.sibling;var _e=d(p,E,z.value,w);if(_e===null){E===null&&(E=B);break}t&&E&&_e.alternate===null&&e(p,E),m=o(_e,m,C),x===null?k=_e:x.sibling=_e,x=_e,E=B}if(z.done)return n(p,E),ge&&Kr(p,C),k;if(E===null){for(;!z.done;C++,z=y.next())z=f(p,z.value,w),z!==null&&(m=o(z,m,C),x===null?k=z:x.sibling=z,x=z);return ge&&Kr(p,C),k}for(E=r(p,E);!z.done;C++,z=y.next())z=h(E,p,C,z.value,w),z!==null&&(t&&z.alternate!==null&&E.delete(z.key===null?C:z.key),m=o(z,m,C),x===null?k=z:x.sibling=z,x=z);return t&&E.forEach(function(N){return e(p,N)}),ge&&Kr(p,C),k}function b(p,m,y,w){if(typeof y=="object"&&y!==null&&y.type===qi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Da:e:{for(var k=y.key,x=m;x!==null;){if(x.key===k){if(k=y.type,k===qi){if(x.tag===7){n(p,x.sibling),m=i(x,y.props.children),m.return=p,p=m;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xn&&Uy(k)===x.type){n(p,x.sibling),m=i(x,y.props),m.ref=xs(p,x,y),m.return=p,p=m;break e}n(p,x);break}else e(p,x);x=x.sibling}y.type===qi?(m=ni(y.props.children,p.mode,w,y.key),m.return=p,p=m):(w=Ll(y.type,y.key,y.props,null,p.mode,w),w.ref=xs(p,m,y),w.return=p,p=w)}return s(p);case $i:e:{for(x=y.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=i(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Kd(y,p.mode,w),m.return=p,p=m}return s(p);case Xn:return x=y._init,b(p,m,x(y._payload),w)}if(Go(y))return g(p,m,y,w);if(Ko(y))return v(p,m,y,w);yl(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,y),m.return=p,p=m):(n(p,m),m=Wd(y,p.mode,w),m.return=p,p=m),s(p)):n(p,m)}return b}var so=Qy(!0),Hy=Qy(!1),Ss={},xn=ar(Ss),Es=ar(Ss),Ts=ar(Ss);function Gr(t){if(t===Ss)throw Error(_(174));return t}function dd(t,e){switch(de(Ts,e),de(Es,t),de(xn,Ss),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ff(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ff(e,t)}pe(xn),de(xn,e)}function ao(){pe(xn),pe(Es),pe(Ts)}function Wy(t){Gr(Ts.current);var e=Gr(xn.current),n=ff(e,t.type);e!==n&&(de(Es,t),de(xn,n))}function hd(t){Es.current===t&&(pe(xn),pe(Es))}var be=ar(0);function vl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pd=[];function md(){for(var t=0;t<pd.length;t++)pd[t]._workInProgressVersionPrimary=null;pd.length=0}var bl=zn.ReactCurrentDispatcher,gd=zn.ReactCurrentBatchConfig,Yr=0,we=null,Pe=null,$e=null,wl=!1,Os=!1,Cs=0,rT=0;function it(){throw Error(_(321))}function yd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function vd(t,e,n,r,i,o){if(Yr=o,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bl.current=t===null||t.memoizedState===null?aT:lT,t=n(r,i),Os){o=0;do{if(Os=!1,Cs=0,25<=o)throw Error(_(301));o+=1,$e=Pe=null,e.updateQueue=null,bl.current=uT,t=n(r,i)}while(Os)}if(bl.current=Sl,e=Pe!==null&&Pe.next!==null,Yr=0,$e=Pe=we=null,wl=!1,e)throw Error(_(300));return t}function bd(){var t=Cs!==0;return Cs=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?we.memoizedState=$e=t:$e=$e.next=t,$e}function Ht(){if(Pe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=$e===null?we.memoizedState:$e.next;if(e!==null)$e=e,Pe=t;else{if(t===null)throw Error(_(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},$e===null?we.memoizedState=$e=t:$e=$e.next=t}return $e}function Ns(t,e){return typeof e=="function"?e(t):e}function wd(t){var e=Ht(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=Pe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Yr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,we.lanes|=c,Xr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,on(r,e.memoizedState)||(St=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,we.lanes|=o,Xr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kd(t){var e=Ht(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);on(o,e.memoizedState)||(St=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Ky(){}function Jy(t,e){var n=we,r=Ht(),i=e(),o=!on(r.memoizedState,i);if(o&&(r.memoizedState=i,St=!0),r=r.queue,xd(Xy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,_s(9,Yy.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(_(349));Yr&30||Gy(n,e,i)}return i}function Gy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yy(t,e,n,r){e.value=n,e.getSnapshot=r,Zy(e)&&ev(t)}function Xy(t,e,n){return n(function(){Zy(e)&&ev(t)})}function Zy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function ev(t){var e=Un(t,1);e!==null&&cn(e,t,1,-1)}function tv(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},e.queue=t,t=t.dispatch=sT.bind(null,we,t),[e.memoizedState,t]}function _s(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nv(){return Ht().memoizedState}function kl(t,e,n,r){var i=Sn();we.flags|=t,i.memoizedState=_s(1|e,n,void 0,r===void 0?null:r)}function xl(t,e,n,r){var i=Ht();r=r===void 0?null:r;var o=void 0;if(Pe!==null){var s=Pe.memoizedState;if(o=s.destroy,r!==null&&yd(r,s.deps)){i.memoizedState=_s(e,n,o,r);return}}we.flags|=t,i.memoizedState=_s(1|e,n,o,r)}function rv(t,e){return kl(8390656,8,t,e)}function xd(t,e){return xl(2048,8,t,e)}function iv(t,e){return xl(4,2,t,e)}function ov(t,e){return xl(4,4,t,e)}function sv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function av(t,e,n){return n=n!=null?n.concat([t]):null,xl(4,4,sv.bind(null,e,t),n)}function Sd(){}function lv(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uv(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cv(t,e,n){return Yr&21?(on(n,e)||(n=Lg(),we.lanes|=n,Xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=n)}function iT(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=gd.transition;gd.transition={};try{t(!1),e()}finally{le=n,gd.transition=r}}function fv(){return Ht().memoizedState}function oT(t,e,n){var r=mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dv(t))hv(e,n);else if(n=Ly(t,e,n,r),n!==null){var i=pt();cn(n,t,r,i),pv(n,e,r)}}function sT(t,e,n){var r=mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dv(t))hv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,on(a,s)){var l=e.interleaved;l===null?(i.next=i,ld(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ly(t,e,i,r),n!==null&&(i=pt(),cn(n,t,r,i),pv(n,e,r))}}function dv(t){var e=t.alternate;return t===we||e!==null&&e===we}function hv(t,e){Os=wl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sf(t,n)}}var Sl={readContext:Qt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},aT={readContext:Qt,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kl(4194308,4,sv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kl(4194308,4,t,e)},useInsertionEffect:function(t,e){return kl(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oT.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:tv,useDebugValue:Sd,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=tv(!1),e=t[0];return t=iT.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,i=Sn();if(ge){if(n===void 0)throw Error(_(407));n=n()}else{if(n=e(),qe===null)throw Error(_(349));Yr&30||Gy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rv(Xy.bind(null,r,o,t),[t]),r.flags|=2048,_s(9,Yy.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Sn(),e=qe.identifierPrefix;if(ge){var n=Bn,r=Vn;n=(r&~(1<<32-rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lT={readContext:Qt,useCallback:lv,useContext:Qt,useEffect:xd,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:ov,useMemo:uv,useReducer:wd,useRef:nv,useState:function(){return wd(Ns)},useDebugValue:Sd,useDeferredValue:function(t){var e=Ht();return cv(e,Pe.memoizedState,t)},useTransition:function(){var t=wd(Ns)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:Ky,useSyncExternalStore:Jy,useId:fv,unstable_isNewReconciler:!1},uT={readContext:Qt,useCallback:lv,useContext:Qt,useEffect:xd,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:ov,useMemo:uv,useReducer:kd,useRef:nv,useState:function(){return kd(Ns)},useDebugValue:Sd,useDeferredValue:function(t){var e=Ht();return Pe===null?e.memoizedState=t:cv(e,Pe.memoizedState,t)},useTransition:function(){var t=kd(Ns)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:Ky,useSyncExternalStore:Jy,useId:fv,unstable_isNewReconciler:!1};function lo(t,e){try{var n="",r=e;do n+=FS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ed(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Td(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cT=typeof WeakMap=="function"?WeakMap:Map;function mv(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ml||(Ml=!0,zd=r),Td(t,e)},n}function gv(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Td(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Td(t,e),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ET.bind(null,t,e,n),e.then(t,t))}function vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,fr(n,e,1))),n.lanes|=1),t)}var fT=zn.ReactCurrentOwner,St=!1;function ht(t,e,n,r){e.child=t===null?Hy(e,null,n,r):so(e,t.child,n,r)}function wv(t,e,n,r,i){n=n.render;var o=e.ref;return oo(e,i),r=vd(t,e,n,r,o,i),n=bd(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(ge&&n&&Zf(e),e.flags|=1,ht(t,e,r,i),e.child)}function kv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Hd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,xv(t,e,o,r,i)):(t=Ll(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ms,n(s,r)&&t.ref===e.ref)return Hn(t,e,i)}return e.flags|=1,t=yr(o,r),t.ref=e.ref,t.return=e,e.child=t}function xv(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ms(o,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,Hn(t,e,i)}return Od(t,e,n,r,i)}function Sv(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(co,Lt),Lt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(co,Lt),Lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(co,Lt),Lt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,de(co,Lt),Lt|=r;return ht(t,e,i,n),e.child}function Ev(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Od(t,e,n,r,i){var o=xt(n)?Hr:rt.current;return o=eo(e,o),oo(e,i),n=vd(t,e,n,r,o,i),r=bd(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(ge&&r&&Zf(e),e.flags|=1,ht(t,e,n,i),e.child)}function Tv(t,e,n,r,i){if(xt(n)){var o=!0;al(e)}else o=!1;if(oo(e,i),e.stateNode===null)Tl(t,e),Vy(e,n,r),fd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qt(u):(u=xt(n)?Hr:rt.current,u=eo(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&By(e,s,r,u),cr=!1;var d=e.memoizedState;s.state=d,ml(e,r,s,i),l=e.memoizedState,a!==r||d!==l||kt.current||cr?(typeof c=="function"&&(cd(e,n,c,r),l=e.memoizedState),(a=cr||qy(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Fy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:an(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qt(l):(l=xt(n)?Hr:rt.current,l=eo(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&By(e,s,r,l),cr=!1,d=e.memoizedState,s.state=d,ml(e,r,s,i);var g=e.memoizedState;a!==f||d!==g||kt.current||cr?(typeof h=="function"&&(cd(e,n,h,r),g=e.memoizedState),(u=cr||qy(e,n,u,r,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Cd(t,e,n,r,o,i)}function Cd(t,e,n,r,i,o){Ev(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&_y(e,n,!1),Hn(t,e,o);r=e.stateNode,fT.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=so(e,t.child,null,o),e.child=so(e,null,a,o)):ht(t,e,a,o),e.memoizedState=r.state,i&&_y(e,n,!0),e.child}function Ov(t){var e=t.stateNode;e.pendingContext?Cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cy(t,e.context,!1),dd(t,e.containerInfo)}function Cv(t,e,n,r,i){return ro(),rd(i),e.flags|=256,ht(t,e,n,r),e.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function _d(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nv(t,e,n){var r=e.pendingProps,i=be.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),de(be,i&1),t===null)return nd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Fl(s,r,0,null),t=ni(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=_d(n),e.memoizedState=Nd,t):Md(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dT(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=yr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=yr(a,o):(o=ni(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?_d(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Nd,r}return o=t.child,t=o.sibling,r=yr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Md(t,e){return e=Fl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function El(t,e,n,r){return r!==null&&rd(r),so(e,t.child,null,n),t=Md(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dT(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ed(Error(_(422))),El(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fl({mode:"visible",children:r.children},i,0,null),o=ni(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&so(e,t.child,null,s),e.child.memoizedState=_d(s),e.memoizedState=Nd,o);if(!(e.mode&1))return El(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(_(419)),r=Ed(o,r,void 0),El(t,e,s,r)}if(a=(s&t.childLanes)!==0,St||a){if(r=qe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Un(t,i),cn(r,t,i,-1))}return Qd(),r=Ed(Error(_(421))),El(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TT.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Pt=sr(i.nextSibling),Rt=e,ge=!0,sn=null,t!==null&&(Bt[Ut++]=Vn,Bt[Ut++]=Bn,Bt[Ut++]=Wr,Vn=t.id,Bn=t.overflow,Wr=e),e=Md(e,r.children),e.flags|=4096,e)}function _v(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ad(t.return,e,n)}function Id(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Mv(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ht(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_v(t,n,e);else if(t.tag===19)_v(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Id(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Id(e,!0,n,null,o);break;case"together":Id(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_(153));if(e.child!==null){for(t=e.child,n=yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hT(t,e,n){switch(e.tag){case 3:Ov(e),ro();break;case 5:Wy(e);break;case 1:xt(e.type)&&al(e);break;case 4:dd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;de(dl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?Nv(t,e,n):(de(be,be.current&1),t=Hn(t,e,n),t!==null?t.sibling:null);de(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Mv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,Sv(t,e,n)}return Hn(t,e,n)}var Iv,Ad,Av,Dv;Iv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ad=function(){},Av=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gr(xn.current);var o=null;switch(n){case"input":i=af(t,i),r=af(t,r),o=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":i=cf(t,i),r=cf(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=il)}df(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&he("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Dv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ms(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pT(t,e,n){var r=e.pendingProps;switch(ed(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return xt(e.type)&&sl(),ot(e),null;case 3:return r=e.stateNode,ao(),pe(kt),pe(rt),md(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(Vd(sn),sn=null))),Ad(t,e),ot(e),null;case 5:hd(e);var i=Gr(Ts.current);if(n=e.type,t!==null&&e.stateNode!=null)Av(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_(166));return ot(e),null}if(t=Gr(xn.current),fl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kn]=e,r[ws]=o,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<ys.length;i++)he(ys[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":dg(r,o),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},he("invalid",r);break;case"textarea":mg(r,o),he("invalid",r)}df(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&rl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&rl(r.textContent,a,t),i=["children",""+a]):Wo.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&he("scroll",r)}switch(n){case"input":Ra(r),pg(r,o,!0);break;case"textarea":Ra(r),yg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=il)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[kn]=e,t[ws]=r,Iv(t,e,!1,!1),e.stateNode=t;e:{switch(s=hf(n,r),n){case"dialog":he("cancel",t),he("close",t),i=r;break;case"iframe":case"object":case"embed":he("load",t),i=r;break;case"video":case"audio":for(i=0;i<ys.length;i++)he(ys[i],t);i=r;break;case"source":he("error",t),i=r;break;case"img":case"image":case"link":he("error",t),he("load",t),i=r;break;case"details":he("toggle",t),i=r;break;case"input":dg(t,r),i=af(t,r),he("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),he("invalid",t);break;case"textarea":mg(t,r),i=cf(t,r),he("invalid",t);break;default:i=r}df(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?kg(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bg(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yo(t,l):typeof l=="number"&&Yo(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&he("scroll",t):l!=null&&Jc(t,o,l,s))}switch(n){case"input":Ra(t),pg(t,r,!1);break;case"textarea":Ra(t),yg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Vi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Vi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)Dv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_(166));if(n=Gr(Ts.current),Gr(xn.current),fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(o=r.nodeValue!==n)&&(t=Rt,t!==null))switch(t.tag){case 3:rl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return ot(e),null;case 13:if(pe(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&Pt!==null&&e.mode&1&&!(e.flags&128))Py(),ro(),e.flags|=98560,o=!1;else if(o=fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(_(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_(317));o[kn]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),o=!1}else sn!==null&&(Vd(sn),sn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Le===0&&(Le=3):Qd())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return ao(),Ad(t,e),t===null&&vs(e.stateNode.containerInfo),ot(e),null;case 10:return sd(e.type._context),ot(e),null;case 17:return xt(e.type)&&sl(),ot(e),null;case 19:if(pe(be),o=e.memoizedState,o===null)return ot(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ms(o,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=vl(t),s!==null){for(e.flags|=128,Ms(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(be,be.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ne()>fo&&(e.flags|=128,r=!0,Ms(o,!1),e.lanes=4194304)}else{if(!r)if(t=vl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ms(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ge)return ot(e),null}else 2*Ne()-o.renderingStartTime>fo&&n!==1073741824&&(e.flags|=128,r=!0,Ms(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ne(),e.sibling=null,n=be.current,de(be,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return Ud(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Lt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(_(156,e.tag))}function mT(t,e){switch(ed(e),e.tag){case 1:return xt(e.type)&&sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ao(),pe(kt),pe(rt),md(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hd(e),null;case 13:if(pe(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(be),null;case 4:return ao(),null;case 10:return sd(e.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var Ol=!1,st=!1,gT=typeof WeakSet=="function"?WeakSet:Set,R=null;function uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function Rv(t,e,n){try{n()}catch(r){Se(t,e,r)}}var Pv=!1;function yT(t,e){if(Qf=Ha,t=fy(),Ff(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hf={focusedElem:t,selectionRange:n},Ha=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:an(e.type,v),b);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(w){Se(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return g=Pv,Pv=!1,g}function Is(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rv(e,n,o)}i=i.next}while(i!==r)}}function Cl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Lv(t){var e=t.alternate;e!==null&&(t.alternate=null,Lv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[ws],delete e[Gf],delete e[ZE],delete e[eT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Fv(t){return t.tag===5||t.tag===3||t.tag===4}function jv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=il));else if(r!==4&&(t=t.child,t!==null))for(Rd(t,e,n),t=t.sibling;t!==null;)Rd(t,e,n),t=t.sibling}function Pd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pd(t,e,n),t=t.sibling;t!==null;)Pd(t,e,n),t=t.sibling}var Je=null,ln=!1;function dr(t,e,n){for(n=n.child;n!==null;)zv(t,e,n),n=n.sibling}function zv(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount($a,n)}catch{}switch(n.tag){case 5:st||uo(n,e);case 6:var r=Je,i=ln;Je=null,dr(t,e,n),Je=r,ln=i,Je!==null&&(ln?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(ln?(t=Je,n=n.stateNode,t.nodeType===8?Jf(t.parentNode,n):t.nodeType===1&&Jf(t,n),us(t)):Jf(Je,n.stateNode));break;case 4:r=Je,i=ln,Je=n.stateNode.containerInfo,ln=!0,dr(t,e,n),Je=r,ln=i;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Rv(n,e,s),i=i.next}while(i!==r)}dr(t,e,n);break;case 1:if(!st&&(uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,e,a)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,dr(t,e,n),st=r):dr(t,e,n);break;default:dr(t,e,n)}}function $v(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gT),e.forEach(function(r){var i=OT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,ln=!1;break e;case 3:Je=a.stateNode.containerInfo,ln=!0;break e;case 4:Je=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(Je===null)throw Error(_(160));zv(o,s,i),Je=null,ln=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Se(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qv(e,t),e=e.sibling}function qv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),En(t),r&4){try{Is(3,t,t.return),Cl(3,t)}catch(v){Se(t,t.return,v)}try{Is(5,t,t.return)}catch(v){Se(t,t.return,v)}}break;case 1:un(e,t),En(t),r&512&&n!==null&&uo(n,n.return);break;case 5:if(un(e,t),En(t),r&512&&n!==null&&uo(n,n.return),t.flags&32){var i=t.stateNode;try{Yo(i,"")}catch(v){Se(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hg(i,o),hf(a,s);var u=hf(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?kg(i,f):c==="dangerouslySetInnerHTML"?bg(i,f):c==="children"?Yo(i,f):Jc(i,c,f,u)}switch(a){case"input":lf(i,o);break;case"textarea":gg(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Vi(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Vi(i,!!o.multiple,o.defaultValue,!0):Vi(i,!!o.multiple,o.multiple?[]:"",!1))}i[ws]=o}catch(v){Se(t,t.return,v)}}break;case 6:if(un(e,t),En(t),r&4){if(t.stateNode===null)throw Error(_(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Se(t,t.return,v)}}break;case 3:if(un(e,t),En(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{us(e.containerInfo)}catch(v){Se(t,t.return,v)}break;case 4:un(e,t),En(t);break;case 13:un(e,t),En(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(jd=Ne())),r&4&&$v(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(st=(u=st)||c,un(e,t),st=u):un(e,t),En(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(R=t,c=t.child;c!==null;){for(f=R=c;R!==null;){switch(d=R,h=d.child,d.tag){case 0:case 11:case 14:case 15:Is(4,d,d.return);break;case 1:uo(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Se(r,n,v)}}break;case 5:uo(d,d.return);break;case 22:if(d.memoizedState!==null){Uv(f);continue}}h!==null?(h.return=d,R=h):Uv(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wg("display",s))}catch(v){Se(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Se(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(e,t),En(t),r&4&&$v(t);break;case 21:break;default:un(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Fv(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yo(i,""),r.flags&=-33);var o=jv(t);Pd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=jv(t);Rd(t,a,s);break;default:throw Error(_(161))}}catch(l){Se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vT(t,e,n){R=t,Vv(t)}function Vv(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var i=R,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ol;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||st;a=Ol;var u=st;if(Ol=s,(st=l)&&!u)for(R=i;R!==null;)s=R,l=s.child,s.tag===22&&s.memoizedState!==null?Qv(i):l!==null?(l.return=s,R=l):Qv(i);for(;o!==null;)R=o,Vv(o),o=o.sibling;R=i,Ol=a,st=u}Bv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,R=o):Bv(t)}}function Bv(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Cl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&zy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zy(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&us(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}st||e.flags&512&&Dd(e)}catch(d){Se(e,e.return,d)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function Uv(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function Qv(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cl(4,e)}catch(l){Se(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Se(e,i,l)}}var o=e.return;try{Dd(e)}catch(l){Se(e,o,l)}break;case 5:var s=e.return;try{Dd(e)}catch(l){Se(e,s,l)}}}catch(l){Se(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var bT=Math.ceil,Nl=zn.ReactCurrentDispatcher,Ld=zn.ReactCurrentOwner,Wt=zn.ReactCurrentBatchConfig,te=0,qe=null,Me=null,Ge=0,Lt=0,co=ar(0),Le=0,As=null,Xr=0,_l=0,Fd=0,Ds=null,Et=null,jd=0,fo=1/0,Wn=null,Ml=!1,zd=null,hr=null,Il=!1,pr=null,Al=0,Rs=0,$d=null,Dl=-1,Rl=0;function pt(){return te&6?Ne():Dl!==-1?Dl:Dl=Ne()}function mr(t){return t.mode&1?te&2&&Ge!==0?Ge&-Ge:nT.transition!==null?(Rl===0&&(Rl=Lg()),Rl):(t=le,t!==0||(t=window.event,t=t===void 0?16:Qg(t.type)),t):1}function cn(t,e,n,r){if(50<Rs)throw Rs=0,$d=null,Error(_(185));rs(t,n,r),(!(te&2)||t!==qe)&&(t===qe&&(!(te&2)&&(_l|=n),Le===4&&gr(t,Ge)),Tt(t,r),n===1&&te===0&&!(e.mode&1)&&(fo=Ne()+500,ll&&ur()))}function Tt(t,e){var n=t.callbackNode;nE(t,e);var r=Ba(t,t===qe?Ge:0);if(r===0)n!==null&&Dg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dg(n),e===1)t.tag===0?tT(Wv.bind(null,t)):My(Wv.bind(null,t)),YE(function(){!(te&6)&&ur()}),n=null;else{switch(Fg(r)){case 1:n=wf;break;case 4:n=Rg;break;case 16:n=za;break;case 536870912:n=Pg;break;default:n=za}n=t0(n,Hv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Hv(t,e){if(Dl=-1,Rl=0,te&6)throw Error(_(327));var n=t.callbackNode;if(ho()&&t.callbackNode!==n)return null;var r=Ba(t,t===qe?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pl(t,r);else{e=r;var i=te;te|=2;var o=Jv();(qe!==t||Ge!==e)&&(Wn=null,fo=Ne()+500,ei(t,e));do try{xT();break}catch(a){Kv(t,a)}while(!0);od(),Nl.current=o,te=i,Me!==null?e=0:(qe=null,Ge=0,e=Le)}if(e!==0){if(e===2&&(i=kf(t),i!==0&&(r=i,e=qd(t,i))),e===1)throw n=As,ei(t,0),gr(t,r),Tt(t,Ne()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!wT(i)&&(e=Pl(t,r),e===2&&(o=kf(t),o!==0&&(r=o,e=qd(t,o))),e===1))throw n=As,ei(t,0),gr(t,r),Tt(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_(345));case 2:ti(t,Et,Wn);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=jd+500-Ne(),10<e)){if(Ba(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kf(ti.bind(null,t,Et,Wn),e);break}ti(t,Et,Wn);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-rn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bT(r/1960))-r,10<r){t.timeoutHandle=Kf(ti.bind(null,t,Et,Wn),r);break}ti(t,Et,Wn);break;case 5:ti(t,Et,Wn);break;default:throw Error(_(329))}}}return Tt(t,Ne()),t.callbackNode===n?Hv.bind(null,t):null}function qd(t,e){var n=Ds;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=Pl(t,e),t!==2&&(e=Et,Et=n,e!==null&&Vd(e)),t}function Vd(t){Et===null?Et=t:Et.push.apply(Et,t)}function wT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!on(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~Fd,e&=~_l,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rn(e),r=1<<n;t[n]=-1,e&=~r}}function Wv(t){if(te&6)throw Error(_(327));ho();var e=Ba(t,0);if(!(e&1))return Tt(t,Ne()),null;var n=Pl(t,e);if(t.tag!==0&&n===2){var r=kf(t);r!==0&&(e=r,n=qd(t,r))}if(n===1)throw n=As,ei(t,0),gr(t,e),Tt(t,Ne()),n;if(n===6)throw Error(_(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ti(t,Et,Wn),Tt(t,Ne()),null}function Bd(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(fo=Ne()+500,ll&&ur())}}function Zr(t){pr!==null&&pr.tag===0&&!(te&6)&&ho();var e=te;te|=1;var n=Wt.transition,r=le;try{if(Wt.transition=null,le=1,t)return t()}finally{le=r,Wt.transition=n,te=e,!(te&6)&&ur()}}function Ud(){Lt=co.current,pe(co)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GE(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(ed(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:ao(),pe(kt),pe(rt),md();break;case 5:hd(r);break;case 4:ao();break;case 13:pe(be);break;case 19:pe(be);break;case 10:sd(r.type._context);break;case 22:case 23:Ud()}n=n.return}if(qe=t,Me=t=yr(t.current,null),Ge=Lt=e,Le=0,As=null,Fd=_l=Xr=0,Et=Ds=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Jr=null}return t}function Kv(t,e){do{var n=Me;try{if(od(),bl.current=Sl,wl){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wl=!1}if(Yr=0,$e=Pe=we=null,Os=!1,Cs=0,Ld.current=null,n===null||n.return===null){Le=1,As=e,Me=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=vv(s);if(h!==null){h.flags&=-257,bv(h,s,a,o,e),h.mode&1&&yv(o,u,e),e=h,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){yv(o,u,e),Qd();break e}l=Error(_(426))}}else if(ge&&a.mode&1){var b=vv(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bv(b,s,a,o,e),rd(lo(l,a));break e}}o=l=lo(l,a),Le!==4&&(Le=2),Ds===null?Ds=[o]:Ds.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=mv(o,l,e);jy(o,p);break e;case 1:a=l;var m=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(hr===null||!hr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=gv(o,a,e);jy(o,w);break e}}o=o.return}while(o!==null)}Yv(n)}catch(k){e=k,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function Jv(){var t=Nl.current;return Nl.current=Sl,t===null?Sl:t}function Qd(){(Le===0||Le===3||Le===2)&&(Le=4),qe===null||!(Xr&268435455)&&!(_l&268435455)||gr(qe,Ge)}function Pl(t,e){var n=te;te|=2;var r=Jv();(qe!==t||Ge!==e)&&(Wn=null,ei(t,e));do try{kT();break}catch(i){Kv(t,i)}while(!0);if(od(),te=n,Nl.current=r,Me!==null)throw Error(_(261));return qe=null,Ge=0,Le}function kT(){for(;Me!==null;)Gv(Me)}function xT(){for(;Me!==null&&!WS();)Gv(Me)}function Gv(t){var e=e0(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,e===null?Yv(t):Me=e,Ld.current=null}function Yv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mT(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Me=null;return}}else if(n=pT(n,e,Lt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Le===0&&(Le=5)}function ti(t,e,n){var r=le,i=Wt.transition;try{Wt.transition=null,le=1,ST(t,e,n,r)}finally{Wt.transition=i,le=r}return null}function ST(t,e,n,r){do ho();while(pr!==null);if(te&6)throw Error(_(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(rE(t,o),t===qe&&(Me=qe=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Il||(Il=!0,t0(za,function(){return ho(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wt.transition,Wt.transition=null;var s=le;le=1;var a=te;te|=4,Ld.current=null,yT(t,n),qv(n,t),BE(Hf),Ha=!!Qf,Hf=Qf=null,t.current=n,vT(n),KS(),te=a,le=s,Wt.transition=o}else t.current=n;if(Il&&(Il=!1,pr=t,Al=i),o=t.pendingLanes,o===0&&(hr=null),YS(n.stateNode),Tt(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ml)throw Ml=!1,t=zd,zd=null,t;return Al&1&&t.tag!==0&&ho(),o=t.pendingLanes,o&1?t===$d?Rs++:(Rs=0,$d=t):Rs=0,ur(),null}function ho(){if(pr!==null){var t=Fg(Al),e=Wt.transition,n=le;try{if(Wt.transition=null,le=16>t?16:t,pr===null)var r=!1;else{if(t=pr,pr=null,Al=0,te&6)throw Error(_(331));var i=te;for(te|=4,R=t.current;R!==null;){var o=R,s=o.child;if(R.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:Is(8,c,o)}var f=c.child;if(f!==null)f.return=c,R=f;else for(;R!==null;){c=R;var d=c.sibling,h=c.return;if(Lv(c),c===u){R=null;break}if(d!==null){d.return=h,R=d;break}R=h}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}R=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,R=s;else e:for(;R!==null;){if(o=R,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Is(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,R=p;break e}R=o.return}}var m=t.current;for(R=m;R!==null;){s=R;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,R=y;else e:for(s=m;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cl(9,a)}}catch(k){Se(a,a.return,k)}if(a===s){R=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,R=w;break e}R=a.return}}if(te=i,ur(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot($a,t)}catch{}r=!0}return r}finally{le=n,Wt.transition=e}}return!1}function Xv(t,e,n){e=lo(n,e),e=mv(t,e,1),t=fr(t,e,1),e=pt(),t!==null&&(rs(t,1,e),Tt(t,e))}function Se(t,e,n){if(t.tag===3)Xv(t,t,n);else for(;e!==null;){if(e.tag===3){Xv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){t=lo(n,t),t=gv(e,t,1),e=fr(e,t,1),t=pt(),e!==null&&(rs(e,1,t),Tt(e,t));break}}e=e.return}}function ET(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pt(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Ge&n)===n&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>Ne()-jd?ei(t,0):Fd|=n),Tt(t,e)}function Zv(t,e){e===0&&(t.mode&1?(e=Va,Va<<=1,!(Va&130023424)&&(Va=4194304)):e=1);var n=pt();t=Un(t,e),t!==null&&(rs(t,e,n),Tt(t,n))}function TT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zv(t,n)}function OT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(e),Zv(t,n)}var e0;e0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kt.current)St=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return St=!1,hT(t,e,n);St=!!(t.flags&131072)}else St=!1,ge&&e.flags&1048576&&Iy(e,cl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tl(t,e),t=e.pendingProps;var i=eo(e,rt.current);oo(e,n),i=vd(null,e,r,t,i,n);var o=bd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(o=!0,al(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ud(e),i.updater=gl,e.stateNode=i,i._reactInternals=e,fd(e,r,t,n),e=Cd(null,e,r,!0,o,n)):(e.tag=0,ge&&o&&Zf(e),ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NT(r),t=an(r,t),i){case 0:e=Od(null,e,r,t,n);break e;case 1:e=Tv(null,e,r,t,n);break e;case 11:e=wv(null,e,r,t,n);break e;case 14:e=kv(null,e,r,an(r.type,t),n);break e}throw Error(_(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Od(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Tv(t,e,r,i,n);case 3:e:{if(Ov(e),t===null)throw Error(_(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Fy(t,e),ml(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=lo(Error(_(423)),e),e=Cv(t,e,r,n,i);break e}else if(r!==i){i=lo(Error(_(424)),e),e=Cv(t,e,r,n,i);break e}else for(Pt=sr(e.stateNode.containerInfo.firstChild),Rt=e,ge=!0,sn=null,n=Hy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===i){e=Hn(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return Wy(e),t===null&&nd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Wf(r,i)?s=null:o!==null&&Wf(r,o)&&(e.flags|=32),Ev(t,e),ht(t,e,s,n),e.child;case 6:return t===null&&nd(e),null;case 13:return Nv(t,e,n);case 4:return dd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=so(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),wv(t,e,r,i,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,de(dl,r._currentValue),r._currentValue=s,o!==null)if(on(o.value,s)){if(o.children===i.children&&!kt.current){e=Hn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ad(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(_(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),ad(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oo(e,n),i=Qt(i),r=r(i),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,i=an(r,e.pendingProps),i=an(r.type,i),kv(t,e,r,i,n);case 15:return xv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Tl(t,e),e.tag=1,xt(r)?(t=!0,al(e)):t=!1,oo(e,n),Vy(e,r,i),fd(e,r,i,n),Cd(null,e,r,!0,t,n);case 19:return Mv(t,e,n);case 22:return Sv(t,e,n)}throw Error(_(156,e.tag))};function t0(t,e){return Ag(t,e)}function CT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new CT(t,e,n,r)}function Hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NT(t){if(typeof t=="function")return Hd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xc)return 11;if(t===tf)return 14}return 2}function yr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ll(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Hd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case qi:return ni(n.children,i,o,e);case Gc:s=8,i|=8;break;case Yc:return t=Kt(12,n,e,i|2),t.elementType=Yc,t.lanes=o,t;case Zc:return t=Kt(13,n,e,i),t.elementType=Zc,t.lanes=o,t;case ef:return t=Kt(19,n,e,i),t.elementType=ef,t.lanes=o,t;case lg:return Fl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sg:s=10;break e;case ag:s=9;break e;case Xc:s=11;break e;case tf:s=14;break e;case Xn:s=16,r=null;break e}throw Error(_(130,t==null?t:typeof t,""))}return e=Kt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ni(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function Fl(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=lg,t.lanes=n,t.stateNode={isHidden:!1},t}function Wd(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Kd(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _T(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jd(t,e,n,r,i,o,s,a,l){return t=new _T(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(o),t}function MT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function n0(t){if(!t)return lr;t=t._reactInternals;e:{if(Ur(t)!==t||t.tag!==1)throw Error(_(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_(171))}if(t.tag===1){var n=t.type;if(xt(n))return Ny(t,n,e)}return e}function r0(t,e,n,r,i,o,s,a,l){return t=Jd(n,r,!0,t,i,o,s,a,l),t.context=n0(null),n=t.current,r=pt(),i=mr(n),o=Qn(r,i),o.callback=e??null,fr(n,o,i),t.current.lanes=i,rs(t,i,r),Tt(t,r),t}function jl(t,e,n,r){var i=e.current,o=pt(),s=mr(i);return n=n0(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fr(i,e,s),t!==null&&(cn(t,i,s,o),pl(t,i,s)),s}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gd(t,e){i0(t,e),(t=t.alternate)&&i0(t,e)}function IT(){return null}var o0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yd(t){this._internalRoot=t}$l.prototype.render=Yd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_(409));jl(t,e,null,null)},$l.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zr(function(){jl(null,t,null,null)}),e[$n]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var e=$g();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&Bg(t)}};function Xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function s0(){}function AT(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=zl(s);o.call(u)}}var s=r0(e,r,t,0,null,!1,!1,"",s0);return t._reactRootContainer=s,t[$n]=s.current,vs(t.nodeType===8?t.parentNode:t),Zr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zl(l);a.call(u)}}var l=Jd(t,0,!1,null,null,!1,!1,"",s0);return t._reactRootContainer=l,t[$n]=l.current,vs(t.nodeType===8?t.parentNode:t),Zr(function(){jl(e,l,n,r)}),l}function Vl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=zl(s);a.call(l)}}jl(e,s,t,i)}else s=AT(n,e,t,i,r);return zl(s)}jg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ns(e.pendingLanes);n!==0&&(Sf(e,n|1),Tt(e,Ne()),!(te&6)&&(fo=Ne()+500,ur()))}break;case 13:Zr(function(){var r=Un(t,1);if(r!==null){var i=pt();cn(r,t,1,i)}}),Gd(t,1)}},Ef=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=pt();cn(e,t,134217728,n)}Gd(t,134217728)}},zg=function(t){if(t.tag===13){var e=mr(t),n=Un(t,e);if(n!==null){var r=pt();cn(n,t,e,r)}Gd(t,e)}},$g=function(){return le},qg=function(t,e){var n=le;try{return le=t,e()}finally{le=n}},gf=function(t,e,n){switch(e){case"input":if(lf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ol(r);if(!i)throw Error(_(90));fg(r),lf(r,i)}}}break;case"textarea":gg(t,n);break;case"select":e=n.value,e!=null&&Vi(t,!!n.multiple,e,!1)}},Tg=Bd,Og=Zr;var DT={usingClientEntryPoint:!1,Events:[ks,Xi,ol,Sg,Eg,Bd]},Ps={findFiberByHostInstance:Qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},RT={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mg(t),t===null?null:t.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||IT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{$a=Bl.inject(RT),wn=Bl}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DT,It.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xd(e))throw Error(_(200));return MT(t,e,null,n)},It.createRoot=function(t,e){if(!Xd(t))throw Error(_(299));var n=!1,r="",i=o0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jd(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,vs(t.nodeType===8?t.parentNode:t),new Yd(e)},It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_(188)):(t=Object.keys(t).join(","),Error(_(268,t)));return t=Mg(e),t=t===null?null:t.stateNode,t},It.flushSync=function(t){return Zr(t)},It.hydrate=function(t,e,n){if(!ql(e))throw Error(_(200));return Vl(null,t,e,!0,n)},It.hydrateRoot=function(t,e,n){if(!Xd(t))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=o0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=r0(e,null,t,1,n??null,i,!1,o,s),t[$n]=e.current,vs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new $l(e)},It.render=function(t,e,n){if(!ql(e))throw Error(_(200));return Vl(null,t,e,!1,n)},It.unmountComponentAtNode=function(t){if(!ql(t))throw Error(_(40));return t._reactRootContainer?(Zr(function(){Vl(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1},It.unstable_batchedUpdates=Bd,It.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ql(n))throw Error(_(200));if(t==null||t._reactInternals===void 0)throw Error(_(38));return Vl(t,e,n,!1,r)},It.version="18.2.0-next-9e3b772b8-20220608";function a0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a0)}catch(t){console.error(t)}}a0(),Zm.exports=It;var PT=Zm.exports,l0=PT;Qc.createRoot=l0.createRoot,Qc.hydrateRoot=l0.hydrateRoot;var LT=Object.defineProperty,FT=(t,e,n)=>e in t?LT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ul=(t,e,n)=>(FT(t,typeof e!="symbol"?e+"":e,n),n);const jT={stringify:t=>t,parse:t=>t},zT={stringify:t=>`${t}`,parse:t=>parseFloat(t)},$T={stringify:t=>t?"true":"false",parse:t=>/^[ty1-9]/i.test(t)},qT={stringify:t=>t.name,parse:(t,e)=>{const n=(()=>{if(typeof window<"u"&&t in window)return window[t];if(typeof global<"u"&&t in global)return global[t]})();return typeof n=="function"?n.bind(e):void 0}},VT={stringify:t=>JSON.stringify(t),parse:t=>JSON.parse(t)},Zd={string:jT,number:zT,boolean:$T,function:qT,json:VT},eh=Symbol.for("r2wc.render"),Ql=Symbol.for("r2wc.connected"),ri=Symbol.for("r2wc.context"),vr=Symbol.for("r2wc.props");function BT(t,e,n){var r,i,o;e.props||(e.props=t.propTypes?Object.keys(t.propTypes):[]);const s=(Array.isArray(e.props)?e.props.slice():Object.keys(e.props)).filter(f=>f!=="container"),a={},l={},u={};for(const f of s){a[f]=Array.isArray(e.props)?"string":e.props[f];const d=UT(f);l[f]=d,u[d]=f}class c extends HTMLElement{constructor(){super(),Ul(this,r,!0),Ul(this,i),Ul(this,o,{}),Ul(this,"container"),e.shadow?this.container=this.attachShadow({mode:e.shadow}):this.container=this,this[vr].container=this.container;for(const d of s){const h=l[d],g=this.getAttribute(h),v=a[d],b=Zd[v];g&&b!=null&&b.parse&&(this[vr][d]=b.parse(g,this))}}static get observedAttributes(){return Object.keys(u)}connectedCallback(){this[Ql]=!0,this[eh]()}disconnectedCallback(){this[Ql]=!1,this[ri]&&n.unmount(this[ri]),delete this[ri]}attributeChangedCallback(d,h,g){const v=u[d],b=a[v],p=Zd[b];v in a&&p!=null&&p.parse&&(this[vr][v]=p.parse(g,this),this[eh]())}[(r=Ql,i=ri,o=vr,eh)](){this[Ql]&&(this[ri]?n.update(this[ri],this[vr]):this[ri]=n.mount(this.container,t,this[vr]))}}for(const f of s){const d=l[f],h=a[f];Object.defineProperty(c.prototype,f,{enumerable:!0,configurable:!0,get(){return this[vr][f]},set(g){this[vr][f]=g;const v=Zd[h];if(v!=null&&v.stringify){const b=v.stringify(g);this.getAttribute(d)!==b&&this.setAttribute(d,b)}}})}return c}function UT(t=""){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function QT(t,e,n,r={}){function i(a,l,u){const c=e.createElement(l,u);if("createRoot"in n){const f=n.createRoot(a);return f.render(c),{container:a,root:f,ReactComponent:l}}if("render"in n)return n.render(c,a),{container:a,ReactComponent:l};throw new Error("Invalid ReactDOM instance provided.")}function o({container:a,root:l,ReactComponent:u},c){const f=e.createElement(u,c);if(l){l.render(f);return}if("render"in n){n.render(f,a);return}}function s({container:a,root:l}){if(l){l.unmount();return}if("unmountComponentAtNode"in n){n.unmountComponentAtNode(a);return}}return BT(t,r,{mount:i,unmount:s,update:o})}var u0={exports:{}},Hl={};/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var HT=wt,WT=Symbol.for("react.element"),KT=Symbol.for("react.fragment"),JT=Object.prototype.hasOwnProperty,GT=HT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YT={key:!0,ref:!0,__self:!0,__source:!0};function c0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)JT.call(e,r)&&!YT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WT,type:t,key:o,ref:s,props:i,_owner:GT.current}}Hl.Fragment=KT,Hl.jsx=c0,Hl.jsxs=c0,u0.exports=Hl;var W=u0.exports,th=function(t,e){return th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},th(t,e)};function Tn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");th(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var S=function(){return S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},S.apply(this,arguments)};function On(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function br(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function wr(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function fn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var nh="Invariant Violation",f0=Object.setPrototypeOf,XT=f0===void 0?function(t,e){return t.__proto__=e,t}:f0,d0=function(t){Tn(e,t);function e(n){n===void 0&&(n=nh);var r=t.call(this,typeof n=="number"?nh+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=nh,XT(r,e.prototype),r}return e}(Error);function ii(t,e){if(!t)throw new d0(e)}var h0=["debug","log","warn","error","silent"],ZT=h0.indexOf("log");function Wl(t){return function(){if(h0.indexOf(t)>=ZT){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=Wl("debug"),t.log=Wl("log"),t.warn=Wl("warn"),t.error=Wl("error")})(ii||(ii={}));var rh="3.9.7";function dn(t){try{return t()}catch{}}const ih=dn(function(){return globalThis})||dn(function(){return window})||dn(function(){return self})||dn(function(){return global})||dn(function(){return dn.constructor("return this")()});var p0=new Map;function oh(t){var e=p0.get(t)||1;return p0.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function m0(t,e){e===void 0&&(e=0);var n=oh("stringifyForDisplay");return JSON.stringify(t,function(r,i){return i===void 0?n:i},e).split(JSON.stringify(n)).join("<undefined>")}function Kl(t){return function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof e=="number"){var i=e;e=sh(i),e||(e=ah(i,n),n=[])}t.apply(void 0,[e].concat(n))}}var q=Object.assign(function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t||ii(t,sh(e,n)||ah(e,n))},{debug:Kl(ii.debug),log:Kl(ii.log),warn:Kl(ii.warn),error:Kl(ii.error)});function mt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new d0(sh(t,e)||ah(t,e))}var g0=Symbol.for("ApolloErrorMessageHandler_"+rh);function y0(t){return typeof t=="string"?t:m0(t,2).slice(0,1e3)}function sh(t,e){if(e===void 0&&(e=[]),!!t)return ih[g0]&&ih[g0](t,e.map(y0))}function ah(t,e){if(e===void 0&&(e=[]),!!t)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:rh,message:t,args:e.map(y0)})))}function Jl(t,e){if(!t)throw new Error(e)}function eO(t){return typeof t=="object"&&t!==null}function tO(t,e){if(!t)throw new Error(e??"Unexpected invariant triggered.")}const nO=/\r\n|[\n\r]/g;function lh(t,e){let n=0,r=1;for(const i of t.body.matchAll(nO)){if(typeof i.index=="number"||tO(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function rO(t){return v0(t.source,lh(t.source,t.start))}function v0(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,o=t.locationOffset.line-1,s=e.line+o,a=e.line===1?n:0,l=e.column+a,u=`${t.name}:${s}:${l}
`,c=r.split(/\r\n|[\n\r]/g),f=c[i];if(f.length>120){const d=Math.floor(l/80),h=l%80,g=[];for(let v=0;v<f.length;v+=80)g.push(f.slice(v,v+80));return u+b0([[`${s} |`,g[0]],...g.slice(1,d+1).map(v=>["|",v]),["|","^".padStart(h)],["|",g[d+1]]])}return u+b0([[`${s-1} |`,c[i-1]],[`${s} |`,f],["|","^".padStart(l)],[`${s+1} |`,c[i+1]]])}function b0(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function iO(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class uh extends Error{constructor(e,...n){var r,i,o;const{nodes:s,source:a,positions:l,path:u,originalError:c,extensions:f}=iO(n);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=w0(Array.isArray(s)?s:s?[s]:void 0);const d=w0((r=this.nodes)===null||r===void 0?void 0:r.map(g=>g.loc).filter(g=>g!=null));this.source=a??(d==null||(i=d[0])===null||i===void 0?void 0:i.source),this.positions=l??(d==null?void 0:d.map(g=>g.start)),this.locations=l&&a?l.map(g=>lh(a,g)):d==null?void 0:d.map(g=>lh(g.source,g.start));const h=eO(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(o=f??h)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,uh):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+rO(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+v0(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function w0(t){return t===void 0||t.length===0?void 0:t}function Ve(t,e,n){return new uh(`Syntax Error: ${n}`,{source:t,positions:[e]})}class oO{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}let k0=class{constructor(t,e,n,r,i,o){this.kind=t,this.start=e,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}};const x0={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},sO=new Set(Object.keys(x0));function S0(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&sO.has(e)}var po;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(po||(po={}));var ch;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(ch||(ch={}));var P;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(P||(P={}));function fh(t){return t===9||t===32}function Ls(t){return t>=48&&t<=57}function E0(t){return t>=97&&t<=122||t>=65&&t<=90}function T0(t){return E0(t)||t===95}function aO(t){return E0(t)||Ls(t)||t===95}function lO(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<t.length;++s){var o;const a=t[s],l=uO(a);l!==a.length&&(r=(o=r)!==null&&o!==void 0?o:s,i=s,s!==0&&l<n&&(n=l))}return t.map((s,a)=>a===0?s:s.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function uO(t){let e=0;for(;e<t.length&&fh(t.charCodeAt(e));)++e;return e}function cO(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,o=r.length>1&&r.slice(1).every(h=>h.length===0||fh(h.charCodeAt(0))),s=n.endsWith('\\"""'),a=t.endsWith('"')&&!s,l=t.endsWith("\\"),u=a||l,c=!(e!=null&&e.minimize)&&(!i||t.length>70||u||o||s);let f="";const d=i&&fh(t.charCodeAt(0));return(c&&!d||o)&&(f+=`
`),f+=n,(c||u)&&(f+=`
`),'"""'+f+'"""'}var O;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(O||(O={}));class fO{constructor(e){const n=new k0(O.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==O.EOF)do if(e.next)e=e.next;else{const n=hO(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===O.COMMENT);return e}}function dO(t){return t===O.BANG||t===O.DOLLAR||t===O.AMP||t===O.PAREN_L||t===O.PAREN_R||t===O.SPREAD||t===O.COLON||t===O.EQUALS||t===O.AT||t===O.BRACKET_L||t===O.BRACKET_R||t===O.BRACE_L||t===O.PIPE||t===O.BRACE_R}function mo(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function Gl(t,e){return O0(t.charCodeAt(e))&&C0(t.charCodeAt(e+1))}function O0(t){return t>=55296&&t<=56319}function C0(t){return t>=56320&&t<=57343}function oi(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return O.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Ie(t,e,n,r,i){const o=t.line,s=1+n-t.lineStart;return new k0(e,n,r,o,s,i)}function hO(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const o=n.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return pO(t,i);case 33:return Ie(t,O.BANG,i,i+1);case 36:return Ie(t,O.DOLLAR,i,i+1);case 38:return Ie(t,O.AMP,i,i+1);case 40:return Ie(t,O.PAREN_L,i,i+1);case 41:return Ie(t,O.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return Ie(t,O.SPREAD,i,i+3);break;case 58:return Ie(t,O.COLON,i,i+1);case 61:return Ie(t,O.EQUALS,i,i+1);case 64:return Ie(t,O.AT,i,i+1);case 91:return Ie(t,O.BRACKET_L,i,i+1);case 93:return Ie(t,O.BRACKET_R,i,i+1);case 123:return Ie(t,O.BRACE_L,i,i+1);case 124:return Ie(t,O.PIPE,i,i+1);case 125:return Ie(t,O.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?wO(t,i):gO(t,i)}if(Ls(o)||o===45)return mO(t,i,o);if(T0(o))return kO(t,i);throw Ve(t.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:mo(o)||Gl(n,i)?`Unexpected character: ${oi(t,i)}.`:`Invalid character: ${oi(t,i)}.`)}return Ie(t,O.EOF,r,r)}function pO(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const o=n.charCodeAt(i);if(o===10||o===13)break;if(mo(o))++i;else if(Gl(n,i))i+=2;else break}return Ie(t,O.COMMENT,e,i,n.slice(e+1,i))}function mO(t,e,n){const r=t.source.body;let i=e,o=n,s=!1;if(o===45&&(o=r.charCodeAt(++i)),o===48){if(o=r.charCodeAt(++i),Ls(o))throw Ve(t.source,i,`Invalid number, unexpected digit after 0: ${oi(t,i)}.`)}else i=dh(t,i,o),o=r.charCodeAt(i);if(o===46&&(s=!0,o=r.charCodeAt(++i),i=dh(t,i,o),o=r.charCodeAt(i)),(o===69||o===101)&&(s=!0,o=r.charCodeAt(++i),(o===43||o===45)&&(o=r.charCodeAt(++i)),i=dh(t,i,o),o=r.charCodeAt(i)),o===46||T0(o))throw Ve(t.source,i,`Invalid number, expected digit but got: ${oi(t,i)}.`);return Ie(t,s?O.FLOAT:O.INT,e,i,r.slice(e,i))}function dh(t,e,n){if(!Ls(n))throw Ve(t.source,e,`Invalid number, expected digit but got: ${oi(t,e)}.`);const r=t.source.body;let i=e+1;for(;Ls(r.charCodeAt(i));)++i;return i}function gO(t,e){const n=t.source.body,r=n.length;let i=e+1,o=i,s="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return s+=n.slice(o,i),Ie(t,O.STRING,e,i+1,s);if(a===92){s+=n.slice(o,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?yO(t,i):vO(t,i):bO(t,i);s+=l.value,i+=l.size,o=i;continue}if(a===10||a===13)break;if(mo(a))++i;else if(Gl(n,i))i+=2;else throw Ve(t.source,i,`Invalid character within String: ${oi(t,i)}.`)}throw Ve(t.source,i,"Unterminated string.")}function yO(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const o=n.charCodeAt(e+i++);if(o===125){if(i<5||!mo(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Fs(o),r<0)break}throw Ve(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function vO(t,e){const n=t.source.body,r=N0(n,e+2);if(mo(r))return{value:String.fromCodePoint(r),size:6};if(O0(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=N0(n,e+8);if(C0(i))return{value:String.fromCodePoint(r,i),size:12}}throw Ve(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function N0(t,e){return Fs(t.charCodeAt(e))<<12|Fs(t.charCodeAt(e+1))<<8|Fs(t.charCodeAt(e+2))<<4|Fs(t.charCodeAt(e+3))}function Fs(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function bO(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Ve(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function wO(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,o=e+3,s=o,a="";const l=[];for(;o<r;){const u=n.charCodeAt(o);if(u===34&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34){a+=n.slice(s,o),l.push(a);const c=Ie(t,O.BLOCK_STRING,e,o+3,lO(l).join(`
`));return t.line+=l.length-1,t.lineStart=i,c}if(u===92&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34&&n.charCodeAt(o+3)===34){a+=n.slice(s,o),s=o+1,o+=4;continue}if(u===10||u===13){a+=n.slice(s,o),l.push(a),u===13&&n.charCodeAt(o+1)===10?o+=2:++o,a="",s=o,i=o;continue}if(mo(u))++o;else if(Gl(n,o))o+=2;else throw Ve(t.source,o,`Invalid character within String: ${oi(t,o)}.`)}throw Ve(t.source,o,"Unterminated string.")}function kO(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const o=n.charCodeAt(i);if(aO(o))++i;else break}return Ie(t,O.NAME,e,i,n.slice(e,i))}const xO=10,_0=2;function hh(t){return Yl(t,[])}function Yl(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return SO(t,e);default:return String(t)}}function SO(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(EO(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:Yl(r,n)}else if(Array.isArray(t))return OO(t,n);return TO(t,n)}function EO(t){return typeof t.toJSON=="function"}function TO(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>_0?"["+CO(t)+"]":"{ "+n.map(([r,i])=>r+": "+Yl(i,e)).join(", ")+" }"}function OO(t,e){if(t.length===0)return"[]";if(e.length>_0)return"[Array]";const n=Math.min(xO,t.length),r=t.length-n,i=[];for(let o=0;o<n;++o)i.push(Yl(t[o],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function CO(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const NO=globalThis.process?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;if(typeof t=="object"&&t!==null){var n;const r=e.prototype[Symbol.toStringTag],i=Symbol.toStringTag in t?t[Symbol.toStringTag]:(n=t.constructor)===null||n===void 0?void 0:n.name;if(r===i){const o=hh(t);throw new Error(`Cannot use ${r} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class M0{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||Jl(!1,`Body must be a string. Received: ${hh(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||Jl(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Jl(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function _O(t){return NO(t,M0)}function MO(t,e){return new IO(t,e).parseDocument()}let IO=class{constructor(t,e={}){const n=_O(t)?t:new M0(t);this._lexer=new fO(n),this._options=e,this._tokenCounter=0}parseName(){const t=this.expectToken(O.NAME);return this.node(t,{kind:P.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:P.DOCUMENT,definitions:this.many(O.SOF,this.parseDefinition,O.EOF)})}parseDefinition(){if(this.peek(O.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),e=t?this._lexer.lookahead():this._lexer.token;if(e.kind===O.NAME){switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Ve(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(e.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(e)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(O.BRACE_L))return this.node(t,{kind:P.OPERATION_DEFINITION,operation:po.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const e=this.parseOperationType();let n;return this.peek(O.NAME)&&(n=this.parseName()),this.node(t,{kind:P.OPERATION_DEFINITION,operation:e,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(O.NAME);switch(t.value){case"query":return po.QUERY;case"mutation":return po.MUTATION;case"subscription":return po.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(O.PAREN_L,this.parseVariableDefinition,O.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:P.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(O.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(O.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(O.DOLLAR),this.node(t,{kind:P.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:P.SELECTION_SET,selections:this.many(O.BRACE_L,this.parseSelection,O.BRACE_R)})}parseSelection(){return this.peek(O.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,e=this.parseName();let n,r;return this.expectOptionalToken(O.COLON)?(n=e,r=this.parseName()):r=e,this.node(t,{kind:P.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(O.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const e=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(O.PAREN_L,e,O.PAREN_R)}parseArgument(t=!1){const e=this._lexer.token,n=this.parseName();return this.expectToken(O.COLON),this.node(e,{kind:P.ARGUMENT,name:n,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(O.SPREAD);const e=this.expectOptionalKeyword("on");return!e&&this.peek(O.NAME)?this.node(t,{kind:P.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:P.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:P.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:P.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const e=this._lexer.token;switch(e.kind){case O.BRACKET_L:return this.parseList(t);case O.BRACE_L:return this.parseObject(t);case O.INT:return this.advanceLexer(),this.node(e,{kind:P.INT,value:e.value});case O.FLOAT:return this.advanceLexer(),this.node(e,{kind:P.FLOAT,value:e.value});case O.STRING:case O.BLOCK_STRING:return this.parseStringLiteral();case O.NAME:switch(this.advanceLexer(),e.value){case"true":return this.node(e,{kind:P.BOOLEAN,value:!0});case"false":return this.node(e,{kind:P.BOOLEAN,value:!1});case"null":return this.node(e,{kind:P.NULL});default:return this.node(e,{kind:P.ENUM,value:e.value})}case O.DOLLAR:if(t)if(this.expectToken(O.DOLLAR),this._lexer.token.kind===O.NAME){const n=this._lexer.token.value;throw Ve(this._lexer.source,e.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(e);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:P.STRING,value:t.value,block:t.kind===O.BLOCK_STRING})}parseList(t){const e=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:P.LIST,values:this.any(O.BRACKET_L,e,O.BRACKET_R)})}parseObject(t){const e=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:P.OBJECT,fields:this.any(O.BRACE_L,e,O.BRACE_R)})}parseObjectField(t){const e=this._lexer.token,n=this.parseName();return this.expectToken(O.COLON),this.node(e,{kind:P.OBJECT_FIELD,name:n,value:this.parseValueLiteral(t)})}parseDirectives(t){const e=[];for(;this.peek(O.AT);)e.push(this.parseDirective(t));return e}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const e=this._lexer.token;return this.expectToken(O.AT),this.node(e,{kind:P.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let e;if(this.expectOptionalToken(O.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(O.BRACKET_R),e=this.node(t,{kind:P.LIST_TYPE,type:n})}else e=this.parseNamedType();return this.expectOptionalToken(O.BANG)?this.node(t,{kind:P.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:P.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(O.STRING)||this.peek(O.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(O.BRACE_L,this.parseOperationTypeDefinition,O.BRACE_R);return this.node(t,{kind:P.SCHEMA_DEFINITION,description:e,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,e=this.parseOperationType();this.expectToken(O.COLON);const n=this.parseNamedType();return this.node(t,{kind:P.OPERATION_TYPE_DEFINITION,operation:e,type:n})}parseScalarTypeDefinition(){const t=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:P.SCALAR_TYPE_DEFINITION,description:e,name:n,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:P.OBJECT_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(O.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(O.BRACE_L,this.parseFieldDefinition,O.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,e=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(O.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(t,{kind:P.FIELD_DEFINITION,description:e,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(O.PAREN_L,this.parseInputValueDef,O.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,e=this.parseDescription(),n=this.parseName();this.expectToken(O.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(O.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(t,{kind:P.INPUT_VALUE_DEFINITION,description:e,name:n,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const t=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(t,{kind:P.INTERFACE_TYPE_DEFINITION,description:e,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const t=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(t,{kind:P.UNION_TYPE_DEFINITION,description:e,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(O.EQUALS)?this.delimitedMany(O.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(t,{kind:P.ENUM_TYPE_DEFINITION,description:e,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(O.BRACE_L,this.parseEnumValueDefinition,O.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,e=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:P.ENUM_VALUE_DEFINITION,description:e,name:n,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Ve(this._lexer.source,this._lexer.token.start,`${Xl(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(t,{kind:P.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(O.BRACE_L,this.parseInputValueDef,O.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===O.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const e=this.parseConstDirectives(),n=this.optionalMany(O.BRACE_L,this.parseOperationTypeDefinition,O.BRACE_R);if(e.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:P.SCHEMA_EXTENSION,directives:e,operationTypes:n})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const e=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(t,{kind:P.SCALAR_TYPE_EXTENSION,name:e,directives:n})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:P.OBJECT_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const e=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&r.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:P.INTERFACE_TYPE_EXTENSION,name:e,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const e=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:P.UNION_TYPE_EXTENSION,name:e,directives:n,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const e=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:P.ENUM_TYPE_EXTENSION,name:e,directives:n,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const e=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:P.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:n,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken(O.AT);const n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(t,{kind:P.DIRECTIVE_DEFINITION,description:e,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(O.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,e=this.parseName();if(Object.prototype.hasOwnProperty.call(ch,e.value))return e;throw this.unexpected(t)}node(t,e){return this._options.noLocation!==!0&&(e.loc=new oO(t,this._lexer.lastToken,this._lexer.source)),e}peek(t){return this._lexer.token.kind===t}expectToken(t){const e=this._lexer.token;if(e.kind===t)return this.advanceLexer(),e;throw Ve(this._lexer.source,e.start,`Expected ${I0(t)}, found ${Xl(e)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const e=this._lexer.token;if(e.kind===O.NAME&&e.value===t)this.advanceLexer();else throw Ve(this._lexer.source,e.start,`Expected "${t}", found ${Xl(e)}.`)}expectOptionalKeyword(t){const e=this._lexer.token;return e.kind===O.NAME&&e.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const e=t??this._lexer.token;return Ve(this._lexer.source,e.start,`Unexpected ${Xl(e)}.`)}any(t,e,n){this.expectToken(t);const r=[];for(;!this.expectOptionalToken(n);)r.push(e.call(this));return r}optionalMany(t,e,n){if(this.expectOptionalToken(t)){const r=[];do r.push(e.call(this));while(!this.expectOptionalToken(n));return r}return[]}many(t,e,n){this.expectToken(t);const r=[];do r.push(e.call(this));while(!this.expectOptionalToken(n));return r}delimitedMany(t,e){this.expectOptionalToken(t);const n=[];do n.push(e.call(this));while(this.expectOptionalToken(t));return n}advanceLexer(){const{maxTokens:t}=this._options,e=this._lexer.advance();if(t!==void 0&&e.kind!==O.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw Ve(this._lexer.source,e.start,`Document contains more that ${t} tokens. Parsing aborted.`)}};function Xl(t){const e=t.value;return I0(t.kind)+(e!=null?` "${e}"`:"")}function I0(t){return dO(t)?`"${t}"`:t}function AO(t){return`"${t.replace(DO,RO)}"`}const DO=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function RO(t){return PO[t.charCodeAt(0)]}const PO=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],ph=Object.freeze({});function Kn(t,e,n=x0){const r=new Map;for(const p of Object.values(P))r.set(p,LO(e,p));let i,o=Array.isArray(t),s=[t],a=-1,l=[],u=t,c,f;const d=[],h=[];do{a++;const p=a===s.length,m=p&&l.length!==0;if(p){if(c=h.length===0?void 0:d[d.length-1],u=f,f=h.pop(),m)if(o){u=u.slice();let w=0;for(const[k,x]of l){const E=k-w;x===null?(u.splice(E,1),w++):u[E]=x}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[w,k]of l)u[w]=k}a=i.index,s=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(f){if(c=o?a:s[a],u=f[c],u==null)continue;d.push(c)}let y;if(!Array.isArray(u)){var g,v;S0(u)||Jl(!1,`Invalid AST Node: ${hh(u)}.`);const w=p?(g=r.get(u.kind))===null||g===void 0?void 0:g.leave:(v=r.get(u.kind))===null||v===void 0?void 0:v.enter;if(y=w==null?void 0:w.call(e,u,c,f,d,h),y===ph)break;if(y===!1){if(!p){d.pop();continue}}else if(y!==void 0&&(l.push([c,y]),!p))if(S0(y))u=y;else{d.pop();continue}}if(y===void 0&&m&&l.push([c,u]),p)d.pop();else{var b;i={inArray:o,index:a,keys:s,edits:l,prev:i},o=Array.isArray(u),s=o?u:(b=n[u.kind])!==null&&b!==void 0?b:[],a=-1,l=[],f&&h.push(f),f=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function LO(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function FO(t){return Kn(t,zO)}const jO=80,zO={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>L(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Z("(",L(t.variableDefinitions,", "),")"),n=L([t.operation,L([t.name,e]),L(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+Z(" = ",n)+Z(" ",L(r," "))},SelectionSet:{leave:({selections:t})=>hn(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const o=Z("",t,": ")+e;let s=o+Z("(",L(n,", "),")");return s.length>jO&&(s=o+Z(`(
`,Zl(L(n,`
`)),`
)`)),L([s,L(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Z(" ",L(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>L(["...",Z("on ",t),L(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${Z("(",L(n,", "),")")} on ${e} ${Z("",L(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?cO(t):AO(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+L(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+L(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Z("(",L(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>Z("",t,`
`)+L(["schema",L(e," "),hn(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>Z("",t,`
`)+L(["scalar",e,L(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Z("",t,`
`)+L(["type",e,Z("implements ",L(n," & ")),L(r," "),hn(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>Z("",t,`
`)+e+(A0(n)?Z(`(
`,Zl(L(n,`
`)),`
)`):Z("(",L(n,", "),")"))+": "+r+Z(" ",L(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>Z("",t,`
`)+L([e+": "+n,Z("= ",r),L(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Z("",t,`
`)+L(["interface",e,Z("implements ",L(n," & ")),L(r," "),hn(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>Z("",t,`
`)+L(["union",e,L(n," "),Z("= ",L(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>Z("",t,`
`)+L(["enum",e,L(n," "),hn(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>Z("",t,`
`)+L([e,L(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>Z("",t,`
`)+L(["input",e,L(n," "),hn(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>Z("",t,`
`)+"directive @"+e+(A0(n)?Z(`(
`,Zl(L(n,`
`)),`
)`):Z("(",L(n,", "),")"))+(r?" repeatable":"")+" on "+L(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>L(["extend schema",L(t," "),hn(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>L(["extend scalar",t,L(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>L(["extend type",t,Z("implements ",L(e," & ")),L(n," "),hn(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>L(["extend interface",t,Z("implements ",L(e," & ")),L(n," "),hn(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>L(["extend union",t,L(e," "),Z("= ",L(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>L(["extend enum",t,L(e," "),hn(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>L(["extend input",t,L(e," "),hn(n)]," ")}};function L(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function hn(t){return Z(`{
`,Zl(L(t,`
`)),`
}`)}function Z(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function Zl(t){return Z("  ",t.replace(/\n/g,`
  `))}function A0(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}function D0(t){return t.kind===P.FIELD||t.kind===P.FRAGMENT_SPREAD||t.kind===P.INLINE_FRAGMENT}function js(t,e){var n=t.directives;return!n||!n.length?!0:VO(n).every(function(r){var i=r.directive,o=r.ifArgument,s=!1;return o.value.kind==="Variable"?(s=e&&e[o.value.name.value],q(s!==void 0,67,i.name.value)):s=o.value.value,i.name.value==="skip"?!s:s})}function zs(t,e,n){var r=new Set(t),i=r.size;return Kn(e,{Directive:function(o){if(r.delete(o.name.value)&&(!n||!r.size))return ph}}),n?!r.size:r.size<i}function $O(t){return t&&zs(["client","export"],t,!0)}function qO(t){var e=t.name.value;return e==="skip"||e==="include"}function VO(t){var e=[];return t&&t.length&&t.forEach(function(n){if(qO(n)){var r=n.arguments,i=n.name.value;q(r&&r.length===1,68,i);var o=r[0];q(o.name&&o.name.value==="if",69,i);var s=o.value;q(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),70,i),e.push({directive:n,ifArgument:o})}}),e}const BO=()=>Object.create(null),{forEach:UO,slice:R0}=Array.prototype,{hasOwnProperty:QO}=Object.prototype;let go=class pS{constructor(e=!0,n=BO){this.weakness=e,this.makeData=n}lookup(){return this.lookupArray(arguments)}lookupArray(e){let n=this;return UO.call(e,r=>n=n.getChildTrie(r)),QO.call(n,"data")?n.data:n.data=this.makeData(R0.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let n=this;for(let r=0,i=e.length;n&&r<i;++r){const o=n.mapFor(e[r],!1);n=o&&o.get(e[r])}return n&&n.data}remove(){return this.removeArray(arguments)}removeArray(e){let n;if(e.length){const r=e[0],i=this.mapFor(r,!1),o=i&&i.get(r);o&&(n=o.removeArray(R0.call(e,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&i.delete(r))}else n=this.data,delete this.data;return n}getChildTrie(e){const n=this.mapFor(e,!0);let r=n.get(e);return r||n.set(e,r=new pS(this.weakness,this.makeData)),r}mapFor(e,n){return this.weakness&&HO(e)?this.weak||(n?this.weak=new WeakMap:void 0):this.strong||(n?this.strong=new Map:void 0)}};function HO(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var si=typeof WeakMap=="function"&&!dn(function(){return navigator.product=="ReactNative"&&!global.HermesInternal}),P0=typeof WeakSet=="function",mh=typeof Symbol=="function"&&typeof Symbol.for=="function",eu=mh&&Symbol.asyncIterator,WO=typeof dn(function(){return window.document.createElement})=="function",KO=dn(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,JO=WO&&!KO;function Ee(t){return t!==null&&typeof t=="object"}function GO(t,e){var n=e,r=[];t.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw mt(71,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&r.push(o)}),typeof n>"u"&&(q(r.length===1,72,r.length),n=r[0].name.value);var i=S(S({},t),{definitions:fn([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return i}function tu(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function nu(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return q(r,73,n),r||null}default:return null}}function YO(){}class gh{constructor(e=1/0,n=YO){this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const n=this.getNode(e);return n&&n.value}get size(){return this.map.size}getNode(e){const n=this.map.get(e);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(e,n){let r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1}}function yh(){}const XO=yh,ZO=typeof WeakRef<"u"?WeakRef:function(t){return{deref:()=>t}},eC=typeof WeakMap<"u"?WeakMap:Map,tC=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:yh,unregister:yh}},nC=10024;class ru{constructor(e=1/0,n=XO){this.max=e,this.dispose=n,this.map=new eC,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const r=this.unfinalizedNodes.values();for(let i=0;i<nC;i++){const o=r.next().value;if(!o)break;this.unfinalizedNodes.delete(o);const s=o.key;delete o.key,o.keyRef=new ZO(s),this.registry.register(s,o,o)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new tC(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const n=this.getNode(e);return n&&n.value}getNode(e){const n=this.map.get(e);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(e,n){let r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const n=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,n),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),n&&this.map.delete(n)}delete(e){const n=this.map.get(e);return n?(this.deleteNode(n),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var vh=new WeakSet;function L0(t){vh.has(t)||(vh.add(t),setTimeout(function(){t.clean(),vh.delete(t)},100))}var bh=function(t,e){var n=new ru(t,e);return n.set=function(r,i){return L0(this),ru.prototype.set.call(this,r,i)},n},rC=function(t,e){var n=new gh(t,e);return n.set=function(r,i){return L0(this),gh.prototype.set.call(this,r,i)},n},iC=Symbol.for("apollo.cacheSize"),Cn=S({},ih[iC]),ai={};function wh(t,e){ai[t]=e}var oC=globalThis.__DEV__!==!1?uC:void 0,sC=globalThis.__DEV__!==!1?cC:void 0,aC=globalThis.__DEV__!==!1?F0:void 0;function lC(){var t={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(t).map(function(e){var n=e[0],r=e[1];return[n,Cn[n]||r]}))}function uC(){var t,e,n,r,i;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:lC(),sizes:S({print:(t=ai.print)===null||t===void 0?void 0:t.call(ai),parser:(e=ai.parser)===null||e===void 0?void 0:e.call(ai),canonicalStringify:(n=ai.canonicalStringify)===null||n===void 0?void 0:n.call(ai),links:xh(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:z0(this.queryManager.documentTransform)}},(i=(r=this.cache).getMemoryInternals)===null||i===void 0?void 0:i.call(r))}}function F0(){return{cache:{fragmentQueryDocuments:kr(this.getFragmentDoc)}}}function cC(){var t=this.config.fragments;return S(S({},F0.apply(this)),{addTypenameDocumentTransform:z0(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:kr(this.storeReader.executeSelectionSet),executeSubSelectedArray:kr(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:kr(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:kr(t==null?void 0:t.findFragmentSpreads),lookup:kr(t==null?void 0:t.lookup),transform:kr(t==null?void 0:t.transform)}})}function fC(t){return!!t&&"dirtyKey"in t}function kr(t){return fC(t)?t.size:void 0}function j0(t){return t!=null}function z0(t){return kh(t).map(function(e){return{cache:e}})}function kh(t){return t?fn(fn([kr(t==null?void 0:t.performWork)],kh(t==null?void 0:t.left),!0),kh(t==null?void 0:t.right),!0).filter(j0):[]}function xh(t){var e;return t?fn(fn([(e=t==null?void 0:t.getMemoryInternals)===null||e===void 0?void 0:e.call(t)],xh(t==null?void 0:t.left),!0),xh(t==null?void 0:t.right),!0).filter(j0):[]}var xr=Object.assign(function(t){return JSON.stringify(t,dC)},{reset:function(){yo=new rC(Cn.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&wh("canonicalStringify",function(){return yo.size});var yo;xr.reset();function dC(t,e){if(e&&typeof e=="object"){var n=Object.getPrototypeOf(e);if(n===Object.prototype||n===null){var r=Object.keys(e);if(r.every(hC))return e;var i=JSON.stringify(r),o=yo.get(i);if(!o){r.sort();var s=JSON.stringify(r);o=yo.get(s)||r,yo.set(i,o),yo.set(s,o)}var a=Object.create(n);return o.forEach(function(l){a[l]=e[l]}),a}}return e}function hC(t,e,n){return e===0||n[e-1]<=t}function vo(t){return{__ref:String(t)}}function ae(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function pC(t){return Ee(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function mC(t){return t.kind==="StringValue"}function gC(t){return t.kind==="BooleanValue"}function yC(t){return t.kind==="IntValue"}function vC(t){return t.kind==="FloatValue"}function bC(t){return t.kind==="Variable"}function wC(t){return t.kind==="ObjectValue"}function kC(t){return t.kind==="ListValue"}function xC(t){return t.kind==="EnumValue"}function SC(t){return t.kind==="NullValue"}function bo(t,e,n,r){if(yC(n)||vC(n))t[e.value]=Number(n.value);else if(gC(n)||mC(n))t[e.value]=n.value;else if(wC(n)){var i={};n.fields.map(function(s){return bo(i,s.name,s.value,r)}),t[e.value]=i}else if(bC(n)){var o=(r||{})[n.name.value];t[e.value]=o}else if(kC(n))t[e.value]=n.values.map(function(s){var a={};return bo(a,e,s,r),a[e.value]});else if(xC(n))t[e.value]=n.value;else if(SC(n))t[e.value]=null;else throw mt(82,e.value,n.kind)}function EC(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var s=o.name,a=o.value;return bo(n[i.name.value],s,a,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){var o=i.name,s=i.value;return bo(r,o,s,e)})),$0(t.name.value,r,n)}var TC=["connection","include","skip","client","rest","export","nonreactive"],$s=xr,$0=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat($s(i),")")}else return n.connection.key;var o=t;if(e){var s=$s(e);o+="(".concat(s,")")}return n&&Object.keys(n).forEach(function(a){TC.indexOf(a)===-1&&(n[a]&&Object.keys(n[a]).length?o+="@".concat(a,"(").concat($s(n[a]),")"):o+="@".concat(a))}),o},{setStringify:function(t){var e=$s;return $s=t,e}});function iu(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var i=r.name,o=r.value;return bo(n,i,o,e)}),n}return null}function Sr(t){return t.alias?t.alias.value:t.name.value}function Sh(t,e,n){for(var r,i=0,o=e.selections;i<o.length;i++){var s=o[i];if(Er(s)){if(s.name.value==="__typename")return t[Sr(s)]}else r?r.push(s):r=[s]}if(typeof t.__typename=="string")return t.__typename;if(r)for(var a=0,l=r;a<l.length;a++){var s=l[a],u=Sh(t,nu(s,n).selectionSet,n);if(typeof u=="string")return u}}function Er(t){return t.kind==="Field"}function OC(t){return t.kind==="InlineFragment"}function qs(t){q(t&&t.kind==="Document",74);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw mt(75,n.kind);return n});return q(e.length<=1,76,e.length),t}function Vs(t){return qs(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Eh(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function ou(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function q0(t){var e=Vs(t);return q(e&&e.operation==="query",77),e}function CC(t){q(t.kind==="Document",78),q(t.definitions.length<=1,79);var e=t.definitions[0];return q(e.kind==="FragmentDefinition",80),e}function Bs(t){qs(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw mt(81)}function Th(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&bo(e,r.variable.name,r.defaultValue)}),e}const NC=()=>Object.create(null),{forEach:_C,slice:MC}=Array.prototype,{hasOwnProperty:IC}=Object.prototype;class Oh{constructor(e=!0,n=NC){this.weakness=e,this.makeData=n}lookup(...e){return this.lookupArray(e)}lookupArray(e){let n=this;return _C.call(e,r=>n=n.getChildTrie(r)),IC.call(n,"data")?n.data:n.data=this.makeData(MC.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let n=this;for(let r=0,i=e.length;n&&r<i;++r){const o=this.weakness&&V0(e[r])?n.weak:n.strong;n=o&&o.get(e[r])}return n&&n.data}getChildTrie(e){const n=this.weakness&&V0(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let r=n.get(e);return r||n.set(e,r=new Oh(this.weakness,this.makeData)),r}}function V0(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}let Ye=null;const B0={};let AC=1;const DC=()=>class{constructor(){this.id=["slot",AC++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let t=Ye;t;t=t.parent)if(this.id in t.slots){const e=t.slots[this.id];if(e===B0)break;return t!==Ye&&(Ye.slots[this.id]=e),!0}return Ye&&(Ye.slots[this.id]=B0),!1}getValue(){if(this.hasValue())return Ye.slots[this.id]}withValue(t,e,n,r){const i={__proto__:null,[this.id]:t},o=Ye;Ye={parent:o,slots:i};try{return e.apply(r,n)}finally{Ye=o}}static bind(t){const e=Ye;return function(){const n=Ye;try{return Ye=e,t.apply(this,arguments)}finally{Ye=n}}}static noContext(t,e,n){if(Ye){const r=Ye;try{return Ye=null,t.apply(n,e)}finally{Ye=r}}else return t.apply(n,e)}};function U0(t){try{return t()}catch{}}const Ch="@wry/context:Slot",RC=U0(()=>globalThis)||U0(()=>global)||Object.create(null),Q0=RC,H0=Q0[Ch]||Array[Ch]||function(t){try{Object.defineProperty(Q0,Ch,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(DC()),su=new H0,{hasOwnProperty:PC}=Object.prototype,Nh=Array.from||function(t){const e=[];return t.forEach(n=>e.push(n)),e};function au(t){const{unsubscribe:e}=t;typeof e=="function"&&(t.unsubscribe=void 0,e())}const Us=[],LC=100;function wo(t,e){if(!t)throw new Error(e||"assertion failure")}function W0(t,e){const n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function K0(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function J0(t){return t.slice(0)}class lu{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++lu.count}peek(){if(this.value.length===1&&!Tr(this))return G0(this),this.value[0]}recompute(e){return wo(!this.recomputing,"already recomputing"),G0(this),Tr(this)?FC(this,e):K0(this.value)}setDirty(){this.dirty||(this.dirty=!0,Y0(this),au(this))}dispose(){this.setDirty(),nb(this),_h(this,(e,n)=>{e.setDirty(),rb(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Us.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(Nh(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),Us.push(this.deps),this.deps=null)}}lu.count=0;function G0(t){const e=su.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),Tr(t)?Z0(e,t):eb(e,t),e}function FC(t,e){return nb(t),su.withValue(t,jC,[t,e]),$C(t,e)&&zC(t),K0(t.value)}function jC(t,e){t.recomputing=!0;const{normalizeResult:n}=t;let r;n&&t.value.length===1&&(r=J0(t.value)),t.value.length=0;try{if(t.value[0]=t.fn.apply(null,e),n&&r&&!W0(r,t.value))try{t.value[0]=n(t.value[0],r[0])}catch{}}catch(i){t.value[1]=i}t.recomputing=!1}function Tr(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function zC(t){t.dirty=!1,!Tr(t)&&X0(t)}function Y0(t){_h(t,Z0)}function X0(t){_h(t,eb)}function _h(t,e){const n=t.parents.size;if(n){const r=Nh(t.parents);for(let i=0;i<n;++i)e(r[i],t)}}function Z0(t,e){wo(t.childValues.has(e)),wo(Tr(e));const n=!Tr(t);if(!t.dirtyChildren)t.dirtyChildren=Us.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&Y0(t)}function eb(t,e){wo(t.childValues.has(e)),wo(!Tr(e));const n=t.childValues.get(e);n.length===0?t.childValues.set(e,J0(e.value)):W0(n,e.value)||t.setDirty(),tb(t,e),!Tr(t)&&X0(t)}function tb(t,e){const n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&(Us.length<LC&&Us.push(n),t.dirtyChildren=null))}function nb(t){t.childValues.size>0&&t.childValues.forEach((e,n)=>{rb(t,n)}),t.forgetDeps(),wo(t.dirtyChildren===null)}function rb(t,e){e.parents.delete(t),t.childValues.delete(e),tb(t,e)}function $C(t,e){if(typeof t.subscribe=="function")try{au(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}const qC={setDirty:!0,dispose:!0,forget:!0};function ib(t){const e=new Map,n=t&&t.subscribe;function r(i){const o=su.getValue();if(o){let s=e.get(i);s||e.set(i,s=new Set),o.dependOn(s),typeof n=="function"&&(au(s),s.unsubscribe=n(i))}}return r.dirty=function(i,o){const s=e.get(i);if(s){const a=o&&PC.call(qC,o)?o:"setDirty";Nh(s).forEach(l=>l[a]()),e.delete(i),au(s)}},r}let ob;function VC(...t){return(ob||(ob=new Oh(typeof WeakMap=="function"))).lookupArray(t)}const Mh=new Set;function Qs(t,{max:e=Math.pow(2,16),keyArgs:n,makeCacheKey:r=VC,normalizeResult:i,subscribe:o,cache:s=gh}=Object.create(null)){const a=typeof s=="function"?new s(e,d=>d.dispose()):s,l=function(){const d=r.apply(null,n?n.apply(null,arguments):arguments);if(d===void 0)return t.apply(null,arguments);let h=a.get(d);h||(a.set(d,h=new lu(t)),h.normalizeResult=i,h.subscribe=o,h.forget=()=>a.delete(d));const g=h.recompute(Array.prototype.slice.call(arguments));return a.set(d,h),Mh.add(a),su.hasValue()||(Mh.forEach(v=>v.clean()),Mh.clear()),g};Object.defineProperty(l,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:e,keyArgs:n,makeCacheKey:r,normalizeResult:i,subscribe:o,cache:a});function u(d){const h=d&&a.get(d);h&&h.setDirty()}l.dirtyKey=u,l.dirty=function(){u(r.apply(null,arguments))};function c(d){const h=d&&a.get(d);if(h)return h.peek()}l.peekKey=c,l.peek=function(){return c(r.apply(null,arguments))};function f(d){return d?a.delete(d):!1}return l.forgetKey=f,l.forget=function(){return f(r.apply(null,arguments))},l.makeCacheKey=r,l.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(l)}function BC(t){return t}var sb=function(){function t(e,n){n===void 0&&(n=Object.create(null)),this.resultCache=P0?new WeakSet:new Set,this.transform=e,n.getCacheKey&&(this.getCacheKey=n.getCacheKey),this.cached=n.cache!==!1,this.resetCache()}return t.prototype.getCacheKey=function(e){return[e]},t.identity=function(){return new t(BC,{cache:!1})},t.split=function(e,n,r){return r===void 0&&(r=t.identity()),Object.assign(new t(function(i){var o=e(i)?n:r;return o.transformDocument(i)},{cache:!1}),{left:n,right:r})},t.prototype.resetCache=function(){var e=this;if(this.cached){var n=new go(si);this.performWork=Qs(t.prototype.performWork.bind(this),{makeCacheKey:function(r){var i=e.getCacheKey(r);if(i)return q(Array.isArray(i),66),n.lookupArray(i)},max:Cn["documentTransform.cache"],cache:ru})}},t.prototype.performWork=function(e){return qs(e),this.transform(e)},t.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var n=this.performWork(e);return this.resultCache.add(n),n},t.prototype.concat=function(e){var n=this;return Object.assign(new t(function(r){return e.transformDocument(n.transformDocument(r))},{cache:!1}),{left:this,right:e})},t}(),Hs,uu=Object.assign(function(t){var e=Hs.get(t);return e||(e=FO(t),Hs.set(t,e)),e},{reset:function(){Hs=new bh(Cn.print||2e3)}});uu.reset(),globalThis.__DEV__!==!1&&wh("print",function(){return Hs?Hs.size:0});var Te=Array.isArray;function Jt(t){return Array.isArray(t)&&t.length>0}var ab={kind:P.FIELD,name:{kind:P.NAME,value:"__typename"}};function lb(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===P.FRAGMENT_SPREAD&&lb(e[n.name.value],e)})}function UC(t){return lb(Vs(t)||CC(t),tu(ou(t)))?null:t}function QC(t){var e=new Map,n=new Map;return t.forEach(function(r){r&&(r.name?e.set(r.name,r):r.test&&n.set(r.test,r))}),function(r){var i=e.get(r.name.value);return!i&&n.size&&n.forEach(function(o,s){s(r)&&(i=o)}),i}}function ub(t){var e=new Map;return function(n){n===void 0&&(n=t);var r=e.get(n);return r||e.set(n,r={variables:new Set,fragmentSpreads:new Set}),r}}function cb(t,e){qs(e);for(var n=ub(""),r=ub(""),i=function(p){for(var m=0,y=void 0;m<p.length&&(y=p[m]);++m)if(!Te(y)){if(y.kind===P.OPERATION_DEFINITION)return n(y.name&&y.name.value);if(y.kind===P.FRAGMENT_DEFINITION)return r(y.name.value)}return globalThis.__DEV__!==!1&&q.error(83),null},o=0,s=e.definitions.length-1;s>=0;--s)e.definitions[s].kind===P.OPERATION_DEFINITION&&++o;var a=QC(t),l=function(p){return Jt(p)&&p.map(a).some(function(m){return m&&m.remove})},u=new Map,c=!1,f={enter:function(p){if(l(p.directives))return c=!0,null}},d=Kn(e,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(p,m,y,w,k){var x=i(k);x&&x.variables.add(p.name.value)}},FragmentSpread:{enter:function(p,m,y,w,k){if(l(p.directives))return c=!0,null;var x=i(k);x&&x.fragmentSpreads.add(p.name.value)}},FragmentDefinition:{enter:function(p,m,y,w){u.set(JSON.stringify(w),p)},leave:function(p,m,y,w){var k=u.get(JSON.stringify(w));if(p===k)return p;if(o>0&&p.selectionSet.selections.every(function(x){return x.kind===P.FIELD&&x.name.value==="__typename"}))return r(p.name.value).removed=!0,c=!0,null}},Directive:{leave:function(p){if(a(p))return c=!0,null}}});if(!c)return e;var h=function(p){return p.transitiveVars||(p.transitiveVars=new Set(p.variables),p.removed||p.fragmentSpreads.forEach(function(m){h(r(m)).transitiveVars.forEach(function(y){p.transitiveVars.add(y)})})),p},g=new Set;d.definitions.forEach(function(p){p.kind===P.OPERATION_DEFINITION?h(n(p.name&&p.name.value)).fragmentSpreads.forEach(function(m){g.add(m)}):p.kind===P.FRAGMENT_DEFINITION&&o===0&&!r(p.name.value).removed&&g.add(p.name.value)}),g.forEach(function(p){h(r(p)).fragmentSpreads.forEach(function(m){g.add(m)})});var v=function(p){return!!(!g.has(p)||r(p).removed)},b={enter:function(p){if(v(p.name.value))return null}};return UC(Kn(d,{FragmentSpread:b,FragmentDefinition:b,OperationDefinition:{leave:function(p){if(p.variableDefinitions){var m=h(n(p.name&&p.name.value)).transitiveVars;if(m.size<p.variableDefinitions.length)return S(S({},p),{variableDefinitions:p.variableDefinitions.filter(function(y){return m.has(y.variable.name.value)})})}}}}))}var Ih=Object.assign(function(t){return Kn(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===P.OPERATION_DEFINITION)){var i=e.selections;if(i){var o=i.some(function(a){return Er(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!o){var s=r;if(!(Er(s)&&s.directives&&s.directives.some(function(a){return a.name.value==="export"})))return S(S({},e),{selections:fn(fn([],i,!0),[ab],!1)})}}}}}})},{added:function(t){return t===ab}});function HC(t){var e=Bs(t),n=e.operation;if(n==="query")return t;var r=Kn(t,{OperationDefinition:{enter:function(i){return S(S({},i),{operation:"query"})}}});return r}function fb(t){qs(t);var e=cb([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}var WC=Object.prototype.hasOwnProperty;function db(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ah(t)}function Ah(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new Or,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var KC=function(t,e,n){return this.merge(t[n],e[n])},Or=function(){function t(e){e===void 0&&(e=KC),this.reconciler=e,this.isObject=Ee,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return Ee(n)&&Ee(e)?(Object.keys(n).forEach(function(s){if(WC.call(e,s)){var a=e[s];if(n[s]!==a){var l=r.reconciler.apply(r,fn([e,n,s],i,!1));l!==a&&(e=r.shallowCopyForMerge(e),e[s]=l)}}else e=r.shallowCopyForMerge(e),e[s]=n[s]}),e):n},t.prototype.shallowCopyForMerge=function(e){return Ee(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=S({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function JC(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=GC(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GC(t,e){if(t){if(typeof t=="string")return hb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(t,e)}}function hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dh(t,e,n){return e&&pb(t.prototype,e),n&&pb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Rh=function(){return typeof Symbol=="function"},Ph=function(t){return Rh()&&!!Symbol[t]},Lh=function(t){return Ph(t)?Symbol[t]:"@@"+t};Rh()&&!Ph("observable")&&(Symbol.observable=Symbol("observable"));var YC=Lh("iterator"),Fh=Lh("observable"),mb=Lh("species");function cu(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function Ws(t){var e=t.constructor;return e!==void 0&&(e=e[mb],e===null&&(e=void 0)),e!==void 0?e:me}function XC(t){return t instanceof me}function ko(t){ko.log?ko.log(t):setTimeout(function(){throw t})}function fu(t){Promise.resolve().then(function(){try{t()}catch(e){ko(e)}})}function gb(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=cu(e,"unsubscribe");n&&n.call(e)}}catch(r){ko(r)}}function jh(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function ZC(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(yb(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function yb(t,e,n){t._state="running";var r=t._observer;try{var i=cu(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(jh(t),i)i.call(r,n);else throw n;break;case"complete":jh(t),i&&i.call(r);break}}catch(o){ko(o)}t._state==="closed"?gb(t):t._state==="running"&&(t._state="ready")}function zh(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],fu(function(){return ZC(t)});return}yb(t,e,n)}}var eN=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new tN(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(jh(this),gb(this))},Dh(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),tN=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(n){zh(this._subscription,"next",n)},e.error=function(n){zh(this._subscription,"error",n)},e.complete=function(){zh(this._subscription,"complete")},Dh(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),me=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new eN(n,this._subscriber)},e.forEach=function(n){var r=this;return new Promise(function(i,o){if(typeof n!="function"){o(new TypeError(n+" is not a function"));return}function s(){a.unsubscribe(),i()}var a=r.subscribe({next:function(l){try{n(l,s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i})})},e.map=function(n){var r=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=Ws(this);return new i(function(o){return r.subscribe({next:function(s){try{s=n(s)}catch(a){return o.error(a)}o.next(s)},error:function(s){o.error(s)},complete:function(){o.complete()}})})},e.filter=function(n){var r=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=Ws(this);return new i(function(o){return r.subscribe({next:function(s){try{if(!n(s))return}catch(a){return o.error(a)}o.next(s)},error:function(s){o.error(s)},complete:function(){o.complete()}})})},e.reduce=function(n){var r=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=Ws(this),o=arguments.length>1,s=!1,a=arguments[1],l=a;return new i(function(u){return r.subscribe({next:function(c){var f=!s;if(s=!0,!f||o)try{l=n(l,c)}catch(d){return u.error(d)}else l=c},error:function(c){u.error(c)},complete:function(){if(!s&&!o)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(l),u.complete()}})})},e.concat=function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=Ws(this);return new s(function(a){var l,u=0;function c(f){l=f.subscribe({next:function(d){a.next(d)},error:function(d){a.error(d)},complete:function(){u===i.length?(l=void 0,a.complete()):c(s.from(i[u++]))}})}return c(n),function(){l&&(l.unsubscribe(),l=void 0)}})},e.flatMap=function(n){var r=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=Ws(this);return new i(function(o){var s=[],a=r.subscribe({next:function(u){if(n)try{u=n(u)}catch(f){return o.error(f)}var c=i.from(u).subscribe({next:function(f){o.next(f)},error:function(f){o.error(f)},complete:function(){var f=s.indexOf(c);f>=0&&s.splice(f,1),l()}});s.push(c)},error:function(u){o.error(u)},complete:function(){l()}});function l(){a.closed&&s.length===0&&o.complete()}return function(){s.forEach(function(u){return u.unsubscribe()}),a.unsubscribe()}})},e[Fh]=function(){return this},t.from=function(n){var r=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var i=cu(n,Fh);if(i){var o=i.call(n);if(Object(o)!==o)throw new TypeError(o+" is not an object");return XC(o)&&o.constructor===r?o:new r(function(s){return o.subscribe(s)})}if(Ph("iterator")&&(i=cu(n,YC),i))return new r(function(s){fu(function(){if(!s.closed){for(var a=JC(i.call(n)),l;!(l=a()).done;){var u=l.value;if(s.next(u),s.closed)return}s.complete()}})});if(Array.isArray(n))return new r(function(s){fu(function(){if(!s.closed){for(var a=0;a<n.length;++a)if(s.next(n[a]),s.closed)return;s.complete()}})});throw new TypeError(n+" is not observable")},t.of=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=typeof this=="function"?this:t;return new o(function(s){fu(function(){if(!s.closed){for(var a=0;a<r.length;++a)if(s.next(r[a]),s.closed)return;s.complete()}})})},Dh(t,null,[{key:mb,get:function(){return this}}]),t}();Rh()&&Object.defineProperty(me,Symbol("extensions"),{value:{symbol:Fh,hostReportError:ko},configurable:!0});function nN(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var xo;typeof self<"u"?xo=self:typeof window<"u"?xo=window:typeof global<"u"?xo=global:typeof nn<"u"?xo=nn:xo=Function("return this")(),nN(xo);var vb=me.prototype,bb="@@observable";vb[bb]||(vb[bb]=function(){return this});var rN=Object.prototype.toString;function wb(t){return $h(t)}function $h(t,e){switch(rN.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,o){n[o]=$h(i,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=$h(t[i],e)}),r}default:return t}}function iN(t){var e=new Set([t]);return e.forEach(function(n){Ee(n)&&oN(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){Ee(n[r])&&e.add(n[r])})}),t}function oN(t){if(globalThis.__DEV__!==!1&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function Ks(t){return globalThis.__DEV__!==!1&&iN(t),t}function Js(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function qh(t,e,n){return new me(function(r){var i={then:function(l){return new Promise(function(u){return u(l())})}};function o(l,u){return function(c){if(l){var f=function(){return r.closed?0:l(c)};i=i.then(f,f).then(function(d){return r.next(d)},function(d){return r.error(d)})}else r[u](c)}}var s={next:o(e,"next"),error:o(n,"error"),complete:function(){i.then(function(){return r.complete()})}},a=t.subscribe(s);return function(){return a.unsubscribe()}})}function kb(t){function e(n){Object.defineProperty(t,n,{value:me})}return mh&&Symbol.species&&e(Symbol.species),e("@@species"),t}function xb(t){return t&&typeof t.then=="function"}var So=function(t){Tn(e,t);function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,o){r.resolve=i,r.reject=o}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),Js(r.observers,"next",i))},error:function(i){var o=r.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),Js(r.observers,"error",i))},complete:function(){var i=r,o=i.sub,s=i.sources,a=s===void 0?[]:s;if(o!==null){var l=a.shift();l?xb(l)?l.then(function(u){return r.sub=u.subscribe(r.handlers)},r.handlers.error):r.sub=l.subscribe(r.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Js(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.complete()},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new me(n)]),xb(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(o){return o(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,o){r||(r=!0,n(i,o))})},e}(me);kb(So);function Eo(t){return"incremental"in t}function sN(t){return"hasNext"in t&&"data"in t}function aN(t){return Eo(t)||sN(t)}function lN(t){return Ee(t)&&"payload"in t}function Sb(t,e){var n=t,r=new Or;return Eo(e)&&Jt(e.incremental)&&e.incremental.forEach(function(i){for(var o=i.data,s=i.path,a=s.length-1;a>=0;--a){var l=s[a],u=!isNaN(+l),c=u?[]:{};c[l]=o,o=c}n=r.merge(n,o)}),n}function du(t){var e=Vh(t);return Jt(e)}function Vh(t){var e=Jt(t.errors)?t.errors.slice(0):[];return Eo(t)&&Jt(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function li(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){r&&Object.keys(r).forEach(function(i){var o=r[i];o!==void 0&&(n[i]=o)})}),n}function hu(t,e){return li(t,e,e.variables&&{variables:li(S(S({},t&&t.variables),e.variables))})}function Bh(t){return new me(function(e){e.error(t)})}var Eb=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function uN(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw mt(43,i)}return t}function cN(t,e){var n=S({},t),r=function(o){typeof o=="function"?n=S(S({},n),o(n)):n=S(S({},n),o)},i=function(){return S({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function fN(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?Eh(e.query)||void 0:""),e}function dN(t,e){var n=S({},t),r=new Set(Object.keys(t));return Kn(e,{Variable:function(i,o,s){s&&s.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(function(i){delete n[i]}),n}function Tb(t,e){return e?e(t):me.of()}function Gs(t){return typeof t=="function"?new Ys(t):t}function pu(t){return t.request.length<=1}var Ys=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return me.of()})},t.from=function(e){return e.length===0?t.empty():e.map(Gs).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=Gs(n),o=Gs(r||new t(Tb)),s;return pu(i)&&pu(o)?s=new t(function(a){return e(a)?i.request(a)||me.of():o.request(a)||me.of()}):s=new t(function(a,l){return e(a)?i.request(a,l)||me.of():o.request(a,l)||me.of()}),Object.assign(s,{left:i,right:o})},t.execute=function(e,n){return e.request(cN(n.context,fN(uN(n))))||me.of()},t.concat=function(e,n){var r=Gs(e);if(pu(r))return globalThis.__DEV__!==!1&&q.warn(35,r),r;var i=Gs(n),o;return pu(i)?o=new t(function(s){return r.request(s,function(a){return i.request(a)||me.of()})||me.of()}):o=new t(function(s,a){return r.request(s,function(l){return i.request(l,a)||me.of()})||me.of()}),Object.assign(o,{left:r,right:i})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(Tb)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw mt(36)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),Uh=Ys.execute;function hN(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function pN(t){var e=null,n=null,r=!1,i=[],o=[];function s(f){if(!n){if(o.length){var d=o.shift();if(Array.isArray(d)&&d[0])return d[0]({value:f,done:!1})}i.push(f)}}function a(f){n=f;var d=o.slice();d.forEach(function(h){h[1](f)}),!e||e()}function l(){r=!0;var f=o.slice();f.forEach(function(d){d[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",s),t.removeListener("error",a),t.removeListener("end",l),t.removeListener("finish",l),t.removeListener("close",l)},t.on("data",s),t.on("error",a),t.on("end",l),t.on("finish",l),t.on("close",l);function u(){return new Promise(function(f,d){if(n)return d(n);if(i.length)return f({value:i.shift(),done:!1});if(r)return f({value:void 0,done:!0});o.push([f,d])})}var c={next:function(){return u()}};return eu&&(c[Symbol.asyncIterator]=function(){return this}),c}function mN(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){t.then(function(o){r({value:o,done:!1})}).catch(i)}))}};return eu&&(n[Symbol.asyncIterator]=function(){return this}),n}function Ob(t){var e={next:function(){return t.read()}};return eu&&(e[Symbol.asyncIterator]=function(){return this}),e}function gN(t){return!!t.body}function yN(t){return!!t.getReader}function vN(t){return!!(eu&&t[Symbol.asyncIterator])}function bN(t){return!!t.stream}function wN(t){return!!t.arrayBuffer}function kN(t){return!!t.pipe}function xN(t){var e=t;if(gN(t)&&(e=t.body),vN(e))return hN(e);if(yN(e))return Ob(e.getReader());if(bN(e))return Ob(e.stream().getReader());if(wN(e))return mN(e.arrayBuffer());if(kN(e))return pN(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Qh=Symbol();function SN(t){return t.extensions?Array.isArray(t.extensions[Qh]):!1}function EN(t){return t.hasOwnProperty("graphQLErrors")}var TN=function(t){var e=fn(fn(fn([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&e.push(t.networkError),e.map(function(n){return Ee(n)&&n.message||"Error message not found."}).join(`
`)},Cr=function(t){Tn(e,t);function e(n){var r=n.graphQLErrors,i=n.protocolErrors,o=n.clientErrors,s=n.networkError,a=n.errorMessage,l=n.extraInfo,u=t.call(this,a)||this;return u.name="ApolloError",u.graphQLErrors=r||[],u.protocolErrors=i||[],u.clientErrors=o||[],u.networkError=s||null,u.message=a||TN(u),u.extraInfo=l,u.__proto__=e.prototype,u}return e}(Error),Cb=Object.prototype.hasOwnProperty;function ON(t,e){return br(this,void 0,void 0,function(){var n,r,i,o,s,a,l,u,c,f,d,h,g,v,b,p,m,y,w,k,x,E,C,B;return wr(this,function(z){switch(z.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),r=(B=t.headers)===null||B===void 0?void 0:B.get("content-type"),i="boundary=",o=r!=null&&r.includes(i)?r==null?void 0:r.substring((r==null?void 0:r.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s=`\r
--`.concat(o),a="",l=xN(t),u=!0,z.label=1;case 1:return u?[4,l.next()]:[3,3];case 2:for(c=z.sent(),f=c.value,d=c.done,h=typeof f=="string"?f:n.decode(f),g=a.length-s.length+1,u=!d,a+=h,v=a.indexOf(s,g);v>-1;){if(b=void 0,E=[a.slice(0,v),a.slice(v+s.length)],b=E[0],a=E[1],p=b.indexOf(`\r
\r
`),m=CN(b.slice(0,p)),y=m["content-type"],y&&y.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(w=b.slice(p),w){if(k=Nb(t,w),Object.keys(k).length>1||"data"in k||"incremental"in k||"errors"in k||"payload"in k)if(lN(k)){if(x={},"payload"in k){if(Object.keys(k).length===1&&k.payload===null)return[2];x=S({},k.payload)}"errors"in k&&(x=S(S({},x),{extensions:S(S({},"extensions"in x?x.extensions:null),(C={},C[Qh]=k.errors,C))})),e(x)}else e(k);else if(Object.keys(k).length===1&&"hasNext"in k&&!k.hasNext)return[2]}v=a.indexOf(s)}return[3,1];case 3:return[2]}})})}function CN(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),o=n.slice(r+1).trim();e[i]=o}}),e}function Nb(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};Eb(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function NN(t,e){t.result&&t.result.errors&&t.result.data&&e.next(t.result),e.error(t)}function _N(t){return function(e){return e.text().then(function(n){return Nb(e,n)}).then(function(n){return!Array.isArray(n)&&!Cb.call(n,"data")&&!Cb.call(n,"errors")&&Eb(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var Hh=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=mt(39,e,i.message);throw r.parseError=i,r}return n},MN={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},IN={accept:"*/*","content-type":"application/json"},AN={method:"POST"},DN={http:MN,headers:IN,options:AN},RN=function(t,e){return e(t)};function PN(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach(function(f){i=S(S(S({},i),f.options),{headers:S(S({},i.headers),f.headers)}),f.credentials&&(i.credentials=f.credentials),o=S(S({},o),f.http)}),i.headers&&(i.headers=LN(i.headers,o.preserveHeaderCase));var s=t.operationName,a=t.extensions,l=t.variables,u=t.query,c={operationName:s,variables:l};return o.includeExtensions&&(c.extensions=a),o.includeQuery&&(c.query=e(u,uu)),{options:i,body:c}}function LN(t,e){if(!e){var n=Object.create(null);return Object.keys(Object(t)).forEach(function(o){n[o.toLowerCase()]=t[o]}),n}var r=Object.create(null);Object.keys(Object(t)).forEach(function(o){r[o.toLowerCase()]={originalName:o,value:t[o]}});var i=Object.create(null);return Object.keys(r).forEach(function(o){i[r[o].originalName]=r[o].value}),i}var FN=function(t){if(!t&&typeof fetch>"u")throw mt(37)},jN=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function zN(t,e){var n=[],r=function(f,d){n.push("".concat(f,"=").concat(encodeURIComponent(d)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=Hh(e.variables,"Variables map")}catch(f){return{parseError:f}}r("variables",i)}if(e.extensions){var o=void 0;try{o=Hh(e.extensions,"Extensions map")}catch(f){return{parseError:f}}r("extensions",o)}var s="",a=t,l=t.indexOf("#");l!==-1&&(s=t.substr(l),a=t.substr(0,l));var u=a.indexOf("?")===-1?"?":"&",c=a+u+n.join("&")+s;return{newURI:c}}var _b=dn(function(){return fetch}),$N=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,i=t.print,o=i===void 0?RN:i,s=t.includeExtensions,a=t.preserveHeaderCase,l=t.useGETForQueries,u=t.includeUnusedVariables,c=u===void 0?!1:u,f=On(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&FN(r||_b);var d={http:{includeExtensions:s,preserveHeaderCase:a},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new Ys(function(h){var g=jN(h,n),v=h.getContext(),b={};if(v.clientAwareness){var p=v.clientAwareness,m=p.name,y=p.version;m&&(b["apollographql-client-name"]=m),y&&(b["apollographql-client-version"]=y)}var w=S(S({},b),v.headers),k={http:v.http,options:v.fetchOptions,credentials:v.credentials,headers:w};if(zs(["client"],h.query)){var x=fb(h.query);if(!x)return Bh(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));h.query=x}var E=PN(h,o,DN,d,k),C=E.options,B=E.body;B.variables&&!c&&(B.variables=dN(B.variables,h.query));var z;!C.signal&&typeof AbortController<"u"&&(z=new AbortController,C.signal=z.signal);var _e=function(D){return D.kind==="OperationDefinition"&&D.operation==="mutation"},N=function(D){return D.kind==="OperationDefinition"&&D.operation==="subscription"},T=N(Bs(h.query)),I=zs(["defer"],h.query);if(l&&!h.query.definitions.some(_e)&&(C.method="GET"),I||T){C.headers=C.headers||{};var K="multipart/mixed;";T&&I&&globalThis.__DEV__!==!1&&q.warn(38),T?K+="boundary=graphql;subscriptionSpec=1.0,application/json":I&&(K+="deferSpec=20220824,application/json"),C.headers.accept=K}if(C.method==="GET"){var $=zN(g,B),ee=$.newURI,M=$.parseError;if(M)return Bh(M);g=ee}else try{C.body=Hh(B,"Payload")}catch(D){return Bh(D)}return new me(function(D){var U=r||dn(function(){return fetch})||_b,oe=D.next.bind(D);return U(g,C).then(function(se){var ct;h.setContext({response:se});var Ln=(ct=se.headers)===null||ct===void 0?void 0:ct.get("content-type");return Ln!==null&&/^multipart\/mixed/i.test(Ln)?ON(se,oe):_N(h)(se).then(oe)}).then(function(){z=void 0,D.complete()}).catch(function(se){z=void 0,NN(se,D)}),function(){z&&z.abort()}})})},Mb=function(t){Tn(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,$N(n).request)||this;return r.options=n,r}return e}(Ys);const{toString:Ib,hasOwnProperty:qN}=Object.prototype,Ab=Function.prototype.toString,Wh=new Map;function ce(t,e){try{return Kh(t,e)}finally{Wh.clear()}}function Kh(t,e){if(t===e)return!0;const n=Ib.call(t),r=Ib.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(Rb(t,e))return!0;const i=Db(t),o=Db(e),s=i.length;if(s!==o.length)return!1;for(let a=0;a<s;++a)if(!qN.call(e,i[a]))return!1;for(let a=0;a<s;++a){const l=i[a];if(!Kh(t[l],e[l]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(Rb(t,e))return!0;const i=t.entries(),o=n==="[object Map]";for(;;){const s=i.next();if(s.done)break;const[a,l]=s.value;if(!e.has(a)||o&&!Kh(l,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=Ab.call(t);return i!==Ab.call(e)?!1:!UN(i,BN)}}return!1}function Db(t){return Object.keys(t).filter(VN,t)}function VN(t){return this[t]!==void 0}const BN="{ [native code] }";function UN(t,e){const n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function Rb(t,e){let n=Wh.get(t);if(n){if(n.has(e))return!0}else Wh.set(t,n=new Set);return n.add(e),!1}var Pb=function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=Qs(GO,{max:Cn["cache.fragmentQueryDocuments"]||1e3,cache:ru})}return t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(n)},r),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(S(S({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(S(S({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=On(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,o=e.fragmentName,s=On(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),o=n(i);return o==null?i:(r.writeQuery(S(S({},e),{data:o})),o)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),o=n(i);return o==null?i:(r.writeFragment(S(S({},e),{data:o})),o)}})},t}();globalThis.__DEV__!==!1&&(Pb.prototype.getMemoryInternals=aC);var Lb=function(t){Tn(e,t);function e(n,r,i,o){var s,a=t.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=o,Array.isArray(a.path)){a.missing=a.message;for(var l=a.path.length-1;l>=0;--l)a.missing=(s={},s[a.path[l]]=a.missing,s)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error),Be=Object.prototype.hasOwnProperty;function Xs(t){return t==null}function Fb(t,e){var n=t.__typename,r=t.id,i=t._id;if(typeof n=="string"&&(e&&(e.keyObject=Xs(r)?Xs(i)?void 0:{_id:i}:{id:r}),Xs(r)&&!Xs(i)&&(r=i),!Xs(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var jb={dataIdFromObject:Fb,addTypename:!0,resultCaching:!0,canonizeResults:!1};function QN(t){return li(jb,t)}function zb(t){var e=t.canonizeResults;return e===void 0?jb.canonizeResults:e}function HN(t,e){return ae(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var $b=/^[_a-z][_0-9a-z]*/i;function Nr(t){var e=t.match($b);return e?e[0]:t}function Jh(t,e,n){return Ee(e)?Te(e)?e.every(function(r){return Jh(t,r,n)}):t.selections.every(function(r){if(Er(r)&&js(r,n)){var i=Sr(r);return Be.call(e,i)&&(!r.selectionSet||Jh(r.selectionSet,e[i],n))}return!0}):!1}function To(t){return Ee(t)&&!ae(t)&&!Te(t)}function WN(){return new Or}function qb(t,e){var n=tu(ou(t));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var mu=Object.create(null),Gh=function(){return mu},Vb=Object.create(null),Zs=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return Ks(ae(i)?r.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return ae(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return vo(i);if(ae(i))return i;var s=r.policies.identify(i)[0];if(s){var a=vo(s);return o&&r.merge(s,i),a}}}return t.prototype.toObject=function(){return S({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),Be.call(this.data,e)){var r=this.data[e];if(r&&Be.call(r,n))return r[n]}if(n==="__typename"&&Be.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof _r)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),Be.call(this.data,e))return this.data[e];if(this instanceof _r)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,i;ae(e)&&(e=e.__ref),ae(n)&&(n=n.__ref);var o=typeof e=="string"?this.lookup(i=e):e,s=typeof n=="string"?this.lookup(i=n):n;if(s){q(typeof i=="string",1);var a=new Or(JN).merge(o,s);if(this.data[i]=a,a!==o&&(delete this.refs[i],this.group.caching)){var l=Object.create(null);o||(l.__exists=1),Object.keys(s).forEach(function(u){if(!o||o[u]!==a[u]){l[u]=1;var c=Nr(u);c!==u&&!r.policies.hasKeyArgs(a.__typename,c)&&(l[c]=1),a[u]===void 0&&!(r instanceof _r)&&delete a[u]}}),l.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete l.__typename,Object.keys(l).forEach(function(u){return r.group.dirty(i,u)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var o=Object.create(null),s=!1,a=!0,l={DELETE:mu,INVALIDATE:Vb,isReference:ae,toReference:this.toReference,canRead:this.canRead,readField:function(u,c){return r.policies.readField(typeof u=="string"?{fieldName:u,from:c||vo(e)}:u,{store:r})}};if(Object.keys(i).forEach(function(u){var c=Nr(u),f=i[u];if(f!==void 0){var d=typeof n=="function"?n:n[u]||n[c];if(d){var h=d===Gh?mu:d(Ks(f),S(S({},l),{fieldName:c,storeFieldName:u,storage:r.getStorage(e,u)}));if(h===Vb)r.group.dirty(e,u);else if(h===mu&&(h=void 0),h!==f&&(o[u]=h,s=!0,f=h,globalThis.__DEV__!==!1)){var g=function(k){if(r.lookup(k.__ref)===void 0)return globalThis.__DEV__!==!1&&q.warn(2,k),!0};if(ae(h))g(h);else if(Array.isArray(h))for(var v=!1,b=void 0,p=0,m=h;p<m.length;p++){var y=m[p];if(ae(y)){if(v=!0,g(y))break}else if(typeof y=="object"&&y){var w=r.policies.identify(y)[0];w&&(b=y)}if(v&&b!==void 0){globalThis.__DEV__!==!1&&q.warn(3,b);break}}}}f!==void 0&&(a=!1)}}),s)return this.merge(e,o),a&&(this instanceof _r?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,o=this.lookup(e);if(o){var s=this.getFieldValue(o,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:s,fieldName:n,args:r}):n;return this.modify(e,a?(i={},i[a]=Gh,i):Gh)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(Be.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof _r&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){Be.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(o){e&&Be.call(e,o)||n.delete(o)}),e){var r=e.__META,i=On(e,["__META"]);Object.keys(i).forEach(function(o){n.merge(o,i[o])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof _r?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(s){Be.call(r,s)&&(Object.keys(e.findChildRefIds(s)).forEach(n.add,n),delete r[s])});var i=Object.keys(r);if(i.length){for(var o=this;o instanceof _r;)o=o.parent;i.forEach(function(s){return o.delete(s)})}return i},t.prototype.findChildRefIds=function(e){if(!Be.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(o){ae(o)&&(n[o.__ref]=!0),Ee(o)&&Object.keys(o).forEach(function(s){var a=o[s];Ee(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),Bb=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?ib():null,this.keyMaker=new go(si)},t.prototype.depend=function(e,n){if(this.d){this.d(Yh(e,n));var r=Nr(n);r!==n&&this.d(Yh(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(Yh(e,n),n==="__exists"?"forget":"setDirty")},t}();function Yh(t,e){return e+"#"+t}function Ub(t,e){ea(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){Tn(r,n);function r(i){var o=i.policies,s=i.resultCaching,a=s===void 0?!0:s,l=i.seed,u=n.call(this,o,new Bb(a))||this;return u.stump=new KN(u),u.storageTrie=new go(si),l&&u.replace(l),u}return r.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(Zs||(Zs={}));var _r=function(t){Tn(e,t);function e(n,r,i,o){var s=t.call(this,r.policies,o)||this;return s.id=n,s.parent=r,s.replay=i,s.group=o,i(s),s}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var s=r.data[o],a=i.lookup(o);a?s?s!==a&&Object.keys(s).forEach(function(l){ce(s[l],a[l])||r.group.dirty(o,l)}):(r.group.dirty(o,"__exists"),Object.keys(a).forEach(function(l){r.group.dirty(o,l)})):r.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return S(S({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return Be.call(this.data,n)?S(S({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(Zs),KN=function(t){Tn(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new Bb(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(n,r){return this.parent.merge(n,r)},e}(_r);function JN(t,e,n){var r=t[n],i=e[n];return ce(r,i)?r:i}function ea(t){return!!(t instanceof Zs&&t.group.caching)}function GN(t){return Ee(t)?Te(t)?t.slice(0):S({__proto__:Object.getPrototypeOf(t)},t):t}var Qb=function(){function t(){this.known=new(P0?WeakSet:Set),this.pool=new go(si),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return Ee(e)&&this.known.has(e)},t.prototype.pass=function(e){if(Ee(e)){var n=GN(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(Ee(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var o=e.map(this.admit,this),s=this.pool.lookupArray(o);return s.array||(this.known.add(s.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),s.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),l=[a],u=this.sortedKeys(e);l.push(u.json);var c=l.length;u.sorted.forEach(function(h){l.push(n.admit(e[h]))});var s=this.pool.lookupArray(l);if(!s.object){var f=s.object=Object.create(a);this.known.add(f),u.sorted.forEach(function(h,g){f[h]=l[c+g]}),globalThis.__DEV__!==!1&&Object.freeze(f)}return s.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}();function Hb(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var YN=function(){function t(e){var n=this;this.knownResults=new(si?WeakMap:Map),this.config=li(e,{addTypename:e.addTypename!==!1,canonizeResults:zb(e)}),this.canon=e.canon||new Qb,this.executeSelectionSet=Qs(function(r){var i,o=r.context.canonizeResults,s=Hb(r);s[3]=!o;var a=(i=n.executeSelectionSet).peek.apply(i,s);return a?o?S(S({},a),{result:n.canon.admit(a.result)}):a:(Ub(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize||Cn["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Hb,makeCacheKey:function(r,i,o,s){if(ea(o.store))return o.store.makeCacheKey(r,ae(i)?i.__ref:i,o.varString,s)}}),this.executeSubSelectedArray=Qs(function(r){return Ub(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize||Cn["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(r){var i=r.field,o=r.array,s=r.context;if(ea(s.store))return s.store.makeCacheKey(i,o,s.varString)}})}return t.prototype.resetCanon=function(){this.canon=new Qb},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,o=i===void 0?"ROOT_QUERY":i,s=e.variables,a=e.returnPartialData,l=a===void 0?!0:a,u=e.canonizeResults,c=u===void 0?this.config.canonizeResults:u,f=this.config.cache.policies;s=S(S({},Th(q0(r))),s);var d=vo(o),h=this.executeSelectionSet({selectionSet:Bs(r).selectionSet,objectOrReference:d,enclosingRef:d,context:S({store:n,query:r,policies:f,variables:s,varString:xr(s),canonizeResults:c},qb(r,this.config.fragments))}),g;if(h.missing&&(g=[new Lb(XN(h.missing),h.missing,r,s)],!l))throw g[0];return{result:h.result,complete:!g,missing:g}},t.prototype.isFresh=function(e,n,r,i){if(ea(i.store)&&this.knownResults.get(e)===r){var o=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,s=e.context;if(ae(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=s.variables,l=s.policies,u=s.store,c=u.getFieldValue(i,"__typename"),f=[],d,h=new Or;this.config.addTypename&&typeof c=="string"&&!l.rootIdsByTypename[c]&&f.push({__typename:c});function g(y,w){var k;return y.missing&&(d=h.merge(d,(k={},k[w]=y.missing,k))),y.result}var v=new Set(r.selections);v.forEach(function(y){var w,k;if(js(y,a))if(Er(y)){var x=l.readField({fieldName:y.name.value,field:y,variables:s.variables,from:i},s),E=Sr(y);x===void 0?Ih.added(y)||(d=h.merge(d,(w={},w[E]="Can't find field '".concat(y.name.value,"' on ").concat(ae(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),w))):Te(x)?x=g(n.executeSubSelectedArray({field:y,array:x,enclosingRef:o,context:s}),E):y.selectionSet?x!=null&&(x=g(n.executeSelectionSet({selectionSet:y.selectionSet,objectOrReference:x,enclosingRef:ae(x)?x:o,context:s}),E)):s.canonizeResults&&(x=n.canon.pass(x)),x!==void 0&&f.push((k={},k[E]=x,k))}else{var C=nu(y,s.lookupFragment);if(!C&&y.kind===P.FRAGMENT_SPREAD)throw mt(9,y.name.value);C&&l.fragmentMatches(C,c)&&C.selectionSet.selections.forEach(v.add,v)}});var b=Ah(f),p={result:b,missing:d},m=s.canonizeResults?this.canon.admit(p):Ks(p);return m.result&&this.knownResults.set(m.result,r),m},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,i=e.array,o=e.enclosingRef,s=e.context,a,l=new Or;function u(c,f){var d;return c.missing&&(a=l.merge(a,(d={},d[f]=c.missing,d))),c.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(c,f){return c===null?null:Te(c)?u(n.executeSubSelectedArray({field:r,array:c,enclosingRef:o,context:s}),f):r.selectionSet?u(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:c,enclosingRef:ae(c)?c:o,context:s}),f):(globalThis.__DEV__!==!1&&ZN(s.store,r,c),c)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function XN(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function ZN(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){Ee(i)&&(q(!ae(i),10,HN(t,i),e.name.value),Object.values(i).forEach(r.add,r))})}}var Xh=new H0,Wb=new WeakMap;function ta(t){var e=Wb.get(t);return e||Wb.set(t,e={vars:new Set,dep:ib()}),e}function Kb(t){ta(t).vars.forEach(function(e){return e.forgetCache(t)})}function e_(t){ta(t).vars.forEach(function(e){return e.attachCache(t)})}function t_(t){var e=new Set,n=new Set,r=function(o){if(arguments.length>0){if(t!==o){t=o,e.forEach(function(l){ta(l).dep.dirty(r),n_(l)});var s=Array.from(n);n.clear(),s.forEach(function(l){return l(t)})}}else{var a=Xh.getValue();a&&(i(a),ta(a).dep(r))}return t};r.onNextChange=function(o){return n.add(o),function(){n.delete(o)}};var i=r.attachCache=function(o){return e.add(o),ta(o).vars.add(r),r};return r.forgetCache=function(o){return e.delete(o)},r}function n_(t){t.broadcastWatches&&t.broadcastWatches()}var Jb=Object.create(null);function Zh(t){var e=JSON.stringify(t);return Jb[e]||(Jb[e]=Object.create(null))}function Gb(t){var e=Zh(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(s,a){return r.readField(a,s)},o=r.keyObject=ep(t,function(s){var a=Oo(r.storeObject,s,i);return a===void 0&&n!==r.storeObject&&Be.call(n,s[0])&&(a=Oo(n,s,Zb)),q(a!==void 0,4,s.join("."),n),a});return"".concat(r.typename,":").concat(JSON.stringify(o))})}function Yb(t){var e=Zh(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,o=r.variables,s=r.fieldName,a=ep(t,function(u){var c=u[0],f=c.charAt(0);if(f==="@"){if(i&&Jt(i.directives)){var d=c.slice(1),h=i.directives.find(function(p){return p.name.value===d}),g=h&&iu(h,o);return g&&Oo(g,u.slice(1))}return}if(f==="$"){var v=c.slice(1);if(o&&Be.call(o,v)){var b=u.slice(0);return b[0]=v,Oo(o,b)}return}if(n)return Oo(n,u)}),l=JSON.stringify(a);return(n||l!=="{}")&&(s+=":"+l),s})}function ep(t,e){var n=new Or;return Xb(t).reduce(function(r,i){var o,s=e(i);if(s!==void 0){for(var a=i.length-1;a>=0;--a)s=(o={},o[i[a]]=s,o);r=n.merge(r,s)}return r},Object.create(null))}function Xb(t){var e=Zh(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,o){Te(i)?(Xb(i).forEach(function(s){return n.push(r.concat(s))}),r.length=0):(r.push(i),Te(t[o+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function Zb(t,e){return t[e]}function Oo(t,e,n){return n=n||Zb,e1(e.reduce(function r(i,o){return Te(i)?i.map(function(s){return r(s,o)}):i&&n(i,o)},t))}function e1(t){return Ee(t)?Te(t)?t.map(e1):ep(Object.keys(t).sort(),function(e){return Oo(t,e)}):t}function tp(t){return t.args!==void 0?t.args:t.field?iu(t.field,t.variables):null}var r_=function(){},t1=function(t,e){return e.fieldName},n1=function(t,e,n){var r=n.mergeObjects;return r(t,e)},r1=function(t,e){return e},i_=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=S({dataIdFromObject:Fb},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,o=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s=n&&n.storeObject||e,a=S(S({},n),{typename:o,storeObject:s,readField:n&&n.readField||function(){var d=np(arguments,s);return i.readField(d,{store:i.cache.data,variables:d.variables})}}),l,u=o&&this.getTypePolicy(o),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var f=c(S(S({},e),s),a);if(Te(f))c=Gb(f);else{l=f;break}}return l=l?String(l):void 0,a.keyObject?[l,a.keyObject]:[l]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],o=i.queryType,s=i.mutationType,a=i.subscriptionType,l=On(i,["queryType","mutationType","subscriptionType"]);o&&n.setRootTypename("Query",r),s&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),Be.call(n.toBeAdded,r)?n.toBeAdded[r].push(l):n.toBeAdded[r]=[l]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),o=n.keyFields,s=n.fields;function a(l,u){l.merge=typeof u=="function"?u:u===!0?n1:u===!1?r1:l.merge}a(i,n.merge),i.keyFn=o===!1?r_:Te(o)?Gb(o):typeof o=="function"?o:i.keyFn,s&&Object.keys(s).forEach(function(l){var u=r.getFieldPolicy(e,l,!0),c=s[l];if(typeof c=="function")u.read=c;else{var f=c.keyArgs,d=c.read,h=c.merge;u.keyFn=f===!1?t1:Te(f)?Yb(f):typeof f=="function"?f:u.keyFn,typeof d=="function"&&(u.read=d),a(u,h)}u.read&&u.merge&&(u.keyFn=u.keyFn||t1)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(q(!i||i===e,5,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var o=i.match($b);(!o||o[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!Be.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(s,a){if(s.test(e)){var l=n.supertypeMap.get(a);l&&l.forEach(function(u){return i.add(u)})}})),i&&i.size&&i.forEach(function(s){var a=n.getTypePolicy(s),l=a.fields,u=On(a,["fields"]);Object.assign(r,u),Object.assign(r.fields,l)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(s){n.updateTypePolicy(e,s)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var o=this;if(!e.typeCondition)return!0;if(!n)return!1;var s=e.typeCondition.name.value;if(n===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(n,!0),l=[a],u=function(g){var v=o.getSupertypeSet(g,!1);v&&v.size&&l.indexOf(v)<0&&l.push(v)},c=!!(r&&this.fuzzySubtypes.size),f=!1,d=0;d<l.length;++d){var h=l[d];if(h.has(s))return a.has(s)||(f&&globalThis.__DEV__!==!1&&q.warn(6,n,s),a.add(s)),!0;h.forEach(u),c&&d===l.length-1&&Jh(e.selectionSet,r,i)&&(c=!1,f=!0,this.fuzzySubtypes.forEach(function(g,v){var b=n.match(g);b&&b[0]===n&&u(v)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o,s=i&&i.keyFn;if(s&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},l=tp(e);s;){var u=s(l,a);if(Te(u))s=Yb(u);else{o=u||r;break}}return o===void 0&&(o=e.field?EC(e.field,e.variables):$0(r,tp(e))),o===!1?r:r===Nr(o)?o:r+":"+o},t.prototype.readField=function(e,n){var r=e.from;if(r){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var o=n.store.getFieldValue(r,"__typename");o&&(e.typename=o)}var s=this.getStoreFieldName(e),a=Nr(s),l=n.store.getFieldValue(r,s),u=this.getFieldPolicy(e.typename,a,!1),c=u&&u.read;if(c){var f=i1(this,r,e,n,n.store.getStorage(ae(r)?r.__ref:r,s));return Xh.withValue(this.cache,c,[l,f])}return l}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),o=i&&i.merge;return!o&&r&&(i=this.getTypePolicy(r),o=i&&i.merge),o},t.prototype.runMergeFunction=function(e,n,r,i,o){var s=r.field,a=r.typename,l=r.merge;return l===n1?o1(i.store)(e,n):l===r1?n:(i.overwrite&&(e=void 0),l(e,n,i1(this,void 0,{typename:a,fieldName:s.name.value,field:s,variables:i.variables},i,o||Object.create(null))))},t}();function i1(t,e,n,r,i){var o=t.getStoreFieldName(n),s=Nr(o),a=n.variables||r.variables,l=r.store,u=l.toReference,c=l.canRead;return{args:tp(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:ae,toReference:u,storage:i,cache:t.cache,canRead:c,readField:function(){return t.readField(np(arguments,e,a),r)},mergeObjects:o1(r.store)}}function np(t,e,n){var r=t[0],i=t[1],o=t.length,s;return typeof r=="string"?s={fieldName:r,from:o>1?i:e}:(s=S({},r),Be.call(s,"from")||(s.from=e)),globalThis.__DEV__!==!1&&s.from===void 0&&globalThis.__DEV__!==!1&&q.warn(7,m0(Array.from(t))),s.variables===void 0&&(s.variables=n),s}function o1(t){return function(e,n){if(Te(e)||Te(n))throw mt(8);if(Ee(e)&&Ee(n)){var r=t.getFieldValue(e,"__typename"),i=t.getFieldValue(n,"__typename"),o=r&&i&&r!==i;if(o)return n;if(ae(e)&&To(n))return t.merge(e.__ref,n),e;if(To(e)&&ae(n))return t.merge(e,n.__ref),n;if(To(e)&&To(n))return S(S({},e),n)}return n}}function rp(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:S(S({},t),{clientOnly:e,deferred:n})),i}var o_=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,o=n.result,s=n.dataId,a=n.variables,l=n.overwrite,u=Vs(i),c=WN();a=S(S({},Th(u)),a);var f=S(S({store:e,written:Object.create(null),merge:function(h,g){return c.merge(h,g)},variables:a,varString:xr(a)},qb(i,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),d=this.processSelectionSet({result:o||Object.create(null),dataId:s,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!ae(d))throw mt(11,o);return f.incomingById.forEach(function(h,g){var v=h.storeObject,b=h.mergeTree,p=h.fieldNodeSet,m=vo(g);if(b&&b.map.size){var y=r.applyMerges(b,m,v,f);if(ae(y))return;v=y}if(globalThis.__DEV__!==!1&&!f.overwrite){var w=Object.create(null);p.forEach(function(E){E.selectionSet&&(w[E.name.value]=!0)});var k=function(E){return w[Nr(E)]===!0},x=function(E){var C=b&&b.map.get(E);return!!(C&&C.info&&C.info.merge)};Object.keys(v).forEach(function(E){k(E)&&!x(E)&&s_(m,v,E,f.store)})}e.merge(g,v)}),e.retain(d.__ref),d},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,o=e.selectionSet,s=e.context,a=e.mergeTree,l=this.cache.policies,u=Object.create(null),c=r&&l.rootTypenamesById[r]||Sh(i,o,s.fragmentMap)||r&&s.store.get(r,"__typename");typeof c=="string"&&(u.__typename=c);var f=function(){var y=np(arguments,u,s.variables);if(ae(y.from)){var w=s.incomingById.get(y.from.__ref);if(w){var k=l.readField(S(S({},y),{from:w.storeObject}),s);if(k!==void 0)return k}}return l.readField(y,s)},d=new Set;this.flattenFields(o,i,s,c).forEach(function(y,w){var k,x=Sr(w),E=i[x];if(d.add(w),E!==void 0){var C=l.getStoreFieldName({typename:c,fieldName:w.name.value,field:w,variables:y.variables}),B=a1(a,C),z=n.processFieldValue(E,w,w.selectionSet?rp(y,!1,!1):y,B),_e=void 0;w.selectionSet&&(ae(z)||To(z))&&(_e=f("__typename",z));var N=l.getMergeFunction(c,w.name.value,_e);N?B.info={field:w,typename:c,merge:N}:l1(a,C),u=y.merge(u,(k={},k[C]=z,k))}else globalThis.__DEV__!==!1&&!y.clientOnly&&!y.deferred&&!Ih.added(w)&&!l.getReadFunction(c,w.name.value)&&globalThis.__DEV__!==!1&&q.error(12,Sr(w),i)});try{var h=l.identify(i,{typename:c,selectionSet:o,fragmentMap:s.fragmentMap,storeObject:u,readField:f}),g=h[0],v=h[1];r=r||g,v&&(u=s.merge(u,v))}catch(y){if(!r)throw y}if(typeof r=="string"){var b=vo(r),p=s.written[r]||(s.written[r]=[]);if(p.indexOf(o)>=0||(p.push(o),this.reader&&this.reader.isFresh(i,b,o,s)))return b;var m=s.incomingById.get(r);return m?(m.storeObject=s.merge(m.storeObject,u),m.mergeTree=ip(m.mergeTree,a),d.forEach(function(y){return m.fieldNodeSet.add(y)})):s.incomingById.set(r,{storeObject:u,mergeTree:gu(a)?void 0:a,fieldNodeSet:d}),b}return u},t.prototype.processFieldValue=function(e,n,r,i){var o=this;return!n.selectionSet||e===null?globalThis.__DEV__!==!1?wb(e):e:Te(e)?e.map(function(s,a){var l=o.processFieldValue(s,n,r,a1(i,a));return l1(i,a),l}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i})},t.prototype.flattenFields=function(e,n,r,i){i===void 0&&(i=Sh(n,e,r.fragmentMap));var o=new Map,s=this.cache.policies,a=new go(!1);return function l(u,c){var f=a.lookup(u,c.clientOnly,c.deferred);f.visited||(f.visited=!0,u.selections.forEach(function(d){if(js(d,r.variables)){var h=c.clientOnly,g=c.deferred;if(!(h&&g)&&Jt(d.directives)&&d.directives.forEach(function(p){var m=p.name.value;if(m==="client"&&(h=!0),m==="defer"){var y=iu(p,r.variables);(!y||y.if!==!1)&&(g=!0)}}),Er(d)){var v=o.get(d);v&&(h=h&&v.clientOnly,g=g&&v.deferred),o.set(d,rp(r,h,g))}else{var b=nu(d,r.lookupFragment);if(!b&&d.kind===P.FRAGMENT_SPREAD)throw mt(13,d.name.value);b&&s.fragmentMatches(b,i,n,r.variables)&&l(b.selectionSet,rp(r,h,g))}}}))}(e,r),o},t.prototype.applyMerges=function(e,n,r,i,o){var s,a=this;if(e.map.size&&!ae(r)){var l=!Te(r)&&(ae(n)||To(n))?n:void 0,u=r;l&&!o&&(o=[ae(l)?l.__ref:l]);var c,f=function(d,h){return Te(d)?typeof h=="number"?d[h]:void 0:i.store.getFieldValue(d,String(h))};e.map.forEach(function(d,h){var g=f(l,h),v=f(u,h);if(v!==void 0){o&&o.push(h);var b=a.applyMerges(d,g,v,i,o);b!==v&&(c=c||new Map,c.set(h,b)),o&&q(o.pop()===h)}}),c&&(r=Te(u)?u.slice(0):S({},u),c.forEach(function(d,h){r[h]=d}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,o&&(s=i.store).getStorage.apply(s,o)):r},t}(),s1=[];function a1(t,e){var n=t.map;return n.has(e)||n.set(e,s1.pop()||{map:new Map}),n.get(e)}function ip(t,e){if(t===e||!e||gu(e))return t;if(!t||gu(t))return e;var n=t.info&&e.info?S(S({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,i=r?new Map:t.map.size?t.map:e.map,o={info:n,map:i};if(r){var s=new Set(e.map.keys());t.map.forEach(function(a,l){o.map.set(l,ip(a,e.map.get(l))),s.delete(l)}),s.forEach(function(a){o.map.set(a,ip(e.map.get(a),t.map.get(a)))})}return o}function gu(t){return!t||!(t.info||t.map.size)}function l1(t,e){var n=t.map,r=n.get(e);r&&gu(r)&&(s1.push(r),n.delete(e))}var u1=new Set;function s_(t,e,n,r){var i=function(f){var d=r.getFieldValue(f,n);return typeof d=="object"&&d},o=i(t);if(o){var s=i(e);if(s&&!ae(o)&&!ce(o,s)&&!Object.keys(o).every(function(f){return r.getFieldValue(s,f)!==void 0})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),l=Nr(n),u="".concat(a,".").concat(l);if(!u1.has(u)){u1.add(u);var c=[];!Te(o)&&!Te(s)&&[o,s].forEach(function(f){var d=r.getFieldValue(f,"__typename");typeof d=="string"&&!c.includes(d)&&c.push(d)}),globalThis.__DEV__!==!1&&q.warn(14,l,a,c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"",u,o,s)}}}}var c1=function(t){Tn(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new sb(Ih),r.assumeImmutableResults=!0,r.makeVar=t_,r.txCount=0,r.config=QN(n),r.addTypename=!!r.config.addTypename,r.policies=new i_({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new Zs.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,o=this.config.fragments;this.storeWriter=new o_(this,this.storeReader=new YN({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:zb(this.config),canon:n?void 0:i&&i.canon,fragments:o}),o),this.maybeBroadcastWatch=Qs(function(s,a){return r.broadcastWatch(s,a)},{max:this.config.resultCacheMaxSize||Cn["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(s){var a=s.optimistic?r.optimisticData:r.data;if(ea(a)){var l=s.optimistic,u=s.id,c=s.variables;return a.makeCacheKey(s.query,s.callback,xr({optimistic:l,id:u,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(S(S({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof Lb)return null;throw o}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if(Be.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(S(S({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||e_(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&Kb(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){var r;xr.reset(),uu.reset(),this.addTypenameTransform.resetCache(),(r=this.config.fragments)===null||r===void 0||r.resetCaches();var i=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),i},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(ae(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){globalThis.__DEV__!==!1&&q.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(Be.call(n,"id"))return!1;n=S(S({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),xr.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),Kb(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,i=n.update,o=n.optimistic,s=o===void 0?!0:o,a=n.removeOptimistic,l=n.onWatchUpdated,u,c=function(d){var h=r,g=h.data,v=h.optimisticData;++r.txCount,d&&(r.data=r.optimisticData=d);try{return u=i(r)}finally{--r.txCount,r.data=g,r.optimisticData=v}},f=new Set;return l&&!this.txCount&&this.broadcastWatches(S(S({},n),{onWatchUpdated:function(d){return f.add(d),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,c):s===!1?c(this.data):c(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),l&&f.size?(this.broadcastWatches(S(S({},n),{onWatchUpdated:function(d,h){var g=l.call(this,d,h);return g!==!1&&f.delete(d),g}})),f.size&&f.forEach(function(d){return r.maybeBroadcastWatch.dirty(d)})):this.broadcastWatches(n),u},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){return this.addTypenameToDocument(this.addFragmentsToDocument(n))},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.addFragmentsToDocument=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.addTypenameToDocument=function(n){return this.addTypename?this.addTypenameTransform.transformDocument(n):n},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,o=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(o.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,o,i)===!1)||(!i||!ce(i.result,o.result))&&n.callback(n.lastDiff=o,i)},e}(Pb);globalThis.__DEV__!==!1&&(c1.prototype.getMemoryInternals=sC);var ne;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(ne||(ne={}));function na(t){return t?t<7:!1}function a_(t,e,n,r){var i=e.data,o=On(e,["data"]),s=n.data,a=On(n,["data"]);return ce(o,a)&&yu(Bs(t).selectionSet,i,s,{fragmentMap:tu(ou(t)),variables:r})}function yu(t,e,n,r){if(e===n)return!0;var i=new Set;return t.selections.every(function(o){if(i.has(o)||(i.add(o),!js(o,r.variables))||f1(o))return!0;if(Er(o)){var s=Sr(o),a=e&&e[s],l=n&&n[s],u=o.selectionSet;if(!u)return ce(a,l);var c=Array.isArray(a),f=Array.isArray(l);if(c!==f)return!1;if(c&&f){var d=a.length;if(l.length!==d)return!1;for(var h=0;h<d;++h)if(!yu(u,a[h],l[h],r))return!1;return!0}return yu(u,a,l,r)}else{var g=nu(o,r.fragmentMap);if(g)return f1(g)?!0:yu(g.selectionSet,e,n,r)}})}function f1(t){return!!t.directives&&t.directives.some(l_)}function l_(t){return t.name.value==="nonreactive"}var d1=Object.assign,u_=Object.hasOwnProperty,op=function(t){Tn(e,t);function e(n){var r=n.queryManager,i=n.queryInfo,o=n.options,s=t.call(this,function(b){try{var p=b._subscription._observer;p&&!p.error&&(p.error=c_)}catch{}var m=!s.observers.size;s.observers.add(b);var y=s.last;return y&&y.error?b.error&&b.error(y.error):y&&y.result&&b.next&&b.next(y.result),m&&s.reobserve().catch(function(){}),function(){s.observers.delete(b)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=i,s.queryManager=r,s.waitForOwnResult=sp(o.fetchPolicy),s.isTornDown=!1;var a=r.defaultOptions.watchQuery,l=a===void 0?{}:a,u=l.fetchPolicy,c=u===void 0?"cache-first":u,f=o.fetchPolicy,d=f===void 0?c:f,h=o.initialFetchPolicy,g=h===void 0?d==="standby"?c:d:h;s.options=S(S({},o),{initialFetchPolicy:g,fetchPolicy:d}),s.queryId=i.queryId||r.generateQueryId();var v=Vs(s.query);return s.queryName=v&&v.name&&v.name.value,s}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var o={next:function(a){r(a),n.observers.delete(o),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=n.subscribe(o)})},e.prototype.resetDiff=function(){this.queryInfo.resetDiff()},e.prototype.getCurrentResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||ne.ready,o=S(S({},r),{loading:na(i),networkStatus:i}),s=this.options.fetchPolicy,a=s===void 0?"cache-first":s;if(!(sp(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(o.data=l.result),ce(o.data,{})&&(o.data=void 0),l.complete?(delete o.partial,l.complete&&o.networkStatus===ne.loading&&(a==="cache-first"||a==="cache-only")&&(o.networkStatus=ne.ready,o.loading=!1)):o.partial=!0,globalThis.__DEV__!==!1&&!l.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&p1(l.missing)}return n&&this.updateLastResult(o),o},e.prototype.isDifferentFromLastResult=function(n,r){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!a_(this.query,this.last.result,n,this.variables):!ce(this.last.result,n);return i||r&&!ce(this.last.variables,r)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||ce(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="cache-and-network"?i.fetchPolicy=o:o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&n&&u_.call(n,"variables")){var s=q0(this.query),a=s.variableDefinitions;(!a||!a.some(function(l){return l.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&q.warn(20,n,((r=s.name)===null||r===void 0?void 0:r.value)||s)}return n&&!ce(this.options.variables,n)&&(i.variables=this.options.variables=S(S({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,ne.refetch)},e.prototype.fetchMore=function(n){var r=this,i=S(S({},n.query?n:S(S(S(S({},this.options),{query:this.options.query}),n),{variables:S(S({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var o=this.queryManager.generateQueryId();this.lastQuery=n.query?this.transformDocument(this.options.query):i.query;var s=this.queryInfo,a=s.networkStatus;s.networkStatus=ne.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var l=new Set;return this.queryManager.fetchQuery(o,i,ne.fetchMore).then(function(u){return r.queryManager.removeQuery(o),s.networkStatus===ne.fetchMore&&(s.networkStatus=a),r.queryManager.cache.batch({update:function(c){var f=n.updateQuery;f?c.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(d){return f(d,{fetchMoreResult:u.data,variables:i.variables})}):c.writeQuery({query:i.query,variables:i.variables,data:u.data})},onWatchUpdated:function(c){l.add(c.query)}}),u}).finally(function(){l.has(r.query)||h1(r)})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(o){var s=n.updateQuery;s&&r.updateQuery(function(a,l){var u=l.variables;return s(a,{subscriptionData:o,variables:u})})},error:function(o){if(n.onError){n.onError(o);return}globalThis.__DEV__!==!1&&q.error(21,o)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.silentSetOptions=function(n){var r=li(this.options,n||{});d1(this.options,r)},e.prototype.setVariables=function(n){return ce(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},ne.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,o=n(i,{variables:this.variables});o&&(r.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,o=i===void 0?"cache-first":i,s=r.initialFetchPolicy,a=s===void 0?o:s;o==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(o,{reason:n,options:r,observable:this,initialFetchPolicy:a}):n==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,n,r,i)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,o=r.options.pollInterval;if(!o){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){q(o,22);var s=i||(this.pollingInfo={});s.interval=o;var a=function(){var u,c;n.pollingInfo&&(!na(n.queryInfo.networkStatus)&&!(!((c=(u=n.options).skipPollAttempt)===null||c===void 0)&&c.call(u))?n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},ne.poll).then(l,l):l())},l=function(){var u=n.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(a,u.interval))};l()}}},e.prototype.updateLastResult=function(n,r){r===void 0&&(r=this.variables);var i=this.getLastError();return i&&this.last&&!ce(r,this.last.variables)&&(i=void 0),this.last=S({result:this.queryManager.assumeImmutableResults?n:wb(n),variables:r},i?{error:i}:null)},e.prototype.reobserveAsConcast=function(n,r){var i=this;this.isTornDown=!1;var o=r===ne.refetch||r===ne.fetchMore||r===ne.poll,s=this.options.variables,a=this.options.fetchPolicy,l=li(this.options,n||{}),u=o?l:d1(this.options,l),c=this.transformDocument(u.query);this.lastQuery=c,o||(this.updatePolling(),n&&n.variables&&!ce(n.variables,s)&&u.fetchPolicy!=="standby"&&u.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",u),r===void 0&&(r=ne.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=sp(u.fetchPolicy));var f=function(){i.concast===g&&(i.waitForOwnResult=!1)},d=u.variables&&S({},u.variables),h=this.fetch(u,r,c),g=h.concast,v=h.fromLink,b={next:function(p){ce(i.variables,d)&&(f(),i.reportResult(p,d))},error:function(p){ce(i.variables,d)&&(f(),i.reportError(p,d))}};return!o&&(v||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=g,this.observer=b),g.addObserver(b),g},e.prototype.reobserve=function(n,r){return this.reobserveAsConcast(n,r).promise},e.prototype.resubscribeAfterError=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this.last;this.resetLastResults();var o=this.subscribe.apply(this,n);return this.last=i,o},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError(),o=this.isDifferentFromLastResult(n,r);(i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),(i||o)&&Js(this.observers,"next",n)},e.prototype.reportError=function(n,r){var i=S(S({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:ne.error,loading:!1});this.updateLastResult(i,r),Js(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(n){return this.queryManager.transform(n)},e}(me);kb(op);function h1(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(i,o){return this.nextFetchPolicy=r,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(i,o):n}}):t.reobserve()}function c_(t){globalThis.__DEV__!==!1&&q.error(23,t.message,t.stack)}function p1(t){globalThis.__DEV__!==!1&&t&&globalThis.__DEV__!==!1&&q.debug(24,t)}function sp(t){return t==="network-only"||t==="no-cache"||t==="standby"}var m1=function(){function t(e){var n=e.cache,r=e.client,i=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=db(n.resolvers,r)}):this.resolvers=db(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){return br(this,arguments,void 0,function(n){var r=n.document,i=n.remoteResult,o=n.context,s=n.variables,a=n.onlyRunForcedResolvers,l=a===void 0?!1:a;return wr(this,function(u){return r?[2,this.resolveDocument(r,i.data,o,s,this.fragmentMatcher,l).then(function(c){return S(S({},i),{data:c.result})})]:[2,i]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return zs(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return fb(e)},t.prototype.prepareContext=function(e){var n=this.cache;return S(S({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e){return br(this,arguments,void 0,function(n,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),wr(this,function(o){return n?[2,this.resolveDocument(n,this.buildRootValueFromCache(n,r)||{},this.prepareContext(i),r).then(function(s){return S(S({},r),s.exportedVariables)})]:[2,S({},r)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return Kn(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return ph}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:HC(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n){return br(this,arguments,void 0,function(r,i,o,s,a,l){var u,c,f,d,h,g,v,b,p,m,y;return o===void 0&&(o={}),s===void 0&&(s={}),a===void 0&&(a=function(){return!0}),l===void 0&&(l=!1),wr(this,function(w){return u=Bs(r),c=ou(r),f=tu(c),d=this.collectSelectionsToResolve(u,f),h=u.operation,g=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",v=this,b=v.cache,p=v.client,m={fragmentMap:f,context:S(S({},o),{cache:b,client:p}),variables:s,fragmentMatcher:a,defaultOperationType:g,exportedVariables:{},selectionsToResolve:d,onlyRunForcedResolvers:l},y=!1,[2,this.resolveSelectionSet(u.selectionSet,y,i,m).then(function(k){return{result:k,exportedVariables:m.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,i){return br(this,void 0,void 0,function(){var o,s,a,l,u,c=this;return wr(this,function(f){return o=i.fragmentMap,s=i.context,a=i.variables,l=[r],u=function(d){return br(c,void 0,void 0,function(){var h,g;return wr(this,function(v){return!n&&!i.selectionsToResolve.has(d)?[2]:js(d,a)?Er(d)?[2,this.resolveField(d,n,r,i).then(function(b){var p;typeof b<"u"&&l.push((p={},p[Sr(d)]=b,p))})]:(OC(d)?h=d:(h=o[d.name.value],q(h,18,d.name.value)),h&&h.typeCondition&&(g=h.typeCondition.name.value,i.fragmentMatcher(r,g,s))?[2,this.resolveSelectionSet(h.selectionSet,n,r,i).then(function(b){l.push(b)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(u)).then(function(){return Ah(l)})]})})},t.prototype.resolveField=function(e,n,r,i){return br(this,void 0,void 0,function(){var o,s,a,l,u,c,f,d,h,g=this;return wr(this,function(v){return r?(o=i.variables,s=e.name.value,a=Sr(e),l=s!==a,u=r[a]||r[s],c=Promise.resolve(u),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(f=r.__typename||i.defaultOperationType,d=this.resolvers&&this.resolvers[f],d&&(h=d[l?s:a],h&&(c=Promise.resolve(Xh.withValue(this.cache,h,[r,iu(e,o),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,c.then(function(b){var p,m;if(b===void 0&&(b=u),e.directives&&e.directives.forEach(function(w){w.name.value==="export"&&w.arguments&&w.arguments.forEach(function(k){k.name.value==="as"&&k.value.kind==="StringValue"&&(i.exportedVariables[k.value.value]=b)})}),!e.selectionSet||b==null)return b;var y=(m=(p=e.directives)===null||p===void 0?void 0:p.some(function(w){return w.name.value==="client"}))!==null&&m!==void 0?m:!1;if(Array.isArray(b))return g.resolveSubSelectedArray(e,n||y,b,i);if(e.selectionSet)return g.resolveSelectionSet(e.selectionSet,n||y,b,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,i){var o=this;return Promise.all(r.map(function(s){if(s===null)return null;if(Array.isArray(s))return o.resolveSubSelectedArray(e,n,s,i);if(e.selectionSet)return o.resolveSelectionSet(e.selectionSet,n,s,i)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(s){return!Array.isArray(s)},i=this.selectionsToResolveCache;function o(s){if(!i.has(s)){var a=new Set;i.set(s,a),Kn(s,{Directive:function(l,u,c,f,d){l.name.value==="client"&&d.forEach(function(h){r(h)&&D0(h)&&a.add(h)})},FragmentSpread:function(l,u,c,f,d){var h=n[l.name.value];q(h,19,l.name.value);var g=o(h);g.size>0&&(d.forEach(function(v){r(v)&&D0(v)&&a.add(v)}),a.add(l),g.forEach(function(v){a.add(v)}))}})}return i.get(s)}return o(e)},t}(),Co=new(si?WeakMap:Map);function ap(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return Co.set(t,(Co.get(t)+1)%1e15),n.apply(this,arguments)})}function g1(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var lp=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Co.has(r)||(Co.set(r,0),ap(r,"evict"),ap(r,"modify"),ap(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||ne.loading;return this.variables&&this.networkStatus!==ne.loading&&!ce(this.variables,e.variables)&&(n=ne.setVariables),ce(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){g1(this),this.dirty=!1},t.prototype.resetDiff=function(){this.lastDiff=void 0},t.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&ce(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r,i=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&!(!((r=this.observableQuery)===null||r===void 0)&&r.options.returnPartialData)&&!(i&&i.complete)||(this.updateLastDiff(e),!this.dirty&&!ce(i&&i.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0))))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():h1(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;g1(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(na(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel;var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=S(S({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return n.setDiff(o)}});(!this.lastWatch||!ce(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===Co.get(this.cache)&&ce(n,r.variables)&&ce(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,i){var o=this,s=new Or,a=Jt(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Jt(e.incremental)){var l=Sb(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=s.merge(u.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(up(e,r.errorPolicy)?this.cache.performTransaction(function(c){if(o.shouldWrite(e,r.variables))c.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:i===1}),o.lastWrite={result:e,variables:r.variables,dmCount:Co.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var f=o.getDiffOptions(r.variables),d=c.diff(f);!o.stopped&&ce(o.variables,r.variables)&&o.updateWatch(r.variables),o.updateLastDiff(d,f),d.complete&&(e.data=d.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=ne.ready},t.prototype.markError=function(e){return this.networkStatus=ne.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function up(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!du(t);return!r&&n&&t.data&&(r=!0),r}var f_=Object.prototype.hasOwnProperty,y1=Object.create(null),d_=function(){function t(e){var n=e.cache,r=e.link,i=e.defaultOptions,o=e.documentTransform,s=e.queryDeduplication,a=s===void 0?!1:s,l=e.onBroadcast,u=e.ssrMode,c=u===void 0?!1:u,f=e.clientAwareness,d=f===void 0?{}:f,h=e.localState,g=e.assumeImmutableResults,v=g===void 0?!!n.assumeImmutableResults:g,b=e.defaultContext,p=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new bh(Cn["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new go(!1);var m=new sb(function(y){return p.cache.transformDocument(y)},{cache:!1});this.cache=n,this.link=r,this.defaultOptions=i||Object.create(null),this.queryDeduplication=a,this.clientAwareness=d,this.localState=h||new m1({cache:n}),this.ssrMode=c,this.assumeImmutableResults=v,this.documentTransform=o?m.concat(o).concat(m):m,this.defaultContext=b||Object.create(null),(this.onBroadcast=l)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(mt(25))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){return br(this,arguments,void 0,function(n){var r,i,o,s,a,l,u,c=n.mutation,f=n.variables,d=n.optimisticResponse,h=n.updateQueries,g=n.refetchQueries,v=g===void 0?[]:g,b=n.awaitRefetchQueries,p=b===void 0?!1:b,m=n.update,y=n.onQueryUpdated,w=n.fetchPolicy,k=w===void 0?((l=this.defaultOptions.mutate)===null||l===void 0?void 0:l.fetchPolicy)||"network-only":w,x=n.errorPolicy,E=x===void 0?((u=this.defaultOptions.mutate)===null||u===void 0?void 0:u.errorPolicy)||"none":x,C=n.keepRootFields,B=n.context;return wr(this,function(z){switch(z.label){case 0:return q(c,26),q(k==="network-only"||k==="no-cache",27),r=this.generateMutationId(),c=this.cache.transformForLink(this.transform(c)),i=this.getDocumentInfo(c).hasClientExports,f=this.getVariables(c,f),i?[4,this.localState.addExportedVariables(c,f,B)]:[3,2];case 1:f=z.sent(),z.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[r]={mutation:c,variables:f,loading:!0,error:null}),s=d&&this.markMutationOptimistic(d,{mutationId:r,document:c,variables:f,fetchPolicy:k,errorPolicy:E,context:B,updateQueries:h,update:m,keepRootFields:C}),this.broadcastQueries(),a=this,[2,new Promise(function(_e,N){return qh(a.getObservableFromLink(c,S(S({},B),{optimisticResponse:s?d:void 0}),f,!1),function(T){if(du(T)&&E==="none")throw new Cr({graphQLErrors:Vh(T)});o&&(o.loading=!1,o.error=null);var I=S({},T);return typeof v=="function"&&(v=v(I)),E==="ignore"&&du(I)&&delete I.errors,a.markMutationResult({mutationId:r,result:I,document:c,variables:f,fetchPolicy:k,errorPolicy:E,context:B,update:m,updateQueries:h,awaitRefetchQueries:p,refetchQueries:v,removeOptimistic:s?r:void 0,onQueryUpdated:y,keepRootFields:C})}).subscribe({next:function(T){a.broadcastQueries(),(!("hasNext"in T)||T.hasNext===!1)&&_e(T)},error:function(T){o&&(o.loading=!1,o.error=T),s&&a.cache.removeOptimistic(r),a.broadcastQueries(),N(T instanceof Cr?T:new Cr({networkError:T}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var i=e.result,o=[],s=e.fetchPolicy==="no-cache";if(!s&&up(i,e.errorPolicy)){if(Eo(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),Eo(i)&&Jt(i.incremental)){var a=n.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),l=void 0;a.result&&(l=Sb(a.result,i)),typeof l<"u"&&(i.data=l,o.push({result:l,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach(function(f,d){var h=f.observableQuery,g=h&&h.queryName;if(!(!g||!f_.call(u,g))){var v=u[g],b=r.queries.get(d),p=b.document,m=b.variables,y=n.diff({query:p,variables:m,returnPartialData:!0,optimistic:!1}),w=y.result,k=y.complete;if(k&&w){var x=v(w,{mutationResult:i,queryName:p&&Eh(p)||void 0,queryVariables:m});x&&o.push({result:x,dataId:"ROOT_QUERY",query:p,variables:m})}}})}if(o.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(f){s||o.forEach(function(v){return f.write(v)});var d=e.update,h=!aN(i)||Eo(i)&&!i.hasNext;if(d){if(!s){var g=f.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});g.complete&&(i=S(S({},i),{data:g.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}h&&d(f,i,{context:e.context,variables:e.variables})}!s&&!e.keepRootFields&&h&&f.modify({id:"ROOT_MUTATION",fields:function(v,b){var p=b.fieldName,m=b.DELETE;return p==="__typename"?v:m}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(f){return c.push(f)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i=typeof e=="function"?e(n.variables,{IGNORE:y1}):e;return i===y1?!1:(this.cache.recordOptimisticTransaction(function(o){try{r.markMutationResult(S(S({},n),{result:{data:i}}),o)}catch(s){globalThis.__DEV__!==!1&&q.error(s)}},n.mutationId),!0)},t.prototype.fetchQuery=function(e,n,r){return this.fetchConcastWithInfo(e,n,r).concast.promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},t.prototype.getDocumentInfo=function(e){var n=this.transformCache;if(!n.has(e)){var r={hasClientExports:$O(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:zs(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:cb([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:Th(Vs(e)),asQuery:S(S({},e),{definitions:e.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?S(S({},i),{operation:"query"}):i})})};n.set(e,r)}return n.get(e)},t.prototype.getVariables=function(e,n){return S(S({},this.getDocumentInfo(e).defaultVars),n)},t.prototype.watchQuery=function(e){var n=this.transform(e.query);e=S(S({},e),{variables:this.getVariables(n,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var r=new lp(this),i=new op({queryManager:this,queryInfo:r,options:e});return i.lastQuery=n,this.queries.set(i.queryId,r),r.init({document:n,observableQuery:i,variables:i.variables}),i},t.prototype.query=function(e,n){var r=this;return n===void 0&&(n=this.generateQueryId()),q(e.query,28),q(e.query.kind==="Document",29),q(!e.returnPartialData,30),q(!e.pollInterval,31),this.fetchQuery(n,S(S({},e),{query:this.transform(e.query)})).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(mt(32)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=ne.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,i=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(s){typeof s=="string"?i.set(s,!1):pC(s)?i.set(n.transform(s),!1):Ee(s)&&s.query&&o.add(s)}),this.queries.forEach(function(s,a){var l=s.observableQuery,u=s.document;if(l){if(e==="all"){r.set(a,l);return}var c=l.queryName,f=l.options.fetchPolicy;if(f==="standby"||e==="active"&&!l.hasObservers())return;(e==="active"||c&&i.has(c)||u&&i.has(u))&&(r.set(a,l),c&&i.set(c,!0),u&&i.set(u,!0))}}),o.size&&o.forEach(function(s){var a=oh("legacyOneTimeQuery"),l=n.getQuery(a).init({document:s.query,variables:s.variables}),u=new op({queryManager:n,queryInfo:l,options:S(S({},s),{fetchPolicy:"network-only"})});q(u.queryId===a),l.setObservableQuery(u),r.set(a,u)}),globalThis.__DEV__!==!1&&i.size&&i.forEach(function(s,a){s||globalThis.__DEV__!==!1&&q.warn(typeof a=="string"?33:34,a)}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(e||s!=="standby"&&s!=="cache-only")&&r.push(i.refetch()),n.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.fetchPolicy,o=e.errorPolicy,s=o===void 0?"none":o,a=e.variables,l=e.context,u=l===void 0?{}:l;r=this.transform(r),a=this.getVariables(r,a);var c=function(d){return n.getObservableFromLink(r,u,d).map(function(h){i!=="no-cache"&&(up(h,s)&&n.cache.write({query:r,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:d}),n.broadcastQueries());var g=du(h),v=SN(h);if(g||v){var b={};if(g&&(b.graphQLErrors=h.errors),v&&(b.protocolErrors=h.extensions[Qh]),s==="none"||v)throw new Cr(b)}return s==="ignore"&&delete h.errors,h})};if(this.getDocumentInfo(r).hasClientExports){var f=this.localState.addExportedVariables(r,a,u).then(c);return new me(function(d){var h=null;return f.then(function(g){return h=g.subscribe(d)},d.error),function(){return h&&h.unsubscribe()}})}return c(a)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i){var o=this,s;i===void 0&&(i=(s=n==null?void 0:n.queryDeduplication)!==null&&s!==void 0?s:this.queryDeduplication);var a,l=this.getDocumentInfo(e),u=l.serverQuery,c=l.clientQuery;if(u){var f=this,d=f.inFlightLinkObservables,h=f.link,g={query:u,variables:r,operationName:Eh(u)||void 0,context:this.prepareContext(S(S({},n),{forceFetch:!i}))};if(n=g.context,i){var v=uu(u),b=xr(r),p=d.lookup(v,b);if(a=p.observable,!a){var m=new So([Uh(h,g)]);a=p.observable=m,m.beforeNext(function(){d.remove(v,b)})}}else a=new So([Uh(h,g)])}else a=new So([me.of({data:{}})]),n=this.prepareContext(n);return c&&(a=qh(a,function(y){return o.localState.runResolvers({document:c,remoteResult:y,context:n,variables:r})})),a},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(r.query);return qh(this.getObservableFromLink(o,r.context,r.variables),function(s){var a=Vh(s),l=a.length>0;if(i>=e.lastRequestId){if(l&&r.errorPolicy==="none")throw e.markError(new Cr({graphQLErrors:a}));e.markResult(s,o,r,n),e.markReady()}var u={data:s.data,loading:!1,networkStatus:ne.ready};return l&&r.errorPolicy!=="ignore"&&(u.errors=a,u.networkStatus=ne.error),u},function(s){var a=EN(s)?s:new Cr({networkError:s});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchConcastWithInfo=function(e,n,r,i){var o=this;r===void 0&&(r=ne.loading),i===void 0&&(i=n.query);var s=this.getVariables(i,n.variables),a=this.getQuery(e),l=this.defaultOptions.watchQuery,u=n.fetchPolicy,c=u===void 0?l&&l.fetchPolicy||"cache-first":u,f=n.errorPolicy,d=f===void 0?l&&l.errorPolicy||"none":f,h=n.returnPartialData,g=h===void 0?!1:h,v=n.notifyOnNetworkStatusChange,b=v===void 0?!1:v,p=n.context,m=p===void 0?{}:p,y=Object.assign({},n,{query:i,variables:s,fetchPolicy:c,errorPolicy:d,returnPartialData:g,notifyOnNetworkStatusChange:b,context:m}),w=function(B){y.variables=B;var z=o.fetchQueryByPolicy(a,y,r);return y.fetchPolicy!=="standby"&&z.sources.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",n),z},k=function(){return o.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(B){k(),setTimeout(function(){return x.cancel(B)})});var x,E;if(this.getDocumentInfo(y.query).hasClientExports)x=new So(this.localState.addExportedVariables(y.query,y.variables,y.context).then(w).then(function(B){return B.sources})),E=!0;else{var C=w(y.variables);E=C.fromLink,x=new So(C.sources)}return x.promise.then(k,k),{concast:x,fromLink:E}},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,o=e.optimistic,s=o===void 0?!1:o,a=e.removeOptimistic,l=a===void 0?s?oh("refetchQueries"):void 0:a,u=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(d,h){c.set(h,{oq:d,lastDiff:n.getQuery(h).getDiff()})});var f=new Map;return r&&this.cache.batch({update:r,optimistic:s&&l||!1,removeOptimistic:l,onWatchUpdated:function(d,h,g){var v=d.watcher instanceof lp&&d.watcher.observableQuery;if(v){if(u){c.delete(v.queryId);var b=u(v,h,g);return b===!0&&(b=v.refetch()),b!==!1&&f.set(v,b),b}u!==null&&c.set(v.queryId,{oq:v,lastDiff:g,diff:h})}}}),c.size&&c.forEach(function(d,h){var g=d.oq,v=d.lastDiff,b=d.diff,p;if(u){if(!b){var m=g.queryInfo;m.reset(),b=m.getDiff()}p=u(g,b,v)}(!u||p===!0)&&(p=g.refetch()),p!==!1&&f.set(g,p),h.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(h)}),l&&this.cache.removeOptimistic(l),f},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,o=n.query,s=n.variables,a=n.fetchPolicy,l=n.refetchWritePolicy,u=n.errorPolicy,c=n.returnPartialData,f=n.context,d=n.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:o,variables:s,networkStatus:r});var g=function(){return e.getDiff()},v=function(w,k){k===void 0&&(k=e.networkStatus||ne.loading);var x=w.result;globalThis.__DEV__!==!1&&!c&&!ce(x,{})&&p1(w.missing);var E=function(C){return me.of(S({data:C,loading:na(k),networkStatus:k},w.complete?null:{partial:!0}))};return x&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:x},context:f,variables:s,onlyRunForcedResolvers:!0}).then(function(C){return E(C.data||void 0)}):u==="none"&&k===ne.refetch&&Array.isArray(w.missing)?E(void 0):E(x)},b=a==="no-cache"?0:r===ne.refetch&&l!=="merge"?1:2,p=function(){return i.getResultsFromLink(e,b,{query:o,variables:s,context:f,fetchPolicy:a,errorPolicy:u})},m=d&&typeof h=="number"&&h!==r&&na(r);switch(a){default:case"cache-first":{var y=g();return y.complete?{fromLink:!1,sources:[v(y,e.markReady())]}:c||m?{fromLink:!0,sources:[v(y),p()]}:{fromLink:!0,sources:[p()]}}case"cache-and-network":{var y=g();return y.complete||c||m?{fromLink:!0,sources:[v(y),p()]}:{fromLink:!0,sources:[p()]}}case"cache-only":return{fromLink:!1,sources:[v(g(),e.markReady())]};case"network-only":return m?{fromLink:!0,sources:[v(g()),p()]}:{fromLink:!0,sources:[p()]};case"no-cache":return m?{fromLink:!0,sources:[v(e.getDiff()),p()]}:{fromLink:!0,sources:[p()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new lp(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return S(S(S({},this.defaultContext),n),{clientAwareness:this.clientAwareness})},t}(),v1=!1,b1=function(){function t(e){var n=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw mt(15);var r=e.uri,i=e.credentials,o=e.headers,s=e.cache,a=e.documentTransform,l=e.ssrMode,u=l===void 0?!1:l,c=e.ssrForceFetchDelay,f=c===void 0?0:c,d=e.connectToDevTools,h=d===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&globalThis.__DEV__!==!1:d,g=e.queryDeduplication,v=g===void 0?!0:g,b=e.defaultOptions,p=e.defaultContext,m=e.assumeImmutableResults,y=m===void 0?s.assumeImmutableResults:m,w=e.resolvers,k=e.typeDefs,x=e.fragmentMatcher,E=e.name,C=e.version,B=e.link;B||(B=r?new Mb({uri:r,credentials:i,headers:o}):Ys.empty()),this.link=B,this.cache=s,this.disableNetworkFetches=u||f>0,this.queryDeduplication=v,this.defaultOptions=b||Object.create(null),this.typeDefs=k,f&&setTimeout(function(){return n.disableNetworkFetches=!1},f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=rh,this.localState=new m1({cache:s,client:this,resolvers:w,fragmentMatcher:x}),this.queryManager=new d_({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:p,documentTransform:a,queryDeduplication:v,ssrMode:u,clientAwareness:{name:E,version:C},localState:this.localState,assumeImmutableResults:y,onBroadcast:h?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0}),h&&this.connectToDevTools()}return t.prototype.connectToDevTools=function(){if(typeof window=="object"){var e=window,n=Symbol.for("apollo.devtools");(e[n]=e[n]||[]).push(this),e.__APOLLO_CLIENT__=this}!v1&&globalThis.__DEV__!==!1&&(v1=!0,setTimeout(function(){if(typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var r=window.navigator,i=r&&r.userAgent,o=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&q.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))},Object.defineProperty(t.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=hu(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=S(S({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=hu(this.defaultOptions.query,e)),q(e.fetchPolicy!=="cache-and-network",16),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=S(S({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=hu(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){var n=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.writeFragment=function(e){var n=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return Uh(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(s,a){r.push(a),i.push(s)});var o=Promise.all(i);return o.queries=r,o.results=i,o.catch(function(s){globalThis.__DEV__!==!1&&q.debug(17,s)}),o},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(t.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),t}();globalThis.__DEV__!==!1&&(b1.prototype.getMemoryInternals=oC);var vu=new Map,cp=new Map,w1=!0,bu=!1;function k1(t){return t.replace(/[\s,]+/g," ").trim()}function h_(t){return k1(t.source.body.substring(t.start,t.end))}function p_(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,o=h_(r.loc),s=cp.get(i);s&&!s.has(o)?w1&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||cp.set(i,s=new Set),s.add(o),e.has(o)||(e.add(o),n.push(r))}else n.push(r)}),S(S({},t),{definitions:n})}function m_(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var o=r[i];o&&typeof o=="object"&&e.add(o)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function g_(t){var e=k1(t);if(!vu.has(e)){var n=MO(t,{experimentalFragmentVariables:bu,allowLegacyFragmentVariables:bu});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");vu.set(e,m_(p_(n)))}return vu.get(e)}function No(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,o){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[o+1]}),g_(r)}function y_(){vu.clear(),cp.clear()}function v_(){w1=!1}function b_(){bu=!0}function w_(){bu=!1}var ra={gql:No,resetCaches:y_,disableFragmentWarnings:v_,enableExperimentalFragmentVariables:b_,disableExperimentalFragmentVariables:w_};(function(t){t.gql=ra.gql,t.resetCaches=ra.resetCaches,t.disableFragmentWarnings=ra.disableFragmentWarnings,t.enableExperimentalFragmentVariables=ra.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=ra.disableExperimentalFragmentVariables})(No||(No={})),No.default=No;var Xe=wt;const k_=Ho(Xe),x1=zc({__proto__:null,default:k_},[Xe]);var S1=mh?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function fp(){q("createContext"in x1,45);var t=Xe.createContext[S1];return t||(Object.defineProperty(Xe.createContext,S1,{value:t=Xe.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var x_=function(t){var e=t.client,n=t.children,r=fp(),i=Xe.useContext(r),o=Xe.useMemo(function(){return S(S({},i),{client:e||i.client})},[i,e]);return q(o.client,46),Xe.createElement(r.Provider,{value:o},n)};function E1(t){var e=Xe.useContext(fp()),n=t||e.client;return q(!!n,49),n}var T1=!1,S_="useSyncExternalStore",E_=x1[S_],T_=E_||function(t,e,n){var r=e();globalThis.__DEV__!==!1&&!T1&&r!==e()&&(T1=!0,globalThis.__DEV__!==!1&&q.error(58));var i=Xe.useState({inst:{value:r,getSnapshot:e}}),o=i[0].inst,s=i[1];return JO?Xe.useLayoutEffect(function(){Object.assign(o,{value:r,getSnapshot:e}),dp(o)&&s({inst:o})},[t,r,e]):Object.assign(o,{value:r,getSnapshot:e}),Xe.useEffect(function(){return dp(o)&&s({inst:o}),t(function(){dp(o)&&s({inst:o})})},[t]),r};function dp(t){var e=t.value,n=t.getSnapshot;try{return e!==n()}catch{return!0}}var Jn;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(Jn||(Jn={}));var ui;function O1(t){var e;switch(t){case Jn.Query:e="Query";break;case Jn.Mutation:e="Mutation";break;case Jn.Subscription:e="Subscription";break}return e}function C1(t){ui||(ui=new bh(Cn.parser||1e3));var e=ui.get(t);if(e)return e;var n,r,i;q(!!t&&!!t.kind,59,t);for(var o=[],s=[],a=[],l=[],u=0,c=t.definitions;u<c.length;u++){var f=c[u];if(f.kind==="FragmentDefinition"){o.push(f);continue}if(f.kind==="OperationDefinition")switch(f.operation){case"query":s.push(f);break;case"mutation":a.push(f);break;case"subscription":l.push(f);break}}q(!o.length||s.length||a.length||l.length,60),q(s.length+a.length+l.length<=1,61,t,s.length,l.length,a.length),r=s.length?Jn.Query:Jn.Mutation,!s.length&&!a.length&&(r=Jn.Subscription);var d=s.length?s:a.length?a:l;q(d.length===1,62,t,d.length);var h=d[0];n=h.variableDefinitions||[],h.name&&h.name.kind==="Name"?i=h.name.value:i="data";var g={name:i,type:r,variables:n};return ui.set(t,g),g}C1.resetCache=function(){ui=void 0},globalThis.__DEV__!==!1&&wh("parser",function(){return ui?ui.size:0});function O_(t,e){var n=C1(t),r=O1(e),i=O1(n.type);q(n.type===e,63,r,r,i)}var C_=Symbol.for("apollo.hook.wrappers");function N_(t,e,n){var r=n.queryManager,i=r&&r[C_],o=i&&i[t];return o?o(e):e}var __=Object.prototype.hasOwnProperty;function M_(t,e){return e===void 0&&(e=Object.create(null)),N_("useQuery",I_,E1(e&&e.client))(t,e)}function I_(t,e){return A_(E1(e.client),t).useQuery(e)}function A_(t,e){var n=Xe.useRef();(!n.current||t!==n.current.client||e!==n.current.query)&&(n.current=new D_(t,e,n.current));var r=n.current;return r.forceUpdateState=Xe.useReducer(function(i){return i+1},0)[1],r}var D_=function(){function t(e,n,r){var i=this;this.client=e,this.query=n,this.forceUpdate=function(){return i.forceUpdateState()},this.ssrDisabledResult=Ks({loading:!0,data:void 0,error:void 0,networkStatus:ne.loading}),this.skipStandbyResult=Ks({loading:!1,data:void 0,error:void 0,networkStatus:ne.ready}),this.toQueryResultCache=new(si?WeakMap:Map),O_(n,Jn.Query);var o=r&&r.result,s=o&&o.data;s&&(this.previousData=s)}return t.prototype.forceUpdateState=function(){globalThis.__DEV__!==!1&&q.warn(51)},t.prototype.executeQuery=function(e){var n=this,r;e.query&&Object.assign(this,{query:e.query}),this.watchQueryOptions=this.createWatchQueryOptions(this.queryHookOptions=e);var i=this.observable.reobserveAsConcast(this.getObsQueryOptions());return this.previousData=((r=this.result)===null||r===void 0?void 0:r.data)||this.previousData,this.result=void 0,this.forceUpdate(),new Promise(function(o){var s;i.subscribe({next:function(a){s=a},error:function(){o(n.toQueryResult(n.observable.getCurrentResult()))},complete:function(){o(n.toQueryResult(s))}})})},t.prototype.useQuery=function(e){var n=this;this.renderPromises=Xe.useContext(fp()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),i=T_(Xe.useCallback(function(o){if(n.renderPromises)return function(){};n.forceUpdate=o;var s=function(){var u=n.result,c=r.getCurrentResult();u&&u.loading===c.loading&&u.networkStatus===c.networkStatus&&ce(u.data,c.data)||n.setResult(c)},a=function(u){if(l.unsubscribe(),l=r.resubscribeAfterError(s,a),!__.call(u,"graphQLErrors"))throw u;var c=n.result;(!c||c&&c.loading||!ce(u,c.error))&&n.setResult({data:c&&c.data,error:u,loading:!1,networkStatus:ne.error})},l=r.subscribe(s,a);return function(){setTimeout(function(){return l.unsubscribe()}),n.forceUpdate=function(){return n.forceUpdateState()}}},[r,this.renderPromises,this.client.disableNetworkFetches]),function(){return n.getCurrentResult()},function(){return n.getCurrentResult()});return this.unsafeHandlePartialRefetch(i),this.toQueryResult(i)},t.prototype.useOptions=function(e){var n,r=this.createWatchQueryOptions(this.queryHookOptions=e),i=this.watchQueryOptions;ce(r,i)||(this.watchQueryOptions=r,i&&this.observable&&(this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((n=this.result)===null||n===void 0?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||t.prototype.onCompleted,this.onError=e.onError||t.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},t.prototype.getObsQueryOptions=function(){var e=[],n=this.client.defaultOptions.watchQuery;return n&&e.push(n),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(li(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(hu)},t.prototype.createWatchQueryOptions=function(e){var n;e===void 0&&(e={});var r=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var i=On(e,["skip","ssr","onCompleted","onError","defaultOptions"]),o=Object.assign(i,{query:this.query});if(this.renderPromises&&(o.fetchPolicy==="network-only"||o.fetchPolicy==="cache-and-network")&&(o.fetchPolicy="cache-first"),o.variables||(o.variables={}),r){var s=o.fetchPolicy,a=s===void 0?this.getDefaultFetchPolicy():s,l=o.initialFetchPolicy,u=l===void 0?a:l;Object.assign(o,{initialFetchPolicy:u,fetchPolicy:"standby"})}else o.fetchPolicy||(o.fetchPolicy=((n=this.observable)===null||n===void 0?void 0:n.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return o},t.prototype.getDefaultFetchPolicy=function(){var e,n;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((n=this.client.defaultOptions.watchQuery)===null||n===void 0?void 0:n.fetchPolicy)||"cache-first"},t.prototype.onCompleted=function(e){},t.prototype.onError=function(e){},t.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=Xe.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var n=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&n&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},t.prototype.setResult=function(e){var n=this.result;n&&n.data&&(this.previousData=n.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e,n)},t.prototype.handleErrorOrCompleted=function(e,n){var r=this;if(!e.loading){var i=this.toApolloError(e);Promise.resolve().then(function(){i?r.onError(i):e.data&&(n==null?void 0:n.networkStatus)!==e.networkStatus&&e.networkStatus===ne.ready&&r.onCompleted(e.data)}).catch(function(o){globalThis.__DEV__!==!1&&q.warn(o)})}},t.prototype.toApolloError=function(e){return Jt(e.errors)?new Cr({graphQLErrors:e.errors}):e.error},t.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},t.prototype.toQueryResult=function(e){var n=this.toQueryResultCache.get(e);if(n)return n;var r=e.data;e.partial;var i=On(e,["data","partial"]);return this.toQueryResultCache.set(e,n=S(S(S({data:r},i),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!n.error&&Jt(e.errors)&&(n.error=new Cr({graphQLErrors:e.errors})),n},t.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:ne.refetch}),this.observable.refetch())},t}(),N1=(t=>(t[t.ANONYMOUS=0]="ANONYMOUS",t))(N1||{});const R_="https://pu-course-staging.hasura.app/v1/graphql",P_=t=>({"x-hasura-role":t===0?"anonymous":"admin"}),L_=t=>new Mb({uri:R_,headers:P_(t)}),F_=t=>new b1({link:L_(t),cache:new c1});function j_(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function z_(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $_=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(z_(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=j_(r);try{i.insertRule(n,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),at="-ms-",wu="-moz-",re="-webkit-",_1="comm",hp="rule",pp="decl",q_="@import",M1="@keyframes",V_="@layer",B_=Math.abs,ku=String.fromCharCode,U_=Object.assign;function Q_(t,e){return Ze(t,0)^45?(((e<<2^Ze(t,0))<<2^Ze(t,1))<<2^Ze(t,2))<<2^Ze(t,3):0}function I1(t){return t.trim()}function H_(t,e){return(t=e.exec(t))?t[0]:t}function ie(t,e,n){return t.replace(e,n)}function mp(t,e){return t.indexOf(e)}function Ze(t,e){return t.charCodeAt(e)|0}function ia(t,e,n){return t.slice(e,n)}function Nn(t){return t.length}function gp(t){return t.length}function xu(t,e){return e.push(t),t}function W_(t,e){return t.map(e).join("")}var Su=1,_o=1,A1=0,Ot=0,Ae=0,Mo="";function Eu(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Su,column:_o,length:s,return:""}}function oa(t,e){return U_(Eu("",null,null,"",null,null,0),t,{length:-t.length},e)}function K_(){return Ae}function J_(){return Ae=Ot>0?Ze(Mo,--Ot):0,_o--,Ae===10&&(_o=1,Su--),Ae}function Ft(){return Ae=Ot<A1?Ze(Mo,Ot++):0,_o++,Ae===10&&(_o=1,Su++),Ae}function _n(){return Ze(Mo,Ot)}function Tu(){return Ot}function sa(t,e){return ia(Mo,t,e)}function aa(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D1(t){return Su=_o=1,A1=Nn(Mo=t),Ot=0,[]}function R1(t){return Mo="",t}function Ou(t){return I1(sa(Ot-1,yp(t===91?t+2:t===40?t+1:t)))}function G_(t){for(;(Ae=_n())&&Ae<33;)Ft();return aa(t)>2||aa(Ae)>3?"":" "}function Y_(t,e){for(;--e&&Ft()&&!(Ae<48||Ae>102||Ae>57&&Ae<65||Ae>70&&Ae<97););return sa(t,Tu()+(e<6&&_n()==32&&Ft()==32))}function yp(t){for(;Ft();)switch(Ae){case t:return Ot;case 34:case 39:t!==34&&t!==39&&yp(Ae);break;case 40:t===41&&yp(t);break;case 92:Ft();break}return Ot}function X_(t,e){for(;Ft()&&t+Ae!==57&&!(t+Ae===84&&_n()===47););return"/*"+sa(e,Ot-1)+"*"+ku(t===47?t:Ft())}function Z_(t){for(;!aa(_n());)Ft();return sa(t,Ot)}function eM(t){return R1(Cu("",null,null,null,[""],t=D1(t),0,[0],t))}function Cu(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,d=0,h=0,g=0,v=1,b=1,p=1,m=0,y="",w=i,k=o,x=r,E=y;b;)switch(g=m,m=Ft()){case 40:if(g!=108&&Ze(E,f-1)==58){mp(E+=ie(Ou(m),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:E+=Ou(m);break;case 9:case 10:case 13:case 32:E+=G_(g);break;case 92:E+=Y_(Tu()-1,7);continue;case 47:switch(_n()){case 42:case 47:xu(tM(X_(Ft(),Tu()),e,n),l);break;default:E+="/"}break;case 123*v:a[u++]=Nn(E)*p;case 125*v:case 59:case 0:switch(m){case 0:case 125:b=0;case 59+c:p==-1&&(E=ie(E,/\f/g,"")),h>0&&Nn(E)-f&&xu(h>32?L1(E+";",r,n,f-1):L1(ie(E," ","")+";",r,n,f-2),l);break;case 59:E+=";";default:if(xu(x=P1(E,e,n,u,c,i,a,y,w=[],k=[],f),o),m===123)if(c===0)Cu(E,e,x,x,w,o,f,a,k);else switch(d===99&&Ze(E,3)===110?100:d){case 100:case 108:case 109:case 115:Cu(t,x,x,r&&xu(P1(t,x,x,0,0,i,a,y,i,w=[],f),k),i,k,f,a,r?w:k);break;default:Cu(E,x,x,x,[""],k,0,a,k)}}u=c=h=0,v=p=1,y=E="",f=s;break;case 58:f=1+Nn(E),h=g;default:if(v<1){if(m==123)--v;else if(m==125&&v++==0&&J_()==125)continue}switch(E+=ku(m),m*v){case 38:p=c>0?1:(E+="\f",-1);break;case 44:a[u++]=(Nn(E)-1)*p,p=1;break;case 64:_n()===45&&(E+=Ou(Ft())),d=_n(),c=f=Nn(y=E+=Z_(Tu())),m++;break;case 45:g===45&&Nn(E)==2&&(v=0)}}return o}function P1(t,e,n,r,i,o,s,a,l,u,c){for(var f=i-1,d=i===0?o:[""],h=gp(d),g=0,v=0,b=0;g<r;++g)for(var p=0,m=ia(t,f+1,f=B_(v=s[g])),y=t;p<h;++p)(y=I1(v>0?d[p]+" "+m:ie(m,/&\f/g,d[p])))&&(l[b++]=y);return Eu(t,e,n,i===0?hp:a,l,u,c)}function tM(t,e,n){return Eu(t,e,n,_1,ku(K_()),ia(t,2,-2),0)}function L1(t,e,n,r){return Eu(t,e,n,pp,ia(t,0,r),ia(t,r+1,-1),r)}function Io(t,e){for(var n="",r=gp(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function nM(t,e,n,r){switch(t.type){case V_:if(t.children.length)break;case q_:case pp:return t.return=t.return||t.value;case _1:return"";case M1:return t.return=t.value+"{"+Io(t.children,r)+"}";case hp:t.value=t.props.join(",")}return Nn(n=Io(t.children,r))?t.return=t.value+"{"+n+"}":""}function rM(t){var e=gp(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function iM(t){return function(e){e.root||(e=e.return)&&t(e)}}function oM(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var sM=function(t,e,n){for(var r=0,i=0;r=i,i=_n(),r===38&&i===12&&(e[n]=1),!aa(i);)Ft();return sa(t,Ot)},aM=function(t,e){var n=-1,r=44;do switch(aa(r)){case 0:r===38&&_n()===12&&(e[n]=1),t[n]+=sM(Ot-1,e,n);break;case 2:t[n]+=Ou(r);break;case 4:if(r===44){t[++n]=_n()===58?"&\f":"",e[n]=t[n].length;break}default:t[n]+=ku(r)}while(r=Ft());return t},lM=function(t,e){return R1(aM(D1(t),e))},F1=new WeakMap,uM=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!F1.get(n))&&!r){F1.set(t,!0);for(var i=[],o=lM(e,i),s=n.props,a=0,l=0;a<o.length;a++)for(var u=0;u<s.length;u++,l++)t.props[l]=i[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},cM=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function j1(t,e){switch(Q_(t,e)){case 5103:return re+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return re+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return re+t+wu+t+at+t+t;case 6828:case 4268:return re+t+at+t+t;case 6165:return re+t+at+"flex-"+t+t;case 5187:return re+t+ie(t,/(\w+).+(:[^]+)/,re+"box-$1$2"+at+"flex-$1$2")+t;case 5443:return re+t+at+"flex-item-"+ie(t,/flex-|-self/,"")+t;case 4675:return re+t+at+"flex-line-pack"+ie(t,/align-content|flex-|-self/,"")+t;case 5548:return re+t+at+ie(t,"shrink","negative")+t;case 5292:return re+t+at+ie(t,"basis","preferred-size")+t;case 6060:return re+"box-"+ie(t,"-grow","")+re+t+at+ie(t,"grow","positive")+t;case 4554:return re+ie(t,/([^-])(transform)/g,"$1"+re+"$2")+t;case 6187:return ie(ie(ie(t,/(zoom-|grab)/,re+"$1"),/(image-set)/,re+"$1"),t,"")+t;case 5495:case 3959:return ie(t,/(image-set\([^]*)/,re+"$1$`$1");case 4968:return ie(ie(t,/(.+:)(flex-)?(.*)/,re+"box-pack:$3"+at+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+re+t+t;case 4095:case 3583:case 4068:case 2532:return ie(t,/(.+)-inline(.+)/,re+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nn(t)-1-e>6)switch(Ze(t,e+1)){case 109:if(Ze(t,e+4)!==45)break;case 102:return ie(t,/(.+:)(.+)-([^]+)/,"$1"+re+"$2-$3$1"+wu+(Ze(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~mp(t,"stretch")?j1(ie(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ze(t,e+1)!==115)break;case 6444:switch(Ze(t,Nn(t)-3-(~mp(t,"!important")&&10))){case 107:return ie(t,":",":"+re)+t;case 101:return ie(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+re+(Ze(t,14)===45?"inline-":"")+"box$3$1"+re+"$2$3$1"+at+"$2box$3")+t}break;case 5936:switch(Ze(t,e+11)){case 114:return re+t+at+ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return re+t+at+ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return re+t+at+ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return re+t+at+t+t}return t}var fM=function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case pp:t.return=j1(t.value,t.length);break;case M1:return Io([oa(t,{value:ie(t.value,"@","@"+re)})],r);case hp:if(t.length)return W_(t.props,function(i){switch(H_(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Io([oa(t,{props:[ie(i,/:(read-\w+)/,":"+wu+"$1")]})],r);case"::placeholder":return Io([oa(t,{props:[ie(i,/:(plac\w+)/,":"+re+"input-$1")]}),oa(t,{props:[ie(i,/:(plac\w+)/,":"+wu+"$1")]}),oa(t,{props:[ie(i,/:(plac\w+)/,at+"input-$1")]})],r)}return""})}},dM=[fM],hM=function(t){var e=t.key;if(e==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var r=t.stylisPlugins||dM,i={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)i[v[b]]=!0;s.push(g)});var a,l=[uM,cM];{var u,c=[nM,iM(function(g){u.insert(g)})],f=rM(l.concat(r,c)),d=function(g){return Io(eM(g),f)};a=function(g,v,b,p){u=b,d(g?g+"{"+v.styles+"}":v.styles),p&&(h.inserted[v.name]=!0)}}var h={key:e,sheet:new $_({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:a};return h.sheet.hydrate(s),h};function pM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gM=/[A-Z]|^ms/g,yM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,z1=function(t){return t.charCodeAt(1)===45},$1=function(t){return t!=null&&typeof t!="boolean"},vp=oM(function(t){return z1(t)?t:t.replace(gM,"-$&").toLowerCase()}),q1=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(yM,function(n,r,i){return Mn={name:r,styles:i,next:Mn},r})}return mM[t]!==1&&!z1(t)&&typeof e=="number"&&e!==0?e+"px":e};function la(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Mn={name:n.name,styles:n.styles,next:Mn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Mn={name:r.name,styles:r.styles,next:Mn},r=r.next;var i=n.styles+";";return i}return vM(t,e,n)}case"function":{if(t!==void 0){var o=Mn,s=n(t);return Mn=o,la(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function vM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=la(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":$1(s)&&(r+=vp(o)+":"+q1(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)$1(s[a])&&(r+=vp(o)+":"+q1(o,s[a])+";");else{var l=la(t,e,s);switch(o){case"animation":case"animationName":{r+=vp(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var V1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Mn,Nu=function(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Mn=void 0;var o=t[0];o==null||o.raw===void 0?(r=!1,i+=la(n,e,o)):i+=o[0];for(var s=1;s<t.length;s++)i+=la(n,e,t[s]),r&&(i+=o[s]);V1.lastIndex=0;for(var a="",l;(l=V1.exec(i))!==null;)a+="-"+l[1];var u=pM(i)+a;return{name:u,styles:i,next:Mn}},bM=!0;function B1(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var wM=function(t,e,n){var r=t.key+"-"+e.name;(n===!1||bM===!1)&&t.registered[r]===void 0&&(t.registered[r]=e.styles)},kM=function(t,e,n){wM(t,e,n);var r=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var i=e;do t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function U1(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function Q1(t,e,n){var r=[],i=B1(t,r,n);return r.length<2?n:i+e(r)}var xM=function(t){var e=hM(t);e.sheet.speedy=function(s){this.isSpeedy=s},e.compat=!0;var n=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=Nu(a,e.registered,void 0);return kM(e,u,!1),e.key+"-"+u.name},r=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=Nu(a,e.registered),c="animation-"+u.name;return U1(e,{name:u.name,styles:"@keyframes "+c+"{"+u.styles+"}"}),c},i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=Nu(a,e.registered);U1(e,u)},o=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return Q1(e.registered,n,SM(a))};return{css:n,cx:o,injectGlobal:i,keyframes:r,hydrate:function(s){s.forEach(function(a){e.inserted[a]=!0})},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:B1.bind(null,e.registered),merge:Q1.bind(null,e.registered,n)}},SM=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(i!=null){var o=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=t(i);else{o="";for(var s in i)i[s]&&s&&(o&&(o+=" "),o+=s)}break}default:o=i}o&&(n&&(n+=" "),n+=o)}}return n},EM=xM({key:"css"}),ke=EM.css;ke({display:"flex",width:"100%"});const TM=ke({display:"flex",flexDirection:"column",flex:1}),H1=wt.createContext(void 0),OM=({children:t,course:e})=>{const[n,r]=wt.useState({activeLecture:e.content[0].items[0],course:e,sidebarOpen:!0}),i=o=>{r(s=>({...s,activeLecture:o,course:(s==null?void 0:s.course)||e}))};return W.jsx(H1.Provider,{value:{state:n,onSelectLecture:i},children:t})},ua=()=>{const t=wt.useContext(H1);if(t===void 0)throw new Error("useCourse must be used within a CourseProvider");return t},CM=ke({}),NM=()=>W.jsx("div",{className:CM,children:"discussion"}),_M=ke({maxHeight:"600px",overflowY:"auto",maxWidth:"600px",backgroundColor:"#fff",overflow:"hidden",minWidth:320}),W1=ke({borderBottom:"1px solid #ddd"}),MM=ke({cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"normal",width:"100%",gap:"0.5rem",backgroundColor:"#f5f5f5",border:0,minHeight:40,padding:"8px 12px"}),IM=ke({display:"grid",gap:"0.25rem",width:"100%"}),AM=ke({fontWeight:"bold",textAlign:"left",fontSize:"0.9rem"}),DM=ke({textAlign:"left",fontSize:"0.85rem"}),RM=ke({backgroundColor:"#fff"}),PM=ke({listStyleType:"none",margin:0,padding:0,paddingLeft:0}),K1=ke({margin:0,padding:0}),LM=ke([{display:"flex",gap:"0.25rem",width:"100%",border:0,cursor:"pointer",padding:"8px 12px"}]);ke({marginRight:8});const FM=ke({display:"flex",alignItems:"center",width:"100%",padding:0}),jM=ke({display:"grid",gap:"0.25rem",width:"100%"}),zM=ke({textAlign:"left"}),J1={bold:ke({fontWeight:"bold"}),normal:ke({})},$M=({isActive:t})=>{const e=t?J1.bold:J1.normal;return[zM,e]};ke({textAlign:"left"});const qM=({item:t})=>{const{onSelectLecture:e,state:n}=ua(),r=t.id===(n==null?void 0:n.activeLecture.id);return W.jsx("li",{className:FM,"data-active":r?"true":"false",children:W.jsx("button",{className:LM,onClick:()=>e(t),children:W.jsx("div",{className:jM,children:W.jsx("div",{className:ke($M({isActive:r})),children:t.title})})})})};function VM(...t){return t.map(e=>typeof e=="string"?e:typeof e=="object"?Object.keys(e).filter(n=>e[n]).join(" "):"").filter(Boolean).join(" ")}const BM=()=>W.jsxs("section",{className:W1,children:[W.jsx("div",{children:"Course Content"}),W.jsx(QM,{})]}),UM=({title:t,items:e})=>{const[n,r]=wt.useState(!1),i=`toggle-${t.replace(/\s+/g,"-")}`;return W.jsxs("li",{className:VM(W1,PM),children:[W.jsxs("button",{className:MM,onClick:()=>r(!n),"aria-expanded":n,"aria-controls":i,children:[W.jsxs("div",{className:IM,children:[W.jsx("div",{className:AM,children:t}),W.jsx("div",{className:DM,children:"meta"})]}),W.jsx("span",{children:n?"":""})]}),W.jsxs("div",{id:i,className:RM,"aria-hidden":!n,style:{display:n?"block":"none"},children:[e.length===0&&W.jsx("p",{children:"No content available"}),e.length>0&&W.jsx("ul",{className:K1,children:e.map((o,s)=>W.jsx(qM,{item:o},s))})]})]})},QM=()=>{var t;const e=ua();return W.jsx("div",{className:_M,children:W.jsx("ul",{className:K1,children:(t=e.state)==null?void 0:t.course.content.map((n,r)=>W.jsx(UM,{title:n.title,items:n.items},r))})})};var G1={exports:{}},ue={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ue=typeof Symbol=="function"&&Symbol.for,bp=Ue?Symbol.for("react.element"):60103,wp=Ue?Symbol.for("react.portal"):60106,_u=Ue?Symbol.for("react.fragment"):60107,Mu=Ue?Symbol.for("react.strict_mode"):60108,Iu=Ue?Symbol.for("react.profiler"):60114,Au=Ue?Symbol.for("react.provider"):60109,Du=Ue?Symbol.for("react.context"):60110,kp=Ue?Symbol.for("react.async_mode"):60111,Ru=Ue?Symbol.for("react.concurrent_mode"):60111,Pu=Ue?Symbol.for("react.forward_ref"):60112,Lu=Ue?Symbol.for("react.suspense"):60113,HM=Ue?Symbol.for("react.suspense_list"):60120,Fu=Ue?Symbol.for("react.memo"):60115,ju=Ue?Symbol.for("react.lazy"):60116,WM=Ue?Symbol.for("react.block"):60121,KM=Ue?Symbol.for("react.fundamental"):60117,JM=Ue?Symbol.for("react.responder"):60118,GM=Ue?Symbol.for("react.scope"):60119;function jt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bp:switch(t=t.type,t){case kp:case Ru:case _u:case Iu:case Mu:case Lu:return t;default:switch(t=t&&t.$$typeof,t){case Du:case Pu:case ju:case Fu:case Au:return t;default:return e}}case wp:return e}}}function Y1(t){return jt(t)===Ru}ue.AsyncMode=kp,ue.ConcurrentMode=Ru,ue.ContextConsumer=Du,ue.ContextProvider=Au,ue.Element=bp,ue.ForwardRef=Pu,ue.Fragment=_u,ue.Lazy=ju,ue.Memo=Fu,ue.Portal=wp,ue.Profiler=Iu,ue.StrictMode=Mu,ue.Suspense=Lu,ue.isAsyncMode=function(t){return Y1(t)||jt(t)===kp},ue.isConcurrentMode=Y1,ue.isContextConsumer=function(t){return jt(t)===Du},ue.isContextProvider=function(t){return jt(t)===Au},ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bp},ue.isForwardRef=function(t){return jt(t)===Pu},ue.isFragment=function(t){return jt(t)===_u},ue.isLazy=function(t){return jt(t)===ju},ue.isMemo=function(t){return jt(t)===Fu},ue.isPortal=function(t){return jt(t)===wp},ue.isProfiler=function(t){return jt(t)===Iu},ue.isStrictMode=function(t){return jt(t)===Mu},ue.isSuspense=function(t){return jt(t)===Lu},ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_u||t===Ru||t===Iu||t===Mu||t===Lu||t===HM||typeof t=="object"&&t!==null&&(t.$$typeof===ju||t.$$typeof===Fu||t.$$typeof===Au||t.$$typeof===Du||t.$$typeof===Pu||t.$$typeof===KM||t.$$typeof===JM||t.$$typeof===GM||t.$$typeof===WM)},ue.typeOf=jt,G1.exports=ue;var YM=G1.exports,X1=YM,XM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Z1={};Z1[X1.ForwardRef]=XM,Z1[X1.Memo]=ZM;function pn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Nu(e)}const eI=t=>pn({paddingTop:t}),tI=t=>pn({paddingTop:t}),nI=t=>pn({paddingTop:t}),rI=t=>pn({paddingTop:t}),iI=t=>pn({paddingTop:t}),oI=t=>pn({paddingTop:t,paddingBottom:t}),sI=t=>pn({paddingLeft:t,paddingRight:t}),aI=t=>pn({display:t}),lI=t=>pn({gap:t}),uI=t=>pn({flexDirection:t}),cI=t=>pn({width:t}),fI={paddingTop:eI,paddingBottom:tI,paddingRight:nI,paddingLeft:rI,padding:iI,paddingY:oI,paddingX:sI,display:aI,gap:lI,flexDirection:uI,width:cI},dI=t=>{const e=Object.keys(t).map(n=>{const r=fI[n],i=t[n];return r?r(i):void 0});return ke(e)},hI=ke({backgroundColor:"black",width:"100%",height:"100%",flex:1});/*! @vimeo/player v2.22.0 | (c) 2024 Vimeo | MIT License | https://github.com/vimeo/player.js */function ew(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ew(Object(n),!0).forEach(function(r){zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gt(){gt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(N,T,I){N[T]=I.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(N,T,I){return Object.defineProperty(N,T,{value:I,enumerable:!0,configurable:!0,writable:!0}),N[T]}try{l({},"")}catch{l=function(N,T,I){return N[T]=I}}function u(N,T,I,K){var $=T&&T.prototype instanceof d?T:d,ee=Object.create($.prototype),M=new B(K||[]);return r(ee,"_invoke",{value:k(N,I,M)}),ee}function c(N,T,I){try{return{type:"normal",arg:N.call(T,I)}}catch(K){return{type:"throw",arg:K}}}t.wrap=u;var f={};function d(){}function h(){}function g(){}var v={};l(v,o,function(){return this});var b=Object.getPrototypeOf,p=b&&b(b(z([])));p&&p!==e&&n.call(p,o)&&(v=p);var m=g.prototype=d.prototype=Object.create(v);function y(N){["next","throw","return"].forEach(function(T){l(N,T,function(I){return this._invoke(T,I)})})}function w(N,T){function I($,ee,M,D){var U=c(N[$],N,ee);if(U.type!=="throw"){var oe=U.arg,se=oe.value;return se&&typeof se=="object"&&n.call(se,"__await")?T.resolve(se.__await).then(function(ct){I("next",ct,M,D)},function(ct){I("throw",ct,M,D)}):T.resolve(se).then(function(ct){oe.value=ct,M(oe)},function(ct){return I("throw",ct,M,D)})}D(U.arg)}var K;r(this,"_invoke",{value:function($,ee){function M(){return new T(function(D,U){I($,ee,D,U)})}return K=K?K.then(M,M):M()}})}function k(N,T,I){var K="suspendedStart";return function($,ee){if(K==="executing")throw new Error("Generator is already running");if(K==="completed"){if($==="throw")throw ee;return _e()}for(I.method=$,I.arg=ee;;){var M=I.delegate;if(M){var D=x(M,I);if(D){if(D===f)continue;return D}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(K==="suspendedStart")throw K="completed",I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);K="executing";var U=c(N,T,I);if(U.type==="normal"){if(K=I.done?"completed":"suspendedYield",U.arg===f)continue;return{value:U.arg,done:I.done}}U.type==="throw"&&(K="completed",I.method="throw",I.arg=U.arg)}}}function x(N,T){var I=T.method,K=N.iterator[I];if(K===void 0)return T.delegate=null,I==="throw"&&N.iterator.return&&(T.method="return",T.arg=void 0,x(N,T),T.method==="throw")||I!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+I+"' method")),f;var $=c(K,N.iterator,T.arg);if($.type==="throw")return T.method="throw",T.arg=$.arg,T.delegate=null,f;var ee=$.arg;return ee?ee.done?(T[N.resultName]=ee.value,T.next=N.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,f):ee:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,f)}function E(N){var T={tryLoc:N[0]};1 in N&&(T.catchLoc=N[1]),2 in N&&(T.finallyLoc=N[2],T.afterLoc=N[3]),this.tryEntries.push(T)}function C(N){var T=N.completion||{};T.type="normal",delete T.arg,N.completion=T}function B(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(E,this),this.reset(!0)}function z(N){if(N){var T=N[o];if(T)return T.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var I=-1,K=function $(){for(;++I<N.length;)if(n.call(N,I))return $.value=N[I],$.done=!1,$;return $.value=void 0,$.done=!0,$};return K.next=K}}return{next:_e}}function _e(){return{value:void 0,done:!0}}return h.prototype=g,r(m,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:h,configurable:!0}),h.displayName=l(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(N){var T=typeof N=="function"&&N.constructor;return!!T&&(T===h||(T.displayName||T.name)==="GeneratorFunction")},t.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,g):(N.__proto__=g,l(N,a,"GeneratorFunction")),N.prototype=Object.create(m),N},t.awrap=function(N){return{__await:N}},y(w.prototype),l(w.prototype,s,function(){return this}),t.AsyncIterator=w,t.async=function(N,T,I,K,$){$===void 0&&($=Promise);var ee=new w(u(N,T,I,K),$);return t.isGeneratorFunction(T)?ee:ee.next().then(function(M){return M.done?M.value:ee.next()})},y(m),l(m,a,"Generator"),l(m,o,function(){return this}),l(m,"toString",function(){return"[object Generator]"}),t.keys=function(N){var T=Object(N),I=[];for(var K in T)I.push(K);return I.reverse(),function $(){for(;I.length;){var ee=I.pop();if(ee in T)return $.value=ee,$.done=!1,$}return $.done=!0,$}},t.values=z,B.prototype={constructor:B,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!N)for(var T in this)T.charAt(0)==="t"&&n.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var T=this;function I(U,oe){return ee.type="throw",ee.arg=N,T.next=U,oe&&(T.method="next",T.arg=void 0),!!oe}for(var K=this.tryEntries.length-1;K>=0;--K){var $=this.tryEntries[K],ee=$.completion;if($.tryLoc==="root")return I("end");if($.tryLoc<=this.prev){var M=n.call($,"catchLoc"),D=n.call($,"finallyLoc");if(M&&D){if(this.prev<$.catchLoc)return I($.catchLoc,!0);if(this.prev<$.finallyLoc)return I($.finallyLoc)}else if(M){if(this.prev<$.catchLoc)return I($.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return I($.finallyLoc)}}}},abrupt:function(N,T){for(var I=this.tryEntries.length-1;I>=0;--I){var K=this.tryEntries[I];if(K.tryLoc<=this.prev&&n.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var $=K;break}}$&&(N==="break"||N==="continue")&&$.tryLoc<=T&&T<=$.finallyLoc&&($=null);var ee=$?$.completion:{};return ee.type=N,ee.arg=T,$?(this.method="next",this.next=$.finallyLoc,f):this.complete(ee)},complete:function(N,T){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&T&&(this.next=T),f},finish:function(N){for(var T=this.tryEntries.length-1;T>=0;--T){var I=this.tryEntries[T];if(I.finallyLoc===N)return this.complete(I.completion,I.afterLoc),C(I),f}},catch:function(N){for(var T=this.tryEntries.length-1;T>=0;--T){var I=this.tryEntries[T];if(I.tryLoc===N){var K=I.completion;if(K.type==="throw"){var $=K.arg;C(I)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(N,T,I){return this.delegate={iterator:z(N),resultName:T,nextLoc:I},this.method==="next"&&(this.arg=void 0),f}},t}function nw(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(u){n(u);return}a.done?e(l):Promise.resolve(l).then(r,i)}function ci(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){nw(o,r,i,s,a,"next",l)}function a(l){nw(o,r,i,s,a,"throw",l)}s(void 0)})}}function rw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aw(r.key),r)}}function ow(t,e,n){return e&&iw(t.prototype,e),n&&iw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zu(t,e,n){return e=aw(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fa(t,e)}function ca(t){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(t)}function fa(t,e){return fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fa(t,e)}function sw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $u(t,e,n){return sw()?$u=Reflect.construct.bind():$u=function(r,i,o){var s=[null];s.push.apply(s,i);var a=Function.bind.apply(r,s),l=new a;return o&&fa(l,o.prototype),l},$u.apply(null,arguments)}function mI(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function xp(t){var e=typeof Map=="function"?new Map:void 0;return xp=function(n){if(n===null||!mI(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return $u(n,arguments,ca(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),fa(r,n)},xp(t)}function qu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qu(t)}function yI(t){var e=sw();return function(){var n=ca(t),r;if(e){var i=ca(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return gI(this,r)}}function vI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aw(t){var e=vI(t,"string");return typeof e=="symbol"?e:String(e)}var lw=typeof global<"u"&&{}.toString.call(global)==="[object global]";function uw(t,e){return t.indexOf(e.toLowerCase())===0?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function bI(t){return!!(t&&t.nodeType===1&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView)}function wI(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function fi(t){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(t)}function cw(t){var e=/^https:\/\/player\.vimeo\.com\/video\/\d+/;return e.test(t)}function fw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.id,n=t.url,r=e||n;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(wI(r))return"https://vimeo.com/".concat(r);if(fi(r))return r.replace("http:","https:");throw e?new TypeError("".concat(e," is not a valid video id.")):new TypeError("".concat(r," is not a vimeo.com url."))}var dw=function(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",o=typeof e=="string"?[e]:e;return o.forEach(function(s){t[r](s,n)}),{cancel:function(){return o.forEach(function(s){return t[i](s,n)})}}},kI=typeof Array.prototype.indexOf<"u",xI=typeof window<"u"&&typeof window.postMessage<"u";if(!lw&&(!kI||!xI))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SI(t,e){return e={exports:{}},t(e,e.exports),e.exports}/*!
* weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
* https://github.com/polygonplanet/weakmap-polyfill
* Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
* @license MIT
*/(function(t){if(t.WeakMap)return;var e=Object.prototype.hasOwnProperty,n=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),r=function(o,s,a){n?Object.defineProperty(o,s,{configurable:!0,writable:!0,value:a}):o[s]=a};t.WeakMap=function(){function o(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",a("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(o.prototype,"delete",function(u){if(s(this,"delete"),!i(u))return!1;var c=u[this._id];return c&&c[0]===u?(delete u[this._id],!0):!1}),r(o.prototype,"get",function(u){if(s(this,"get"),!!i(u)){var c=u[this._id];if(c&&c[0]===u)return c[1]}}),r(o.prototype,"has",function(u){if(s(this,"has"),!i(u))return!1;var c=u[this._id];return!!(c&&c[0]===u)}),r(o.prototype,"set",function(u,c){if(s(this,"set"),!i(u))throw new TypeError("Invalid value used as weak map key");var f=u[this._id];return f&&f[0]===u?(f[1]=c,this):(r(u,this._id,[u,c]),this)});function s(u,c){if(!i(u)||!e.call(u,"_id"))throw new TypeError(c+" method called on incompatible receiver "+typeof u)}function a(u){return u+"_"+l()+"."+l()}function l(){return Math.random().toString().substring(2)}return r(o,"_polyfill",!0),o}();function i(o){return Object(o)===o}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:hw);var Gt=SI(function(t){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(e,n,r){n[e]=n[e]||r(),t.exports&&(t.exports=n[e])})("Promise",hw,function(){var e,n,r,i=Object.prototype.toString,o=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(p,m,y,w){return Object.defineProperty(p,m,{value:y,writable:!0,configurable:w!==!1})}}catch{e=function(p,m,y){return p[m]=y,p}}r=function(){var p,m,y;function w(k,x){this.fn=k,this.self=x,this.next=void 0}return{add:function(k,x){y=new w(k,x),m?m.next=y:p=y,m=y,y=void 0},drain:function(){var k=p;for(p=m=n=void 0;k;)k.fn.call(k.self),k=k.next}}}();function s(p,m){r.add(p,m),n||(n=o(r.drain))}function a(p){var m,y=typeof p;return p!=null&&(y=="object"||y=="function")&&(m=p.then),typeof m=="function"?m:!1}function l(){for(var p=0;p<this.chain.length;p++)u(this,this.state===1?this.chain[p].success:this.chain[p].failure,this.chain[p]);this.chain.length=0}function u(p,m,y){var w,k;try{m===!1?y.reject(p.msg):(m===!0?w=p.msg:w=m.call(void 0,p.msg),w===y.promise?y.reject(TypeError("Promise-chain cycle")):(k=a(w))?k.call(w,y.resolve,y.reject):y.resolve(w))}catch(x){y.reject(x)}}function c(p){var m,y=this;if(!y.triggered){y.triggered=!0,y.def&&(y=y.def);try{(m=a(p))?s(function(){var w=new h(y);try{m.call(p,function(){c.apply(w,arguments)},function(){f.apply(w,arguments)})}catch(k){f.call(w,k)}}):(y.msg=p,y.state=1,y.chain.length>0&&s(l,y))}catch(w){f.call(new h(y),w)}}}function f(p){var m=this;m.triggered||(m.triggered=!0,m.def&&(m=m.def),m.msg=p,m.state=2,m.chain.length>0&&s(l,m))}function d(p,m,y,w){for(var k=0;k<m.length;k++)(function(x){p.resolve(m[x]).then(function(E){y(x,E)},w)})(k)}function h(p){this.def=p,this.triggered=!1}function g(p){this.promise=p,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(p){if(typeof p!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var m=new g(this);this.then=function(y,w){var k={success:typeof y=="function"?y:!0,failure:typeof w=="function"?w:!1};return k.promise=new this.constructor(function(x,E){if(typeof x!="function"||typeof E!="function")throw TypeError("Not a function");k.resolve=x,k.reject=E}),m.chain.push(k),m.state!==0&&s(l,m),k.promise},this.catch=function(y){return this.then(void 0,y)};try{p.call(void 0,function(y){c.call(m,y)},function(y){f.call(m,y)})}catch(y){f.call(m,y)}}var b=e({},"constructor",v,!1);return v.prototype=b,e(b,"__NPO__",0,!1),e(v,"resolve",function(p){var m=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new m(function(y,w){if(typeof y!="function"||typeof w!="function")throw TypeError("Not a function");y(p)})}),e(v,"reject",function(p){return new this(function(m,y){if(typeof m!="function"||typeof y!="function")throw TypeError("Not a function");y(p)})}),e(v,"all",function(p){var m=this;return i.call(p)!="[object Array]"?m.reject(TypeError("Not an array")):p.length===0?m.resolve([]):new m(function(y,w){if(typeof y!="function"||typeof w!="function")throw TypeError("Not a function");var k=p.length,x=Array(k),E=0;d(m,p,function(C,B){x[C]=B,++E===k&&y(x)},w)})}),e(v,"race",function(p){var m=this;return i.call(p)!="[object Array]"?m.reject(TypeError("Not an array")):new m(function(y,w){if(typeof y!="function"||typeof w!="function")throw TypeError("Not a function");d(m,p,function(k,x){y(x)},w)})}),v})}),Gn=new WeakMap;function da(t,e,n){var r=Gn.get(t.element)||{};e in r||(r[e]=[]),r[e].push(n),Gn.set(t.element,r)}function Vu(t,e){var n=Gn.get(t.element)||{};return n[e]||[]}function Bu(t,e,n){var r=Gn.get(t.element)||{};if(!r[e])return!0;if(!n)return r[e]=[],Gn.set(t.element,r),!0;var i=r[e].indexOf(n);return i!==-1&&r[e].splice(i,1),Gn.set(t.element,r),r[e]&&r[e].length===0}function EI(t,e){var n=Vu(t,e);if(n.length<1)return!1;var r=n.shift();return Bu(t,e,r),r}function TI(t,e){var n=Gn.get(t);Gn.set(e,n),Gn.delete(t)}function Uu(t){if(typeof t=="string")try{t=JSON.parse(t)}catch(e){return console.warn(e),{}}return t}function di(t,e,n){if(!(!t.element.contentWindow||!t.element.contentWindow.postMessage)){var r={method:e};n!==void 0&&(r.value=n);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));i>=8&&i<10&&(r=JSON.stringify(r)),t.element.contentWindow.postMessage(r,t.origin)}}function OI(t,e){e=Uu(e);var n=[],r;if(e.event){if(e.event==="error"){var i=Vu(t,e.data.method);i.forEach(function(s){var a=new Error(e.data.message);a.name=e.data.name,s.reject(a),Bu(t,e.data.method,s)})}n=Vu(t,"event:".concat(e.event)),r=e.data}else if(e.method){var o=EI(t,e.method);o&&(n.push(o),r=e.value)}n.forEach(function(s){try{if(typeof s=="function"){s.call(t,r);return}s.resolve(r)}catch{}})}var CI=["airplay","audio_tracks","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","play_button_position","playsinline","portrait","progress_bar","quality_selector","responsive","speed","start_time","texttrack","title","transcript","transparent","url","vimeo_logo","volume","watch_full_video","width"];function pw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return CI.reduce(function(n,r){var i=t.getAttribute("data-vimeo-".concat(r));return(i||i==="")&&(n[r]=i===""?1:i),n},e)}function Sp(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(e.getAttribute("data-vimeo-initialized")!==null)return e.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,e.appendChild(r.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function mw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,i){if(!fi(t))throw new TypeError("".concat(t," is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(t));for(var s in e)e.hasOwnProperty(s)&&(o+="&".concat(s,"=").concat(encodeURIComponent(e[s])));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){if(a.status===404){i(new Error("".concat(t," was not found.")));return}if(a.status===403){i(new Error("".concat(t," is not embeddable.")));return}try{var l=JSON.parse(a.responseText);if(l.domain_status_code===403){Sp(l,n),i(new Error("".concat(t," is not embeddable.")));return}r(l)}catch(u){i(u)}},a.onerror=function(){var l=a.status?" (".concat(a.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(l,".")))},a.send()})}function NI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(r){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(r))};e.forEach(function(r){try{if(r.getAttribute("data-vimeo-defer")!==null)return;var i=pw(r),o=fw(i);mw(o,i,r).then(function(s){return Sp(s,r)}).catch(n)}catch(s){n(s)}})}function _I(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(n){if(fi(n.origin)&&!(!n.data||n.data.event!=="spacechange")){for(var r=t.querySelectorAll("iframe"),i=0;i<r.length;i++)if(r[i].contentWindow===n.source){var o=r[i].parentElement;o.style.paddingBottom="".concat(n.data.data[0].bottom,"px");break}}};window.addEventListener("message",e)}}function MI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(n){if(fi(n.origin)){var r=Uu(n.data);if(!(!r||r.event!=="ready"))for(var i=t.querySelectorAll("iframe"),o=0;o<i.length;o++){var s=i[o],a=s.contentWindow===n.source;if(cw(s.src)&&a){var l=new Tp(s);l.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",e)}}function II(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var e=function(r){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(r))},n=function(r){if(fi(r.origin)){var i=Uu(r.data);if(!(!i||i.event!=="ready"))for(var o=t.querySelectorAll("iframe"),s=function(){var l=o[a],u=l.contentWindow===r.source;if(cw(l.src)&&u){var c=new Tp(l);c.getVideoId().then(function(f){var d=new RegExp("[?&]vimeo_t_".concat(f,"=([^&#]*)")).exec(window.location.href);if(d&&d[1]){var h=decodeURI(d[1]);c.setCurrentTime(h)}}).catch(e)}},a=0;a<o.length;a++)s()}};window.addEventListener("message",n)}}function AI(){var t=function(){for(var r,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,s=i.length,a={};o<s;o++)if(r=i[o],r&&r[1]in document){for(o=0;o<r.length;o++)a[i[0][o]]=r[o];return a}return!1}(),e={fullscreenchange:t.fullscreenchange,fullscreenerror:t.fullscreenerror},n={request:function(r){return new Promise(function(i,o){var s=function l(){n.off("fullscreenchange",l),i()};n.on("fullscreenchange",s),r=r||document.documentElement;var a=r[t.requestFullscreen]();a instanceof Promise&&a.then(s).catch(o)})},exit:function(){return new Promise(function(r,i){if(!n.isFullscreen){r();return}var o=function a(){n.off("fullscreenchange",a),r()};n.on("fullscreenchange",o);var s=document[t.exitFullscreen]();s instanceof Promise&&s.then(o).catch(i)})},on:function(r,i){var o=e[r];o&&document.addEventListener(o,i)},off:function(r,i){var o=e[r];o&&document.removeEventListener(o,i)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return!!document[t.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[t.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[t.fullscreenEnabled]}}}),n}var DI={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},RI=function(t){pI(n,t);var e=yI(n);function n(r,i){var o,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return rw(this,n),o=e.call(this),zu(qu(o),"logger",void 0),zu(qu(o),"speedAdjustment",0),zu(qu(o),"adjustSpeed",function(){var l=ci(gt().mark(function u(c,f){var d;return gt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(o.speedAdjustment!==f){h.next=2;break}return h.abrupt("return");case 2:return h.next=4,c.getPlaybackRate();case 4:return h.t0=h.sent,h.t1=o.speedAdjustment,h.t2=h.t0-h.t1,h.t3=f,d=h.t2+h.t3,o.log("New playbackRate:  ".concat(d)),h.next=12,c.setPlaybackRate(d);case 12:o.speedAdjustment=f;case 13:case"end":return h.stop()}},u)}));return function(u,c){return l.apply(this,arguments)}}()),o.logger=a,o.init(i,r,tw(tw({},DI),s)),o}return ow(n,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var r=ci(gt().mark(function o(s,a,l){var u=this,c,f,d;return gt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.waitForTOReadyState(s,"open");case 2:if(l.role!=="viewer"){h.next=10;break}return h.next=5,this.updatePlayer(s,a,l);case 5:c=dw(s,"change",function(){return u.updatePlayer(s,a,l)}),f=this.maintainPlaybackPosition(s,a,l),this.addEventListener("disconnect",function(){f.cancel(),c.cancel()}),h.next=14;break;case 10:return h.next=12,this.updateTimingObject(s,a);case 12:d=dw(a,["seeked","play","pause","ratechange"],function(){return u.updateTimingObject(s,a)},"on","off"),this.addEventListener("disconnect",function(){return d.cancel()});case 14:case"end":return h.stop()}},o,this)}));function i(o,s,a){return r.apply(this,arguments)}return i}()},{key:"updateTimingObject",value:function(){var r=ci(gt().mark(function o(s,a){return gt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.t0=s,l.next=3,a.getCurrentTime();case 3:return l.t1=l.sent,l.next=6,a.getPaused();case 6:if(!l.sent){l.next=10;break}l.t2=0,l.next=13;break;case 10:return l.next=12,a.getPlaybackRate();case 12:l.t2=l.sent;case 13:l.t3=l.t2,l.t4={position:l.t1,velocity:l.t3},l.t0.update.call(l.t0,l.t4);case 16:case"end":return l.stop()}},o)}));function i(o,s){return r.apply(this,arguments)}return i}()},{key:"updatePlayer",value:function(){var r=ci(gt().mark(function o(s,a,l){var u,c,f;return gt().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=s.query(),c=u.position,f=u.velocity,typeof c=="number"&&a.setCurrentTime(c),typeof f!="number"){d.next=25;break}if(f!==0){d.next=11;break}return d.next=6,a.getPaused();case 6:if(d.t0=d.sent,d.t0!==!1){d.next=9;break}a.pause();case 9:d.next=25;break;case 11:if(!(f>0)){d.next=25;break}return d.next=14,a.getPaused();case 14:if(d.t1=d.sent,d.t1!==!0){d.next=19;break}return d.next=18,a.play().catch(function(){var h=ci(gt().mark(function g(v){return gt().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(v.name==="NotAllowedError"&&l.autoPlayMuted)){b.next=5;break}return b.next=3,a.setMuted(!0);case 3:return b.next=5,a.play().catch(function(p){return console.error("Couldn't play the video from TimingSrcConnector. Error:",p)});case 5:case"end":return b.stop()}},g)}));return function(g){return h.apply(this,arguments)}}());case 18:this.updatePlayer(s,a,l);case 19:return d.next=21,a.getPlaybackRate();case 21:if(d.t2=d.sent,d.t3=f,d.t2===d.t3){d.next=25;break}a.setPlaybackRate(f);case 25:case"end":return d.stop()}},o,this)}));function i(o,s,a){return r.apply(this,arguments)}return i}()},{key:"maintainPlaybackPosition",value:function(r,i,o){var s=this,a=o.allowedDrift,l=o.maxAllowedDrift,u=o.minCheckInterval,c=o.maxRateAdjustment,f=o.maxTimeToCatchUp,d=Math.min(f,Math.max(u,l))*1e3,h=function(){var v=ci(gt().mark(function b(){var p,m,y,w,k;return gt().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(x.t0=r.query().velocity===0,x.t0){x.next=6;break}return x.next=4,i.getPaused();case 4:x.t1=x.sent,x.t0=x.t1===!0;case 6:if(!x.t0){x.next=8;break}return x.abrupt("return");case 8:return x.t2=r.query().position,x.next=11,i.getCurrentTime();case 11:if(x.t3=x.sent,p=x.t2-x.t3,m=Math.abs(p),s.log("Drift: ".concat(p)),!(m>l)){x.next=22;break}return x.next=18,s.adjustSpeed(i,0);case 18:i.setCurrentTime(r.query().position),s.log("Resync by currentTime"),x.next=29;break;case 22:if(!(m>a)){x.next=29;break}return y=m/f,w=c,k=y<w?(w-y)/2:w,x.next=28,s.adjustSpeed(i,k*Math.sign(p));case 28:s.log("Resync by playbackRate");case 29:case"end":return x.stop()}},b)}));return function(){return v.apply(this,arguments)}}(),g=setInterval(function(){return h()},d);return{cancel:function(){return clearInterval(g)}}}},{key:"log",value:function(r){var i;(i=this.logger)===null||i===void 0||i.call(this,"TimingSrcConnector: ".concat(r))}},{key:"waitForTOReadyState",value:function(r,i){return new Promise(function(o){var s=function a(){r.readyState===i?o():r.addEventListener("readystatechange",a,{once:!0})};s()})}}]),n}(xp(EventTarget)),Ao=new WeakMap,Ep=new WeakMap,Ct={},Tp=function(){function t(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(rw(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),typeof document<"u"&&typeof e=="string"&&(e=document.getElementById(e)),!bI(e))throw new TypeError("You must pass either a valid element or a valid id.");if(e.nodeName!=="IFRAME"){var i=e.querySelector("iframe");i&&(e=i)}if(e.nodeName==="IFRAME"&&!fi(e.getAttribute("src")||""))throw new Error("The player element passed isnt a Vimeo embed.");if(Ao.has(e))return Ao.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var o=new Gt(function(a,l){if(n._onMessage=function(f){if(!(!fi(f.origin)||n.element.contentWindow!==f.source)){n.origin==="*"&&(n.origin=f.origin);var d=Uu(f.data),h=d&&d.event==="error",g=h&&d.data&&d.data.method==="ready";if(g){var v=new Error(d.data.message);v.name=d.data.name,l(v);return}var b=d&&d.event==="ready",p=d&&d.method==="ping";if(b||p){n.element.setAttribute("data-ready","true"),a();return}OI(n,d)}},n._window.addEventListener("message",n._onMessage),n.element.nodeName!=="IFRAME"){var u=pw(e,r),c=fw(u);mw(c,u,e).then(function(f){var d=Sp(f,e);return n.element=d,n._originalElement=e,TI(e,d),Ao.set(n.element,n),f}).catch(l)}});if(Ep.set(this,o),Ao.set(this.element,this),this.element.nodeName==="IFRAME"&&di(this,"ping"),Ct.isEnabled){var s=function(){return Ct.exit()};this.fullscreenchangeHandler=function(){Ct.isFullscreen?da(n,"event:exitFullscreen",s):Bu(n,"event:exitFullscreen",s),n.ready().then(function(){di(n,"fullscreenchange",Ct.isFullscreen)})},Ct.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return ow(t,[{key:"callMethod",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Gt(function(i,o){return n.ready().then(function(){da(n,e,{resolve:i,reject:o}),di(n,e,r)}).catch(o)})}},{key:"get",value:function(e){var n=this;return new Gt(function(r,i){return e=uw(e,"get"),n.ready().then(function(){da(n,e,{resolve:r,reject:i}),di(n,e)}).catch(i)})}},{key:"set",value:function(e,n){var r=this;return new Gt(function(i,o){if(e=uw(e,"set"),n==null)throw new TypeError("There must be a value to set.");return r.ready().then(function(){da(r,e,{resolve:i,reject:o}),di(r,e,n)}).catch(o)})}},{key:"on",value:function(e,n){if(!e)throw new TypeError("You must pass an event name.");if(!n)throw new TypeError("You must pass a callback function.");if(typeof n!="function")throw new TypeError("The callback must be a function.");var r=Vu(this,"event:".concat(e));r.length===0&&this.callMethod("addEventListener",e).catch(function(){}),da(this,"event:".concat(e),n)}},{key:"off",value:function(e,n){if(!e)throw new TypeError("You must pass an event name.");if(n&&typeof n!="function")throw new TypeError("The callback must be a function.");var r=Bu(this,"event:".concat(e),n);r&&this.callMethod("removeEventListener",e).catch(function(i){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=Ep.get(this)||new Gt(function(n,r){r(new Error("Unknown player. Probably unloaded."))});return Gt.resolve(e)}},{key:"addCuePoint",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:n})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,n){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:n})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return Ct.isEnabled?Ct.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return Ct.isEnabled?Ct.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return Ct.isEnabled?Gt.resolve(Ct.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new Gt(function(n){if(Ep.delete(e),Ao.delete(e.element),e._originalElement&&(Ao.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&e.element.nodeName==="IFRAME"&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&e.element.nodeName==="DIV"&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var r=e.element.querySelector("iframe");r&&r.parentNode&&(r.parentNode.parentNode&&e._originalElement&&e._originalElement!==r.parentNode?r.parentNode.parentNode.removeChild(r.parentNode):r.parentNode.removeChild(r))}e._window.removeEventListener("message",e._onMessage),Ct.isEnabled&&Ct.off("fullscreenchange",e.fullscreenchangeHandler),n()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return Gt.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"setColors",value:function(e){if(!Array.isArray(e))return new Gt(function(i,o){return o(new TypeError("Argument must be an array."))});var n=new Gt(function(i){return i(null)}),r=[e[0]?this.set("colorOne",e[0]):n,e[1]?this.set("colorTwo",e[1]):n,e[2]?this.set("colorThree",e[2]):n,e[3]?this.set("colorFour",e[3]):n];return Gt.all(r)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}},{key:"setTimingSrc",value:function(){var e=ci(gt().mark(function r(i,o){var s=this,a;return gt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i){l.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return l.next=4,this.ready();case 4:return a=new RI(this,i,o),di(this,"notifyTimingObjectConnect"),a.addEventListener("disconnect",function(){return di(s,"notifyTimingObjectDisconnect")}),l.abrupt("return",a);case 8:case"end":return l.stop()}},r,this)}));function n(r,i){return e.apply(this,arguments)}return n}()}]),t}();lw||(Ct=AI(),NI(),_I(),MI(),II());const PI=({videoId:t,width:e})=>{const n=wt.useRef(null);return wt.useEffect(()=>{const r=new Tp(n.current||"",{id:t,width:e,portrait:!1,title:!1,byline:!1});let i;return r.on("playing",function(o){console.log("played the video",o)}),r.on("pause",function(o){console.log("pause the video",o)}),r.getCurrentTime().then(function(o){console.log("seconds for the video",o)}).catch(function(o){console.error("Error getting current time: ",o)}),i=setInterval(()=>{r.getCurrentTime().then(function(o){console.log("seconds for the video",o)}).catch(function(o){console.error("Error getting current time: ",o)})},5e3),()=>{clearInterval(i),r.destroy()}},[t,e]),W.jsx("div",{ref:n})},LI=()=>{const{state:t}=ua(),[e,n]=wt.useState(0),r=wt.useRef(null),i=t==null?void 0:t.activeLecture;return wt.useEffect(()=>{const o=a=>{for(let l of a)n(l.contentRect.width)},s=new ResizeObserver(o);return s.observe(r.current),()=>s.disconnect()},[]),W.jsxs("div",{className:hI,ref:r,children:[e>0&&(i==null?void 0:i.url)&&W.jsx(PI,{videoId:i==null?void 0:i.url,width:e}),e>0&&!(i!=null&&i.url)&&W.jsx("div",{style:{width:e,height:"100%"},children:"loading"})]})};var Op=(t=>(t.Video="video",t.Article="article",t))(Op||{});class Yt{constructor(e,n,r,i,o){this.kind=e,this.input=n,this.begin=r,this.end=i,this.file=o}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[e,n]=[1,1];for(let r=0;r<this.begin;r++)this.input[r]===`
`?(e++,n=1):n++;return[e,n]}size(){return this.end-this.begin}}class hi{liquidMethodMissing(e){}}const FI=Object.prototype.toString,gw=String.prototype.toLowerCase,Cp=Object.hasOwnProperty;function Xt(t){return typeof t=="string"}function Fe(t){return typeof t=="function"}function jI(t){return t&&Fe(t.then)}function Qu(t){return t&&Fe(t.next)&&Fe(t.throw)&&Fe(t.return)}function zI(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(t){return t=Y(t),Xt(t)?t:Zt(t)?"":Qe(t)?t.map(e=>F(e)).join(""):String(t)}function Np(t){return t=Y(t),Qe(t)?t:Xt(t)&&t.length>0?[t]:qI(t)?Array.from(t):Hu(t)?Object.keys(t).map(e=>[e,t[e]]):[]}function je(t){return t=Y(t),Zt(t)?[]:Qe(t)?t:[t]}function Y(t){return t instanceof hi&&Fe(t.valueOf)?t.valueOf():t}function yw(t){return t=Number(t),isNaN(t)?0:t}function _p(t){return typeof t=="number"}function vw(t){return t&&Fe(t.toLiquid)?vw(t.toLiquid()):t}function Zt(t){return t==null}function $I(t){return t===void 0}function Qe(t){return FI.call(t)==="[object Array]"}function qI(t){return Hu(t)&&Symbol.iterator in t}function bw(t,e){t=t||{};for(const n in t)if(Cp.call(t,n)&&e(t[n],n,t)===!1)break;return t}function ww(t){return t[t.length-1]}function Hu(t){const e=typeof t;return t!==null&&(e==="object"||e==="function")}function kw(t,e,n=1){const r=[];for(let i=t;i<e;i+=n)r.push(i);return r}function ha(t,e,n=" "){return xw(t,e,n,(r,i)=>i+r)}function VI(t,e,n=" "){return xw(t,e,n,(r,i)=>r+i)}function xw(t,e,n,r){t=String(t);let i=e-t.length;for(;i-- >0;)t=r(t,n);return t}function Sw(t){return t}function BI(t){return[...t].some(e=>e>="a"&&e<="z")?t.toUpperCase():t.toLowerCase()}function UI(t,e){return t.length>e?t.slice(0,e-3)+"...":t}function Ew(t,e){return t==null&&e==null?0:t==null?1:e==null||(t=gw.call(t),e=gw.call(e),t<e)?-1:t>e?1:0}function zt(t){return function(...e){return t.call(this,...e.map(Y))}}function Mp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Tw="__liquidClass__";class pi extends Error{constructor(e,n){super(typeof e=="string"?e:e.message),this.context="",typeof e!="string"&&Object.defineProperty(this,"originalError",{value:e,enumerable:!1}),Object.defineProperty(this,"token",{value:n,enumerable:!1}),Object.defineProperty(this,Tw,{value:"LiquidError",enumerable:!1})}update(){Object.defineProperty(this,"context",{value:YI(this.token),enumerable:!1}),this.message=XI(this.message,this.token),this.stack=this.message+`
`+this.context+`
`+this.stack,this.originalError&&(this.stack+=`
From `+this.originalError.stack)}static is(e){return(e==null?void 0:e[Tw])==="LiquidError"}}class QI extends pi{constructor(e,n){super(e,n),this.name="TokenizationError",super.update()}}class HI extends pi{constructor(e,n){super(e,n),this.name="ParseError",this.message=e.message,super.update()}}class WI extends pi{constructor(e,n){super(e,n.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return e.name==="RenderError"}}class Ow extends pi{constructor(e){super(e[0],e[0].token),this.errors=e,this.name="LiquidErrors";const n=e.length>1?"s":"";this.message=`${e.length} error${n} found`,super.update()}static is(e){return e.name==="LiquidErrors"}}class KI extends pi{constructor(e,n){super(e,n),this.name="UndefinedVariableError",this.message=e.message,super.update()}}class JI extends Error{constructor(e){super(`undefined variable: ${e}`),this.name="InternalUndefinedVariableError",this.variableName=e}}class GI extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}}function YI(t){const[e,n]=t.getPosition(),r=t.input.split(`
`),i=Math.max(e-2,1),o=Math.min(e+3,r.length);return kw(i,o+1).map(s=>{const a=s===e?">> ":"   ",l=ha(String(s),String(o).length);let u=`${a}${l}| `;const c=s===e?`
`+ha("^",n+u.length):"";return u+=r[s-1],u+=c,u}).join(`
`)}function XI(t,e){e.file&&(t+=`, file:${e.file}`);const[n,r]=e.getPosition();return t+=`, line:${n}, col:${r}`,t}const fe=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ZI=1,Do=4,Cw=8,Nw=16,eA=32,tA=64,nA=128;function Wu(t){const e=t.charCodeAt(0);return e>=128?!fe[e]:!!(fe[e]&ZI)}fe[160]=fe[5760]=fe[6158]=fe[8192]=fe[8193]=fe[8194]=fe[8195]=fe[8196]=fe[8197]=fe[8198]=fe[8199]=fe[8200]=fe[8201]=fe[8202]=fe[8232]=fe[8233]=fe[8239]=fe[8287]=fe[12288]=Do,fe[8220]=fe[8221]=nA;function lt(t,e){if(!t){const n=typeof e=="function"?e():e||`expect ${t} to be true`;throw new GI(n)}}function Ku(t,e=`unexpected ${JSON.stringify(t)}`){lt(!t,e)}class rA extends hi{equals(e){return Zt(Y(e))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}}class Ju extends hi{equals(e){return e instanceof Ju?!1:(e=Y(e),Xt(e)||Qe(e)?e.length===0:Hu(e)?Object.keys(e).length===0:!1)}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}class iA extends Ju{equals(e){return e===!1||Zt(Y(e))?!0:Xt(e)?/^\s*$/.test(e):super.equals(e)}}class Ip extends hi{constructor(e,n,r){super(),this.i=0,this.length=e,this.name=`${r}-${n}`}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return this.i===0}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}class _w extends hi{constructor(e=()=>""){super(),this.superBlockRender=e}super(){return this.superBlockRender()}}function In(t){return t&&Fe(t.equals)&&Fe(t.gt)&&Fe(t.geq)&&Fe(t.lt)&&Fe(t.leq)}const Mw=new rA,Iw={true:!0,false:!1,nil:Mw,null:Mw,empty:new Ju,blank:new iA};function Aw(t){const e={};for(const[n,r]of Object.entries(t)){let i=e;for(let o=0;o<n.length;o++){const s=n[o];i[s]=i[s]||{},o===n.length-1&&Wu(n[o])&&(i[s].needBoundary=!0),i=i[s]}i.data=r,i.end=!0}return e}var Gu=function(){return Gu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gu.apply(this,arguments)};function mn(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Mr(t){return mn(this,void 0,void 0,function*(){if(!Qu(t))return t;let e,n=!1,r="next";do{const i=t[r](e);n=i.done,e=i.value,r="next";try{Qu(e)&&(e=Mr(e)),jI(e)&&(e=yield e)}catch(o){r="throw",e=o}}while(!n);return e})}function Ir(t){if(!Qu(t))return t;let e,n=!1,r="next";do{const i=t[r](e);if(n=i.done,e=i.value,r="next",Qu(e))try{e=Ir(e)}catch(o){r="throw",e=o}}while(!n);return e}const oA=/%([-_0^#:]+)?(\d+)?([EO])?(.)/;function sA(t){return[31,aA(t)?29:28,31,30,31,30,31,31,30,31,30,31]}function Dw(t){let e=0;for(let n=0;n<t.getMonth();++n)e+=sA(t)[n];return e+t.getDate()}function Rw(t,e){const n=Dw(t)+(e-t.getDay()),r=7-new Date(t.getFullYear(),0,1).getDay()+e;return String(Math.floor((n-r)/7)+1)}function aA(t){const e=t.getFullYear();return!!(!(e&3)&&(e%100||e%400===0&&e))}function lA(t){const e=t.getDate();if([11,12,13].includes(e))return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function uA(t){return parseInt(t.getFullYear().toString().substring(0,2),10)}const cA={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},fA=new Set("aAbBceklpP");function Pw(t,e){const n=Math.abs(t.getTimezoneOffset()),r=Math.floor(n/60),i=n%60;return(t.getTimezoneOffset()>0?"-":"+")+ha(r,2,"0")+(e.flags[":"]?":":"")+ha(i,2,"0")}const Ap={a:t=>t.getShortWeekdayName(),A:t=>t.getLongWeekdayName(),b:t=>t.getShortMonthName(),B:t=>t.getLongMonthName(),c:t=>t.toLocaleString(),C:t=>uA(t),d:t=>t.getDate(),e:t=>t.getDate(),H:t=>t.getHours(),I:t=>String(t.getHours()%12||12),j:t=>Dw(t),k:t=>t.getHours(),l:t=>String(t.getHours()%12||12),L:t=>t.getMilliseconds(),m:t=>t.getMonth()+1,M:t=>t.getMinutes(),N:(t,e)=>{const n=Number(e.width)||9,r=String(t.getMilliseconds()).slice(0,n);return VI(r,n,"0")},p:t=>t.getHours()<12?"AM":"PM",P:t=>t.getHours()<12?"am":"pm",q:t=>lA(t),s:t=>Math.round(t.getTime()/1e3),S:t=>t.getSeconds(),u:t=>t.getDay()||7,U:t=>Rw(t,0),w:t=>t.getDay(),W:t=>Rw(t,1),x:t=>t.toLocaleDateString(),X:t=>t.toLocaleTimeString(),y:t=>t.getFullYear().toString().slice(2,4),Y:t=>t.getFullYear(),z:Pw,Z:(t,e)=>t.getTimeZoneName()||Pw(t,e),t:()=>"	",n:()=>`
`,"%":()=>"%"};Ap.h=Ap.b;function Yu(t,e){let n="",r=e,i;for(;i=oA.exec(r);)n+=r.slice(0,i.index),r=r.slice(i.index+i[0].length),n+=dA(t,i);return n+r}function dA(t,e){const[n,r="",i,o,s]=e,a=Ap[s];if(!a)return n;const l={};for(const d of r)l[d]=!0;let u=String(a(t,{flags:l,width:i,modifier:o})),c=fA.has(s)?" ":"0",f=i||cA[s]||0;return l["^"]?u=u.toUpperCase():l["#"]&&(u=BI(u)),l._?c=" ":l[0]&&(c="0"),l["-"]&&(f=0),ha(u,f,c)}function Lw(){return typeof Intl<"u"?Intl.DateTimeFormat:void 0}const hA=6e4,pA=/([zZ]|([+-])(\d{2}):(\d{2}))$/,Fw=["January","February","March","April","May","June","July","August","September","October","November","December"],mA=Fw.map(t=>t.slice(0,3)),jw=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],gA=jw.map(t=>t.slice(0,3));class gn{constructor(e,n,r){this.locale=n,this.DateTimeFormat=Lw(),this.date=new Date(e),this.timezoneFixed=r!==void 0,r===void 0&&(r=this.date.getTimezoneOffset()),this.timezoneOffset=Xt(r)?gn.getTimezoneOffset(r,this.date):r,this.timezoneName=Xt(r)?r:"";const i=(this.date.getTimezoneOffset()-this.timezoneOffset)*hA,o=this.date.getTime()+i;this.displayDate=new Date(o)}getTime(){return this.displayDate.getTime()}getMilliseconds(){return this.displayDate.getMilliseconds()}getSeconds(){return this.displayDate.getSeconds()}getMinutes(){return this.displayDate.getMinutes()}getHours(){return this.displayDate.getHours()}getDay(){return this.displayDate.getDay()}getDate(){return this.displayDate.getDate()}getMonth(){return this.displayDate.getMonth()}getFullYear(){return this.displayDate.getFullYear()}toLocaleString(e,n){return n!=null&&n.timeZone?this.date.toLocaleString(e,n):this.displayDate.toLocaleString(e,n)}toLocaleTimeString(e){return this.displayDate.toLocaleTimeString(e)}toLocaleDateString(e){return this.displayDate.toLocaleDateString(e)}getTimezoneOffset(){return this.timezoneOffset}getTimeZoneName(){if(this.timezoneFixed)return this.timezoneName;if(this.DateTimeFormat)return this.DateTimeFormat().resolvedOptions().timeZone}getLongMonthName(){var e;return(e=this.format({month:"long"}))!==null&&e!==void 0?e:Fw[this.getMonth()]}getShortMonthName(){var e;return(e=this.format({month:"short"}))!==null&&e!==void 0?e:mA[this.getMonth()]}getLongWeekdayName(){var e;return(e=this.format({weekday:"long"}))!==null&&e!==void 0?e:jw[this.displayDate.getDay()]}getShortWeekdayName(){var e;return(e=this.format({weekday:"short"}))!==null&&e!==void 0?e:gA[this.displayDate.getDay()]}valid(){return!isNaN(this.getTime())}format(e){return this.DateTimeFormat&&this.DateTimeFormat(this.locale,e).format(this.displayDate)}static createDateFixedToTimezone(e,n){const r=e.match(pA);if(r&&r[1]==="Z")return new gn(+new Date(e),n,0);if(r&&r[2]&&r[3]&&r[4]){const[,,i,o,s]=r,a=(i==="+"?-1:1)*(parseInt(o,10)*60+parseInt(s,10));return new gn(+new Date(e),n,a)}return new gn(e,n)}static getTimezoneOffset(e,n){const r=n.toLocaleString("en-US",{timeZone:e}),i=n.toLocaleString("en-US",{timeZone:"UTC"}),o=new Date(r);return(+new Date(i)-+o)/(60*1e3)}}class Dp{constructor(e,n){this.base=0,this.message=`${e} limit exceeded`,this.limit=n}use(e){e=yw(e),lt(this.base+e<=this.limit,this.message),this.base+=e}check(e){e=yw(e),lt(e<=this.limit,this.message)}}class Rp extends Yt{constructor(e,[n,r],i,o,s,a,l,u){super(e,i,o,s,u),this.trimLeft=!1,this.trimRight=!1;const c=i[n]==="-",f=i[r-1]==="-";let d=c?n+1:n,h=f?r-1:r;for(;d<h&&fe[i.charCodeAt(d)]&Do;)d++;for(;h>d&&fe[i.charCodeAt(h-1)]&Do;)h--;this.contentRange=[d,h],this.trimLeft=c||a,this.trimRight=f||l}get content(){return this.input.slice(this.contentRange[0],this.contentRange[1])}}class zw extends Rp{constructor(e,n,r,i,o){const{trimTagLeft:s,trimTagRight:a,tagDelimiterLeft:l,tagDelimiterRight:u}=i,[c,f]=[n+l.length,r-u.length];super(ye.Tag,[c,f],e,n,r,s,a,o),this.tokenizer=new Yn(e,i.operators,o,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal tag syntax, tag name expected"),this.tokenizer.skipBlank()}get args(){return this.tokenizer.input.slice(this.tokenizer.p,this.contentRange[1])}}class yA extends Rp{constructor(e,n,r,i,o){const{trimOutputLeft:s,trimOutputRight:a,outputDelimiterLeft:l,outputDelimiterRight:u}=i,c=[n+l.length,r-u.length];super(ye.Output,c,e,n,r,s,a,o)}}class $w extends Yt{constructor(e,n,r,i){super(ye.HTML,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}}class vA extends Yt{constructor(e,n,r,i){super(ye.Number,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=Number(this.getText())}}class Pp extends Yt{constructor(e,n,r,i){super(ye.Word,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=this.getText()}}class bA extends Yt{constructor(e,n,r,i){super(ye.Literal,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.literal=this.getText(),this.content=Iw[this.literal]}}const qw={"==":2,"!=":2,">":2,"<":2,">=":2,"<=":2,contains:2,not:1,and:0,or:0},wA={"==":0,"!=":0,">":0,"<":0,">=":0,"<=":0,contains:0,not:1,and:0,or:0};class kA extends Yt{constructor(e,n,r,i){super(ye.Operator,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.operator=this.getText()}getPrecedence(){const e=this.getText();return e in qw?qw[e]:1}}class Vw extends Yt{constructor(e,n,r,i,o,s){super(ye.PropertyAccess,r,i,o,s),this.variable=e,this.props=n}}class Bw extends Yt{constructor(e,n,r,i,o,s){super(ye.Filter,r,i,o,s),this.name=e,this.args=n}}class xA extends Yt{constructor(e,n,r,i,o,s){super(ye.Hash,e,n,r,s),this.input=e,this.begin=n,this.end=r,this.name=i,this.value=o,this.file=s}}const SA=/[\da-fA-F]/,Uw=/[0-7]/,Qw={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v"};function Hw(t){const e=t.charCodeAt(0);return e>=97?e-87:e>=65?e-55:e-48}function EA(t){let e="";for(let n=1;n<t.length-1;n++){if(t[n]!=="\\"){e+=t[n];continue}if(Qw[t[n+1]]!==void 0)e+=Qw[t[++n]];else if(t[n+1]==="u"){let r=0,i=n+2;for(;i<=n+5&&SA.test(t[i]);)r=r*16+Hw(t[i++]);n=i-1,e+=String.fromCharCode(r)}else if(!Uw.test(t[n+1]))e+=t[++n];else{let r=n+1,i=0;for(;r<=n+3&&Uw.test(t[r]);)i=i*8+Hw(t[r++]);n=r-1,e+=String.fromCharCode(i)}}return e}class TA extends Yt{constructor(e,n,r,i){super(ye.Quoted,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=EA(this.getText())}}class OA extends Yt{constructor(e,n,r,i,o,s){super(ye.Range,e,n,r,s),this.input=e,this.begin=n,this.end=r,this.lhs=i,this.rhs=o,this.file=s}}class CA extends Rp{constructor(e,n,r,i,o){super(ye.Tag,[n,r],e,n,r,!1,!1,o),this.tokenizer=new Yn(e,i.operators,o,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal liquid tag syntax"),this.tokenizer.skipBlank(),this.args=this.tokenizer.remaining()}}class NA extends Yt{constructor(e,n,r,i,o,s){super(ye.FilteredValue,r,i,o,s),this.initial=e,this.filters=n,this.input=r,this.begin=i,this.end=o,this.file=s}}const _A={now:()=>Date.now()};function Ww(){return typeof global=="object"&&global.performance||typeof window=="object"&&window.performance||_A}class MA{constructor(){this.buffer=""}write(e){this.buffer+=F(e)}}class IA{constructor(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}}class AA{constructor(){this.buffer=""}write(e){e=Y(e),typeof e!="string"&&this.buffer===""?this.buffer=e:this.buffer=F(this.buffer)+F(e)}}class DA{renderTemplatesToNodeStream(e,n){const r=new IA;return Promise.resolve().then(()=>Mr(this.renderTemplates(e,n,r))).then(()=>r.end(),i=>r.error(i)),r.stream}*renderTemplates(e,n,r){r||(r=n.opts.keepOutputType?new AA:new MA);const i=[];for(const o of e){n.renderLimit.check(Ww().now());try{const s=yield o.render(n,r);if(s&&r.write(s),r.break||r.continue)break}catch(s){const a=pi.is(s)?s:new WI(s,o);if(n.opts.catchAllErrors)i.push(a);else throw a}}if(i.length)throw new Ow(i);return r.buffer}}class RA{constructor(e){this.postfix=[...FA(e)]}*evaluate(e,n){lt(e,"unable to evaluate: context not defined");const r=[];for(const i of this.postfix)if(ek(i)){const o=r.pop();let s;if(wA[i.operator]===1)s=yield e.opts.operators[i.operator](o,e);else{const a=r.pop();s=yield e.opts.operators[i.operator](a,o,e)}r.push(s)}else r.push(yield De(i,e,n));return r[0]}valid(){return!!this.postfix.length}}function*De(t,e,n=!1){if(t){if("content"in t)return t.content;if(bD(t))return yield PA(t,e,n);if(wD(t))return yield LA(t,e)}}function*PA(t,e,n){const r=[];for(const i of t.props)r.push(yield De(i,e,!1));try{if(t.variable){const i=yield De(t.variable,e,n);return yield e._getFromScope(i,r)}else return yield e._get(r)}catch(i){if(n&&i.name==="InternalUndefinedVariableError")return null;throw new KI(i,t)}}function Kw(t){return t.content}function*LA(t,e){const n=yield De(t.lhs,e),r=yield De(t.rhs,e);return kw(+n,+r+1)}function*FA(t){const e=[];for(const n of t)if(ek(n)){for(;e.length&&e[e.length-1].getPrecedence()>n.getPrecedence();)yield e.pop();e.push(n)}else yield n;for(;e.length;)yield e.pop()}function mi(t,e){return!Xu(t,e)}function Xu(t,e){return t=Y(t),e.opts.jsTruthy?!t:t===!1||t===void 0||t===null}const jA={"==":gi,"!=":(t,e)=>!gi(t,e),">":(t,e)=>In(t)?t.gt(e):In(e)?e.lt(t):Y(t)>Y(e),"<":(t,e)=>In(t)?t.lt(e):In(e)?e.gt(t):Y(t)<Y(e),">=":(t,e)=>In(t)?t.geq(e):In(e)?e.leq(t):Y(t)>=Y(e),"<=":(t,e)=>In(t)?t.leq(e):In(e)?e.geq(t):Y(t)<=Y(e),contains:(t,e)=>(t=Y(t),Qe(t)?t.some(n=>gi(n,e)):Fe(t==null?void 0:t.indexOf)?t.indexOf(Y(e))>-1:!1),not:(t,e)=>Xu(Y(t),e),and:(t,e,n)=>mi(Y(t),n)&&mi(Y(e),n),or:(t,e,n)=>mi(Y(t),n)||mi(Y(e),n)};function gi(t,e){return In(t)?t.equals(e):In(e)?e.equals(t):(t=Y(t),e=Y(e),Qe(t)?Qe(e)&&zA(t,e):t===e)}function zA(t,e){return t.length!==e.length?!1:!t.some((n,r)=>!gi(n,e[r]))}let Lp=class{constructor(t,e,n,r){this.key=t,this.value=e,this.next=n,this.prev=r}};class Jw{constructor(e,n=0){this.limit=e,this.size=n,this.cache={},this.head=new Lp("HEAD",null,null,null),this.tail=new Lp("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(e,n){if(this.cache[e])this.cache[e].value=n;else{const r=new Lp(e,n,this.head.next,this.head);this.head.next.prev=r,this.head.next=r,this.cache[e]=r,this.size++,this.ensureLimit()}}read(e){if(!this.cache[e])return;const{value:n}=this.cache[e];return this.remove(e),this.write(e,n),n}remove(e){const n=this.cache[e];n.prev.next=n.next,n.next.prev=n.prev,delete this.cache[e],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}}function Gw(t,e){const n=document.createElement("base");n.href=t;const r=document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild);const i=document.createElement("a");i.href=e;const o=i.href;return r.removeChild(n),o}function $A(t,e,n){return t.length&&ww(t)!=="/"&&(t+="/"),Gw(t,e).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(r,i,o)=>{const s=o.split("/").pop();return/\.\w+$/.test(s)?r:i+o+n})}function qA(t){return mn(this,void 0,void 0,function*(){return new Promise((e,n)=>{const r=new XMLHttpRequest;r.onload=()=>{r.status>=200&&r.status<300?e(r.responseText):n(new Error(r.statusText))},r.onerror=()=>{n(new Error("An error occurred whilst receiving the response."))},r.open("GET",t),r.send()})})}function VA(t){const e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(),e.status<200||e.status>=300)throw new Error(e.statusText);return e.responseText}function BA(t){return mn(this,void 0,void 0,function*(){return!0})}function UA(t){return!0}function QA(t){return Gw(t,".")}var HA=Object.freeze({__proto__:null,resolve:$A,readFile:qA,readFileSync:VA,exists:BA,existsSync:UA,dirname:QA,sep:"/"});function WA(t,e,...n){return t=Y(t),Qe(t)||Xt(t)?t.length?t:e:t===!1&&new Map(n).get("allow_false")?!1:Xu(t,this.context)?e:t}function Yw(t,e=0){return JSON.stringify(t,null,e)}function KA(t,e=0){const n=[];return JSON.stringify(t,function(r,i){if(typeof i!="object"||i===null)return i;for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)},e)}function JA(t){return Number(t)}var Xw={default:WA,raw:{raw:!0,handler:Sw},jsonify:Yw,to_integer:JA,json:Yw,inspect:KA};const GA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},YA={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function Zu(t){return t=F(t),this.context.memoryLimit.use(t.length),t.replace(/&|<|>|"|'/g,e=>GA[e])}function XA(t){return Zu.call(this,t)}function ZA(t){return t=F(t),this.context.memoryLimit.use(t.length),t.replace(/&(amp|lt|gt|#34|#39);/g,e=>YA[e])}function eD(t){return Zu.call(this,ZA.call(this,t))}function tD(t){const e=F(t);return this.context.memoryLimit.use(e.length),e.replace(/\r?\n/gm,`<br />
`)}function nD(t){const e=F(t);return this.context.memoryLimit.use(e.length),e.replace(/<script[\s\S]*?<\/script>|<style[\s\S]*?<\/style>|<.*?>|<!--[\s\S]*?-->/g,"")}var rD=Object.freeze({__proto__:null,escape:Zu,xml_escape:XA,escape_once:eD,newline_to_br:tD,strip_html:nD});class iD{constructor(e){this.mapping=e,this.sep="/"}exists(e){return mn(this,void 0,void 0,function*(){return this.existsSync(e)})}existsSync(e){return!Zt(this.mapping[e])}readFile(e){return mn(this,void 0,void 0,function*(){return this.readFileSync(e)})}readFileSync(e){const n=this.mapping[e];if(Zt(n))throw new Error(`ENOENT: ${e}`);return n}dirname(e){const n=e.split(this.sep);return n.pop(),n.join(this.sep)}resolve(e,n,r){if(n+=r,e===".")return n;const i=e.split(/\/+/);for(const o of n.split(this.sep))o==="."||o===""||(o===".."?(i.length>1||i[0]!=="")&&i.pop():i.push(o));return i.join(this.sep)}}const Ro={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,keyValueSeparator:":",cache:void 0,extname:"",fs:HA,dynamicPartials:!0,jsTruthy:!1,dateFormat:"%A, %B %-e, %Y at %-l:%M %P %z",locale:"",trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!0,lenientIf:!1,globals:{},keepOutputType:!1,operators:jA,memoryLimit:1/0,parseLimit:1/0,renderLimit:1/0};function oD(t){var e,n;if(t.hasOwnProperty("root")&&(t.hasOwnProperty("partials")||(t.partials=t.root),t.hasOwnProperty("layouts")||(t.layouts=t.root)),t.hasOwnProperty("cache")){let r;typeof t.cache=="number"?r=t.cache>0?new Jw(t.cache):void 0:typeof t.cache=="object"?r=t.cache:r=t.cache?new Jw(1024):void 0,t.cache=r}return t=Object.assign(Object.assign(Object.assign({},Ro),t.jekyllInclude?{dynamicPartials:!1}:{}),t),(!t.fs.dirname||!t.fs.sep)&&t.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` and `fs.sep` are required for relativeReference, set relativeReference to `false` to suppress this warning"),t.relativeReference=!1),t.root=ec(t.root),t.partials=ec(t.partials),t.layouts=ec(t.layouts),t.outputEscape=t.outputEscape&&sD(t.outputEscape),t.locale||(t.locale=(n=(e=Lw())===null||e===void 0?void 0:e().resolvedOptions().locale)!==null&&n!==void 0?n:"en-US"),t.templates&&(t.fs=new iD(t.templates),t.relativeReference=!0,t.root=t.partials=t.layouts="."),t}function sD(t){return t==="escape"?Zu:t==="json"?Xw.json:(lt(Fe(t),"`outputEscape` need to be of type string or function"),t)}function ec(t){let e=[];return Qe(t)&&(e=t),Xt(t)&&(e=[t]),e}function aD(t,e){let n=!1;for(let r=0;r<t.length;r++){const i=t[r];gD(i)&&(!n&&i.trimLeft&&lD(t[r-1],e.greedy),bi(i)&&(i.name==="raw"?n=!0:i.name==="endraw"&&(n=!1)),!n&&i.trimRight&&uD(t[r+1],e.greedy))}}function lD(t,e){if(!t||!jp(t))return;const n=e?Do:Nw;for(;fe[t.input.charCodeAt(t.end-1-t.trimRight)]&n;)t.trimRight++}function uD(t,e){if(!t||!jp(t))return;const n=e?Do:Nw;for(;fe[t.input.charCodeAt(t.begin+t.trimLeft)]&n;)t.trimLeft++;t.input.charAt(t.begin+t.trimLeft)===`
`&&t.trimLeft++}class Yn{constructor(e,n=Ro.operators,r,i){this.input=e,this.file=r,this.rawBeginAt=-1,this.p=i?i[0]:0,this.N=i?i[1]:e.length,this.opTrie=Aw(n),this.literalTrie=Aw(Iw)}readExpression(){return new RA(this.readExpressionTokens())}*readExpressionTokens(){for(;this.p<this.N;){const e=this.readOperator();if(e){yield e;continue}const n=this.readValue();if(n){yield n;continue}return}}readOperator(){this.skipBlank();const e=this.matchTrie(this.opTrie);if(e!==-1)return new kA(this.input,this.p,this.p=e,this.file)}matchTrie(e){let n=e,r=this.p,i;for(;n[this.input[r]]&&r<this.N;)n=n[this.input[r++]],n.end&&(i=n);return!i||i.needBoundary&&Wu(this.peek(r-this.p))?-1:r}readFilteredValue(){const e=this.p,n=this.readExpression();this.assert(n.valid(),`invalid value expression: ${this.snapshot()}`);const r=this.readFilters();return new NA(n,r,this.input,e,this.p,this.file)}readFilters(){const e=[];for(;;){const n=this.readFilter();if(!n)return e;e.push(n)}}readFilter(){if(this.skipBlank(),this.end())return null;this.assert(this.read()==="|",'expected "|" before filter');const e=this.readIdentifier();if(!e.size())return this.assert(this.end(),"expected filter name"),null;const n=[];if(this.skipBlank(),this.peek()===":")do{++this.p;const r=this.readFilterArg();r&&n.push(r),this.skipBlank(),this.assert(this.end()||this.peek()===","||this.peek()==="|",()=>`unexpected character ${this.snapshot()}`)}while(this.peek()===",");else if(!(this.peek()==="|"||this.end()))throw this.error('expected ":" after filter name');return new Bw(e.getText(),n,this.input,e.begin,this.p,this.file)}readFilterArg(){const e=this.readValue();if(!e)return;if(this.skipBlank(),this.peek()!==":")return e;++this.p;const n=this.readValue();return[e.getText(),n]}readTopLevelTokens(e=Ro){const n=[];for(;this.p<this.N;){const r=this.readTopLevelToken(e);n.push(r)}return aD(n,e),n}readTopLevelToken(e){const{tagDelimiterLeft:n,outputDelimiterLeft:r}=e;return this.rawBeginAt>-1?this.readEndrawOrRawContent(e):this.match(n)?this.readTagToken(e):this.match(r)?this.readOutputToken(e):this.readHTMLToken([n,r])}readHTMLToken(e){const n=this.p;for(;this.p<this.N&&!e.some(r=>this.match(r));)++this.p;return new $w(this.input,n,this.p,this.file)}readTagToken(e){const{file:n,input:r}=this,i=this.p;if(this.readToDelimiter(e.tagDelimiterRight)===-1)throw this.error(`tag ${this.snapshot(i)} not closed`,i);const o=new zw(r,i,this.p,e,n);return o.name==="raw"&&(this.rawBeginAt=i),o}readToDelimiter(e,n=!1){for(this.skipBlank();this.p<this.N;){if(n&&this.peekType()&Cw){this.readQuoted();continue}if(++this.p,this.rmatch(e))return this.p}return-1}readOutputToken(e=Ro){const{file:n,input:r}=this,{outputDelimiterRight:i}=e,o=this.p;if(this.readToDelimiter(i,!0)===-1)throw this.error(`output ${this.snapshot(o)} not closed`,o);return new yA(r,o,this.p,e,n)}readEndrawOrRawContent(e){const{tagDelimiterLeft:n,tagDelimiterRight:r}=e,i=this.p;let o=this.readTo(n)-n.length;for(;this.p<this.N;){if(this.readIdentifier().getText()!=="endraw"){o=this.readTo(n)-n.length;continue}for(;this.p<=this.N;){if(this.rmatch(r)){const s=this.p;return i===o?(this.rawBeginAt=-1,new zw(this.input,i,s,e,this.file)):(this.p=o,new $w(this.input,i,o,this.file))}if(this.rmatch(n))break;this.p++}}throw this.error(`raw ${this.snapshot(this.rawBeginAt)} not closed`,i)}readLiquidTagTokens(e=Ro){const n=[];for(;this.p<this.N;){const r=this.readLiquidTagToken(e);r&&n.push(r)}return n}readLiquidTagToken(e){if(this.skipBlank(),this.end())return;const n=this.p;this.readToDelimiter(`
`);const r=this.p;return new CA(this.input,n,r,e,this.file)}error(e,n=this.p){return new QI(e,new Pp(this.input,n,this.N,this.file))}assert(e,n,r){if(!e)throw this.error(typeof n=="function"?n():n,r)}snapshot(e=this.p){return JSON.stringify(UI(this.input.slice(e,this.N),32))}readWord(){return this.readIdentifier()}readIdentifier(){this.skipBlank();const e=this.p;for(;!this.end()&&Wu(this.peek());)++this.p;return new Pp(this.input,e,this.p,this.file)}readNonEmptyIdentifier(){const e=this.readIdentifier();return e.size()?e:void 0}readTagName(){return this.skipBlank(),this.input[this.p]==="#"?this.input.slice(this.p,++this.p):this.readIdentifier().getText()}readHashes(e){const n=[];for(;;){const r=this.readHash(e);if(!r)return n;n.push(r)}}readHash(e){this.skipBlank(),this.peek()===","&&++this.p;const n=this.p,r=this.readNonEmptyIdentifier();if(!r)return;let i;this.skipBlank();const o=Xt(e)?e:e?"=":":";return this.peek()===o&&(++this.p,i=this.readValue()),new xA(this.input,n,this.p,r,i,this.file)}remaining(){return this.input.slice(this.p,this.N)}advance(e=1){this.p+=e}end(){return this.p>=this.N}read(){return this.input[this.p++]}readTo(e){for(;this.p<this.N;)if(++this.p,this.rmatch(e))return this.p;return-1}readValue(){this.skipBlank();const e=this.p,n=this.readLiteral()||this.readQuoted()||this.readRange()||this.readNumber(),r=this.readProperties(!n);return r.length?new Vw(n,r,this.input,e,this.p):n}readScopeValue(){this.skipBlank();const e=this.p,n=this.readProperties();if(n.length)return new Vw(void 0,n,this.input,e,this.p)}readProperties(e=!0){const n=[];for(;;){if(this.peek()==="["){this.p++;const r=this.readValue()||new Pp(this.input,this.p,this.p,this.file);this.assert(this.readTo("]")!==-1,"[ not closed"),n.push(r);continue}if(e&&!n.length){const r=this.readNonEmptyIdentifier();if(r){n.push(r);continue}}if(this.peek()==="."&&this.peek(1)!=="."){this.p++;const r=this.readNonEmptyIdentifier();if(!r)break;n.push(r);continue}break}return n}readNumber(){this.skipBlank();let e=!1,n=!1,r=0;for(this.peekType()&tA&&r++;this.p+r<=this.N;)if(this.peekType(r)&eA)n=!0,r++;else if(this.peek(r)==="."&&this.peek(r+1)!=="."){if(e||!n)return;e=!0,r++}else break;if(n&&!Wu(this.peek(r))){const i=new vA(this.input,this.p,this.p+r,this.file);return this.advance(r),i}}readLiteral(){this.skipBlank();const e=this.matchTrie(this.literalTrie);if(e===-1)return;const n=new bA(this.input,this.p,e,this.file);return this.p=e,n}readRange(){this.skipBlank();const e=this.p;if(this.peek()!=="(")return;++this.p;const n=this.readValueOrThrow();this.p+=2;const r=this.readValueOrThrow();return++this.p,new OA(this.input,e,this.p,n,r,this.file)}readValueOrThrow(){const e=this.readValue();return this.assert(e,()=>`unexpected token ${this.snapshot()}, value expected`),e}readQuoted(){this.skipBlank();const e=this.p;if(!(this.peekType()&Cw))return;++this.p;let n=!1;for(;this.p<this.N&&(++this.p,!(this.input[this.p-1]===this.input[e]&&!n));)n?n=!1:this.input[this.p-1]==="\\"&&(n=!0);return new TA(this.input,e,this.p,this.file)}*readFileNameTemplate(e){const{outputDelimiterLeft:n}=e,r=[","," ",n],i=new Set(r);for(;this.p<this.N&&!i.has(this.peek());)yield this.match(n)?this.readOutputToken(e):this.readHTMLToken(r)}match(e){for(let n=0;n<e.length;n++)if(e[n]!==this.input[this.p+n])return!1;return!0}rmatch(e){for(let n=0;n<e.length;n++)if(e[e.length-1-n]!==this.input[this.p-1-n])return!1;return!0}peekType(e=0){return this.p+e>=this.N?0:fe[this.input.charCodeAt(this.p+e)]}peek(e=0){return this.p+e>=this.N?"":this.input[this.p+e]}skipBlank(){for(;this.peekType()&Do;)++this.p}}class cD{constructor(e,n){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=n}on(e,n){return this.handlers[e]=n,this}trigger(e,n){const r=this.handlers[e];return r?(r.call(this,n),!0):!1}start(){this.trigger("start");let e;for(;!this.stopRequested&&(e=this.tokens.shift());){if(this.trigger("token",e)||bi(e)&&this.trigger(`tag:${e.name}`,e))continue;const n=this.parseToken(e,this.tokens);this.trigger("template",n)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}class Fp{constructor(e){this.token=e}}class Oe extends Fp{constructor(e,n,r){super(e),this.name=e.name,this.liquid=r,this.tokenizer=e.tokenizer}}class Po{constructor(e,n){this.hash={};const r=new Yn(e,{});for(const i of r.readHashes(n))this.hash[i.name.content]=i.value}*render(e){const n={};for(const r of Object.keys(this.hash))n[r]=this.hash[r]===void 0?!0:yield De(this.hash[r],e);return n}}function fD(t){return class extends Oe{constructor(e,n,r){super(e,n,r),Fe(t.parse)&&t.parse.call(this,e,n)}*render(e,n){const r=yield new Po(this.token.args,e.opts.keyValueSeparator).render(e);return yield t.render.call(this,e,n,r)}}}function dD(t){return Qe(t)}class Zw{constructor(e,n,r){this.token=e,this.name=e.name,this.handler=Fe(n)?n:Fe(n==null?void 0:n.handler)?n.handler:Sw,this.raw=!Fe(n)&&!!(n!=null&&n.raw),this.args=e.args,this.liquid=r}*render(e,n){const r=[];for(const i of this.args)dD(i)?r.push([i[0],yield De(i[1],n)]):r.push(yield De(i,n));return yield this.handler.apply({context:n,token:this.token,liquid:this.liquid},[e,...r])}}class en{constructor(e,n){this.filters=[];const r=typeof e=="string"?new Yn(e,n.options.operators).readFilteredValue():e;this.initial=r.initial,this.filters=r.filters.map(i=>new Zw(i,this.getFilter(n,i.name),n))}*value(e,n){n=n||e.opts.lenientIf&&this.filters.length>0&&this.filters[0].name==="default";let r=yield this.initial.evaluate(e,n);for(const i of this.filters)r=yield i.render(r,e);return r}getFilter(e,n){const r=e.filters[n];return lt(r||!e.options.strictFilters,()=>`undefined filter: ${n}`),r}}class hD extends Fp{constructor(e,n){var r;super(e);const i=new Yn(e.input,n.options.operators,e.file,e.contentRange);this.value=new en(i.readFilteredValue(),n);const o=this.value.filters,s=n.options.outputEscape;if(!(!((r=o[o.length-1])===null||r===void 0)&&r.raw)&&s){const a=new Bw(toString.call(s),[],"",0,0);o.push(new Zw(a,s,n))}}*render(e,n){const r=yield this.value.value(e,!1);n.write(r)}}class pD extends Fp{constructor(e){super(e),this.str=e.getContent()}*render(e,n){n.write(this.str)}}var yi;(function(t){t.Partials="partials",t.Layouts="layouts",t.Root="root"})(yi||(yi={}));class mD{constructor(e){if(this.options=e,e.relativeReference){const n=e.fs.sep;lt(n,"`fs.sep` is required for relative reference");const r=new RegExp(["."+n,".."+n,"./","../"].map(i=>zI(i)).join("|"));this.shouldLoadRelative=i=>r.test(i)}else this.shouldLoadRelative=n=>!1;this.contains=this.options.fs.contains||(()=>!0)}*lookup(e,n,r,i){const{fs:o}=this.options,s=this.options[n];for(const a of this.candidates(e,s,i,n!==yi.Root))if(r?o.existsSync(a):yield o.exists(a))return a;throw this.lookupError(e,s)}*candidates(e,n,r,i){const{fs:o,extname:s}=this.options;if(this.shouldLoadRelative(e)&&r){const a=o.resolve(this.dirname(r),e,s);for(const l of n)if(!i||this.contains(l,a)){yield a;break}}for(const a of n){const l=o.resolve(a,e,s);(!i||this.contains(a,l))&&(yield l)}if(o.fallback!==void 0){const a=o.fallback(e);a!==void 0&&(yield a)}}dirname(e){const n=this.options.fs;return lt(n.dirname,"`fs.dirname` is required for relative reference"),n.dirname(e)}lookupError(e,n){const r=new Error("ENOENT");return r.message=`ENOENT: Failed to lookup "${e}" in "${n}"`,r.code="ENOENT",r}}class vi{constructor(e){this.liquid=e,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new mD(this.liquid.options),this.parseLimit=new Dp("parse length",e.options.parseLimit)}parse(e,n){e=String(e),this.parseLimit.use(e.length);const r=new Yn(e,this.liquid.options.operators,n).readTopLevelTokens(this.liquid.options);return this.parseTokens(r)}parseTokens(e){let n;const r=[],i=[];for(;n=e.shift();)try{r.push(this.parseToken(n,e))}catch(o){if(this.liquid.options.catchAllErrors)i.push(o);else throw o}if(i.length)throw new Ow(i);return r}parseToken(e,n){try{if(bi(e)){const r=this.liquid.tags[e.name];return lt(r,`tag "${e.name}" not found`),new r(e,n,this.liquid,this)}return yD(e)?new hD(e,this.liquid):new pD(e)}catch(r){throw pi.is(r)?r:new HI(r,e)}}parseStream(e){return new cD(e,(n,r)=>this.parseToken(n,r))}*_parseFileCached(e,n,r=yi.Root,i){const o=this.cache,s=this.loader.shouldLoadRelative(e)?i+","+e:r+":"+e,a=yield o.read(s);if(a)return a;const l=this._parseFile(e,n,r,i),u=n?yield l:Mr(l);o.write(s,u);try{return yield u}catch(c){throw o.remove(s),c}}*_parseFile(e,n,r=yi.Root,i){const o=yield this.loader.lookup(e,r,n,i);return this.parse(n?this.fs.readFileSync(o):yield this.fs.readFile(o),o)}}var ye;(function(t){t[t.Number=1]="Number",t[t.Literal=2]="Literal",t[t.Tag=4]="Tag",t[t.Output=8]="Output",t[t.HTML=16]="HTML",t[t.Filter=32]="Filter",t[t.Hash=64]="Hash",t[t.PropertyAccess=128]="PropertyAccess",t[t.Word=256]="Word",t[t.Range=512]="Range",t[t.Quoted=1024]="Quoted",t[t.Operator=2048]="Operator",t[t.FilteredValue=4096]="FilteredValue",t[t.Delimited=12]="Delimited"})(ye||(ye={}));function gD(t){return!!(Ar(t)&ye.Delimited)}function ek(t){return Ar(t)===ye.Operator}function jp(t){return Ar(t)===ye.HTML}function yD(t){return Ar(t)===ye.Output}function bi(t){return Ar(t)===ye.Tag}function vD(t){return Ar(t)===ye.Quoted}function bD(t){return Ar(t)===ye.PropertyAccess}function wD(t){return Ar(t)===ye.Range}function Ar(t){return t?t.kind:-1}class wi{constructor(e={},n=Ro,r={},{memoryLimit:i,renderLimit:o}={}){var s,a,l,u,c;this.scopes=[{}],this.registers={},this.sync=!!r.sync,this.opts=n,this.globals=(s=r.globals)!==null&&s!==void 0?s:n.globals,this.environments=Hu(e)?e:Object(e),this.strictVariables=(a=r.strictVariables)!==null&&a!==void 0?a:this.opts.strictVariables,this.ownPropertyOnly=(l=r.ownPropertyOnly)!==null&&l!==void 0?l:n.ownPropertyOnly,this.memoryLimit=i??new Dp("memory alloc",(u=r.memoryLimit)!==null&&u!==void 0?u:n.memoryLimit),this.renderLimit=o??new Dp("template render",Ww().now()+((c=r.renderLimit)!==null&&c!==void 0?c:n.renderLimit))}getRegister(e){return this.registers[e]=this.registers[e]||{}}setRegister(e,n){return this.registers[e]=n}saveRegister(...e){return e.map(n=>[n,this.getRegister(n)])}restoreRegister(e){return e.forEach(([n,r])=>this.setRegister(n,r))}getAll(){return[this.globals,this.environments,...this.scopes].reduce((e,n)=>Gu(e,n),{})}get(e){return this.getSync(e)}getSync(e){return Ir(this._get(e))}*_get(e){const n=this.findScope(e[0]);return yield this._getFromScope(n,e)}getFromScope(e,n){return Ir(this._getFromScope(e,n))}*_getFromScope(e,n,r=this.strictVariables){Xt(n)&&(n=n.split("."));for(let i=0;i<n.length;i++)if(e=yield kD(e,n[i],this.ownPropertyOnly),r&&$I(e))throw new JI(n.slice(0,i+1).join("."));return e}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}spawn(e={}){return new wi(e,this.opts,{sync:this.sync,globals:this.globals,strictVariables:this.strictVariables},{renderLimit:this.renderLimit,memoryLimit:this.memoryLimit})}findScope(e){for(let n=this.scopes.length-1;n>=0;n--){const r=this.scopes[n];if(e in r)return r}return e in this.environments?this.environments:this.globals}}function kD(t,e,n){if(t=vw(t),Zt(t))return t;if(Qe(t)&&e<0)return t[t.length+ +e];const r=xD(t,e,n);return r===void 0&&t instanceof hi?t.liquidMethodMissing(e):Fe(r)?r.call(t):e==="size"?TD(t):e==="first"?SD(t):e==="last"?ED(t):r}function xD(t,e,n){if(!(n&&!Cp.call(t,e)&&!(t instanceof hi)))return t[e]}function SD(t){return Qe(t)?t[0]:t.first}function ED(t){return Qe(t)?t[t.length-1]:t.last}function TD(t){if(Cp.call(t,"size")||t.size!==void 0)return t.size;if(Qe(t)||Xt(t))return t.length;if(typeof t=="object")return Object.keys(t).length}var ki;(function(t){t[t.OUTPUT=0]="OUTPUT",t[t.STORE=1]="STORE"})(ki||(ki={}));const OD=zt(Math.abs),CD=zt(Math.max),ND=zt(Math.min),_D=zt(Math.ceil),MD=zt((t,e,n=!1)=>n?Math.floor(t/e):t/e),ID=zt(Math.floor),AD=zt((t,e)=>t-e),DD=zt((t,e)=>t%e),RD=zt((t,e)=>t*e);function PD(t,e=0){t=Y(t),e=Y(e);const n=Math.pow(10,e);return Math.round(t*n)/n}function LD(t,e){return t=Y(t),e=Y(e),Number(t)+Number(e)}var FD=Object.freeze({__proto__:null,abs:OD,at_least:CD,at_most:ND,ceil:_D,divided_by:MD,floor:ID,minus:AD,modulo:DD,times:RD,round:PD,plus:LD});const jD=t=>decodeURIComponent(F(t)).replace(/\+/g," "),zD=t=>encodeURIComponent(F(t)).replace(/%20/g,"+"),$D=t=>encodeURIComponent(F(t)).replace(/%20/g,"+").replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()),qD=t=>encodeURI(F(t)).replace(/%5B/g,"[").replace(/%5D/g,"]"),tk=/[^\p{M}\p{L}\p{Nd}]+/ug,VD={raw:/\s+/g,default:tk,pretty:/[^\p{M}\p{L}\p{Nd}._~!$&'()+,;=@]+/ug,ascii:/[^A-Za-z0-9]+/g,latin:tk,none:null};function BD(t,e="default",n=!1){t=F(t);const r=VD[e];return r&&(e==="latin"&&(t=UD(t)),t=t.replace(r,"-").replace(/^-|-$/g,"")),n?t:t.toLowerCase()}function UD(t){return t.replace(/[]/g,"a").replace(/[]/g,"ae").replace(/[]/g,"c").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"d").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[]/g,"ss").replace(/[]/g,"oe").replace(/[]/g,"th").replace(/[]/g,"SS").replace(/[]/g,"OE").replace(/[]/g,"TH")}var QD=Object.freeze({__proto__:null,url_decode:jD,url_encode:zD,cgi_escape:$D,uri_escape:qD,slugify:BD});const HD=zt(function(t,e){const n=je(t),r=Zt(e)?" ":F(e),i=n.length*(1+r.length);return this.context.memoryLimit.use(i),n.join(r)}),WD=zt(t=>Qe(t)?ww(t):""),KD=zt(t=>Qe(t)?t[0]:""),JD=zt(function(t){const e=je(t);return this.context.memoryLimit.use(e.length),[...e].reverse()});function*GD(t,e){const n=[],r=je(t);this.context.memoryLimit.use(r.length);for(const i of r)n.push([i,e?yield this.context._getFromScope(i,F(e).split("."),!1):i]);return n.sort((i,o)=>{const s=i[1],a=o[1];return s<a?-1:s>a?1:0}).map(i=>i[0])}function YD(t,e){const n=F(e),r=e===void 0?Ew:(o,s)=>Ew(o[n],s[n]),i=je(t);return this.context.memoryLimit.use(i.length),[...i].sort(r)}const XD=t=>t&&t.length||0;function*ZD(t,e){const n=[],r=je(t);this.context.memoryLimit.use(r.length);for(const i of r)n.push(yield this.context._getFromScope(i,F(e),!1));return n}function*eR(t,e){let n=0;const r=je(t);for(const i of r){const o=Number(e?yield this.context._getFromScope(i,F(e),!1):i);n+=Number.isNaN(o)?0:o}return n}function tR(t){const e=je(t);return this.context.memoryLimit.use(e.length),e.filter(n=>!Zt(Y(n)))}function nk(t,e=[]){const n=je(t),r=je(e);return this.context.memoryLimit.use(n.length+r.length),n.concat(r)}function nR(t,e){return nk.call(this,t,[e])}function rR(t,e){const n=je(t);this.context.memoryLimit.use(n.length);const r=[...n];return r.unshift(e),r}function iR(t){const e=[...je(t)];return e.pop(),e}function oR(t){const e=je(t);this.context.memoryLimit.use(e.length);const n=[...e];return n.shift(),n}function sR(t,e,n=1){return t=Y(t),Zt(t)?[]:(Qe(t)||(t=F(t)),e=e<0?t.length+e:e,this.context.memoryLimit.use(n),t.slice(e,e+n))}function*aR(t,e,n){const r=[];t=je(t),this.context.memoryLimit.use(t.length);const i=new Yn(F(e)).readScopeValue();for(const o of t)r.push(yield De(i,this.context.spawn(o)));return t.filter((o,s)=>n===void 0?mi(r[s],this.context):gi(r[s],n))}function*lR(t,e,n){const r=[],i=new en(F(n),this.liquid),o=je(t);this.context.memoryLimit.use(o.length);for(const s of o)(yield i.value(this.context.spawn({[e]:s})))&&r.push(s);return r}function*uR(t,e){const n=new Map;t=je(t);const r=new Yn(F(e)).readScopeValue();this.context.memoryLimit.use(t.length);for(const i of t){const o=yield De(r,this.context.spawn(i));n.has(o)||n.set(o,[]),n.get(o).push(i)}return[...n.entries()].map(([i,o])=>({name:i,items:o}))}function*cR(t,e,n){const r=new Map,i=new en(F(n),this.liquid);t=je(t),this.context.memoryLimit.use(t.length);for(const o of t){const s=yield i.value(this.context.spawn({[e]:o}));r.has(s)||r.set(s,[]),r.get(s).push(o)}return[...r.entries()].map(([o,s])=>({name:o,items:s}))}function*fR(t,e,n){const r=new Yn(F(e)).readScopeValue(),i=je(t);for(const o of i){const s=yield De(r,this.context.spawn(o));if(gi(s,n))return o}}function*dR(t,e,n){const r=new en(F(n),this.liquid),i=je(t);for(const o of i)if(yield r.value(this.context.spawn({[e]:o})))return o}function hR(t){return t=je(t),this.context.memoryLimit.use(t.length),[...new Set(t)]}function pR(t,e=1){if(t=Y(t),Zt(t))return[];Qe(t)||(t=F(t)),this.context.memoryLimit.use(e);const n=[...t].sort(()=>Math.random()-.5);return e===1?n[0]:n.slice(0,e)}var mR=Object.freeze({__proto__:null,join:HD,last:WD,first:KD,reverse:JD,sort:GD,sort_natural:YD,size:XD,map:ZD,sum:eR,compact:tR,concat:nk,push:nR,unshift:rR,pop:iR,shift:oR,slice:sR,where:aR,where_exp:lR,group_by:uR,group_by_exp:cR,find:fR,find_exp:dR,uniq:hR,sample:pR});function zp(t,e,n){var r,i,o;const s=((r=t==null?void 0:t.length)!==null&&r!==void 0?r:0)+((i=e==null?void 0:e.length)!==null&&i!==void 0?i:0)+((o=n==null?void 0:n.length)!==null&&o!==void 0?o:0);this.context.memoryLimit.use(s);const a=ik(t,this.context.opts,n);return a?(e=Y(e),e=Zt(e)?this.context.opts.dateFormat:F(e),Yu(a,e)):t}function gR(t){return zp.call(this,t,"%Y-%m-%dT%H:%M:%S%:z")}function yR(t){return zp.call(this,t,"%a, %d %b %Y %H:%M:%S %z")}function vR(t,e,n){return rk.call(this,t,"%b",e,n)}function bR(t,e,n){return rk.call(this,t,"%B",e,n)}function rk(t,e,n,r){const i=ik(t,this.context.opts);if(!i)return t;if(n==="ordinal"){const o=i.getDate();return r==="US"?Yu(i,`${e} ${o}%q, %Y`):Yu(i,`${o}%q ${e} %Y`)}return Yu(i,`%d ${e} %Y`)}function ik(t,e,n){let r;const i=n??e.timezoneOffset,o=e.locale;return t=Y(t),t==="now"||t==="today"?r=new gn(Date.now(),o,i):_p(t)?r=new gn(t*1e3,o,i):Xt(t)?/^\d+$/.test(t)?r=new gn(+t*1e3,o,i):e.preserveTimezones&&n===void 0?r=gn.createDateFixedToTimezone(t,o):r=new gn(t,o,i):r=new gn(t,o,i),r.valid()?r:void 0}var wR=Object.freeze({__proto__:null,date:zp,date_to_xmlschema:gR,date_to_rfc822:yR,date_to_string:vR,date_to_long_string:bR});const $p=/[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]/gu,ok=/[^\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF\s]+/gu;function kR(t,e){lt(arguments.length===2,"append expect 2 arguments");const n=F(t),r=F(e);return this.context.memoryLimit.use(n.length+r.length),n+r}function xR(t,e){lt(arguments.length===2,"prepend expect 2 arguments");const n=F(t),r=F(e);return this.context.memoryLimit.use(n.length+r.length),r+n}function SR(t,e){const n=F(t);return this.context.memoryLimit.use(n.length),e?(e=Mp(F(e)),n.replace(new RegExp(`^[${e}]+`,"g"),"")):n.replace(/^\s+/,"")}function ER(t){const e=F(t);return this.context.memoryLimit.use(e.length),e.toLowerCase()}function TR(t){const e=F(t);return this.context.memoryLimit.use(e.length),F(e).toUpperCase()}function OR(t,e){const n=F(t);return this.context.memoryLimit.use(n.length),n.split(F(e)).join("")}function CR(t,e){const n=F(t);return this.context.memoryLimit.use(n.length),n.replace(F(e),"")}function NR(t,e){const n=F(t);this.context.memoryLimit.use(n.length);const r=F(e),i=n.lastIndexOf(r);return i===-1?n:n.substring(0,i)+n.substring(i+r.length)}function _R(t,e){return t=F(t),this.context.memoryLimit.use(t.length),e?(e=Mp(F(e)),t.replace(new RegExp(`[${e}]+$`,"g"),"")):t.replace(/\s+$/,"")}function MR(t,e){const n=F(t);this.context.memoryLimit.use(n.length);const r=n.split(F(e));for(;r.length&&r[r.length-1]==="";)r.pop();return r}function IR(t,e){const n=F(t);return this.context.memoryLimit.use(n.length),e?(e=Mp(F(e)),n.replace(new RegExp(`^[${e}]+`,"g"),"").replace(new RegExp(`[${e}]+$`,"g"),"")):n.trim()}function AR(t){const e=F(t);return this.context.memoryLimit.use(e.length),e.replace(/\r?\n/gm,"")}function DR(t){return t=F(t),this.context.memoryLimit.use(t.length),t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function RR(t,e,n){const r=F(t);return this.context.memoryLimit.use(r.length),r.split(F(e)).join(n)}function PR(t,e,n){const r=F(t);return this.context.memoryLimit.use(r.length),r.replace(F(e),n)}function LR(t,e,n){const r=F(t);this.context.memoryLimit.use(r.length);const i=F(e),o=r.lastIndexOf(i);if(o===-1)return r;const s=F(n);return r.substring(0,o)+s+r.substring(o+i.length)}function FR(t,e=50,n="..."){const r=F(t);return this.context.memoryLimit.use(r.length),r.length<=e?t:r.substring(0,e-n.length)+n}function jR(t,e=15,n="..."){const r=F(t);this.context.memoryLimit.use(r.length);const i=r.split(/\s+/);e<=0&&(e=1);let o=i.slice(0,e).join(" ");return i.length>=e&&(o+=n),o}function zR(t){const e=F(t);return this.context.memoryLimit.use(e.length),e.replace(/\s+/g," ")}function $R(t,e){const n=F(t);if(this.context.memoryLimit.use(n.length),t=n.trim(),!t)return 0;switch(e){case"cjk":return(t.match($p)||[]).length+(t.match(ok)||[]).length;case"auto":return $p.test(t)?t.match($p).length+(t.match(ok)||[]).length:t.split(/\s+/).length;default:return t.split(/\s+/).length}}function qR(t,e="and"){switch(this.context.memoryLimit.use(t.length),t.length){case 0:return"";case 1:return t[0];case 2:return`${t[0]} ${e} ${t[1]}`;default:return`${t.slice(0,-1).join(", ")}, ${e} ${t[t.length-1]}`}}var VR=Object.freeze({__proto__:null,append:kR,prepend:xR,lstrip:SR,downcase:ER,upcase:TR,remove:OR,remove_first:CR,remove_last:NR,rstrip:_R,split:MR,strip:IR,strip_newlines:AR,capitalize:DR,replace:RR,replace_first:PR,replace_last:LR,truncate:FR,truncatewords:jR,normalize_whitespace:zR,number_of_words:$R,array_to_sentence_string:qR});const BR=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rD),FD),QD),mR),wR),VR),Xw);class UR extends Oe{constructor(e,n,r){super(e,n,r),this.key=this.tokenizer.readIdentifier().content,this.tokenizer.assert(this.key,"expected variable name"),this.tokenizer.skipBlank(),this.tokenizer.assert(this.tokenizer.peek()==="=",'expected "="'),this.tokenizer.advance(),this.value=new en(this.tokenizer.readFilteredValue(),this.liquid)}*render(e){e.bottom()[this.key]=yield this.value.value(e,this.liquid.options.lenientIf)}}const sk=["offset","limit","reversed"];class QR extends Oe{constructor(e,n,r,i){super(e,n,r);const o=this.tokenizer.readIdentifier(),s=this.tokenizer.readIdentifier(),a=this.tokenizer.readValue();if(!o.size()||s.content!=="in"||!a)throw new Error(`illegal tag: ${e.getText()}`);this.variable=o.content,this.collection=a,this.hash=new Po(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=[],this.elseTemplates=[];let l;const u=i.parseStream(n).on("start",()=>l=this.templates).on("tag:else",c=>{Ku(c.args),l=this.elseTemplates}).on("tag:endfor",c=>{Ku(c.args),u.stop()}).on("template",c=>l.push(c)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});u.start()}*render(e,n){const r=this.liquid.renderer;let i=Np(yield De(this.collection,e));if(!i.length){yield r.renderTemplates(this.elseTemplates,e,n);return}const o="continue-"+this.variable+"-"+this.collection.getText();e.push({continue:e.getRegister(o)});const s=yield this.hash.render(e);e.pop(),i=(this.liquid.options.orderedFilterParameters?Object.keys(s).filter(l=>sk.includes(l)):sk.filter(l=>s[l]!==void 0)).reduce((l,u)=>u==="offset"?WR(l,s.offset):u==="limit"?KR(l,s.limit):HR(l),i),e.setRegister(o,(s.offset||0)+i.length);const a={forloop:new Ip(i.length,this.collection.getText(),this.variable)};e.push(a);for(const l of i){if(a[this.variable]=l,yield r.renderTemplates(this.templates,e,n),n.break){n.break=!1;break}n.continue=!1,a.forloop.next()}e.pop()}}function HR(t){return[...t].reverse()}function WR(t,e){return t.slice(e)}function KR(t,e){return t.slice(0,e)}class JR extends Oe{constructor(e,n,r,i){for(super(e,n,r),this.templates=[],this.variable=this.readVariableName();n.length;){const o=n.shift();if(bi(o)&&o.name==="endcapture")return;this.templates.push(i.parseToken(o,n))}throw new Error(`tag ${e.getText()} not closed`)}*render(e){const n=yield this.liquid.renderer.renderTemplates(this.templates,e);e.bottom()[this.variable]=n}readVariableName(){const e=this.tokenizer.readIdentifier().content;if(e)return e;const n=this.tokenizer.readQuoted();if(n)return Kw(n);throw this.tokenizer.error("invalid capture name")}}class GR extends Oe{constructor(e,n,r,i){super(e,n,r),this.branches=[],this.elseTemplates=[],this.value=new en(this.tokenizer.readFilteredValue(),this.liquid),this.elseTemplates=[];let o=[],s=0;const a=i.parseStream(n).on("tag:when",l=>{if(s>0)return;o=[];const u=[];for(;!l.tokenizer.end();)u.push(l.tokenizer.readValueOrThrow()),l.tokenizer.skipBlank(),l.tokenizer.peek()===","?l.tokenizer.readTo(","):l.tokenizer.readTo("or");this.branches.push({values:u,templates:o})}).on("tag:else",()=>{s++,o=this.elseTemplates}).on("tag:endcase",()=>a.stop()).on("template",l=>{(o!==this.elseTemplates||s===1)&&o.push(l)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});a.start()}*render(e,n){const r=this.liquid.renderer,i=Y(yield this.value.value(e,e.opts.lenientIf));let o=!1;for(const s of this.branches)for(const a of s.values){const l=yield De(a,e,e.opts.lenientIf);if(gi(i,l)){yield r.renderTemplates(s.templates,e,n),o=!0;break}}o||(yield r.renderTemplates(this.elseTemplates,e,n))}}class YR extends Oe{constructor(e,n,r){for(super(e,n,r);n.length;){const i=n.shift();if(bi(i)&&i.name==="endcomment")return}throw new Error(`tag ${e.getText()} not closed`)}render(){}}class XR extends Oe{constructor(e,n,r,i){super(e,n,r);const o=this.tokenizer;for(this.file=qp(o,this.liquid,i),this.currentFile=e.file;!o.end();){o.skipBlank();const s=o.p,a=o.readIdentifier();if((a.content==="with"||a.content==="for")&&(o.skipBlank(),o.peek()!==":")){const l=o.readValue();if(l){const u=o.p,c=o.readIdentifier();let f;c.content==="as"?f=o.readIdentifier():o.p=u,this[a.content]={value:l,alias:f&&f.content},o.skipBlank(),o.peek()===","&&o.advance();continue}}o.p=s;break}this.hash=new Po(o.remaining(),r.options.keyValueSeparator)}*render(e,n){const{liquid:r,hash:i}=this,o=yield Vp(this.file,e,r);lt(o,()=>`illegal file path "${o}"`);const s=e.spawn(),a=s.bottom();if(Gu(a,yield i.render(e)),this.with){const{value:l,alias:u}=this.with;a[u||o]=yield De(l,e)}if(this.for){const{value:l,alias:u}=this.for,c=Np(yield De(l,e));a.forloop=new Ip(c.length,l.getText(),u);for(const f of c){a[u]=f;const d=yield r._parsePartialFile(o,s.sync,this.currentFile);yield r.renderer.renderTemplates(d,s,n),a.forloop.next()}}else{const l=yield r._parsePartialFile(o,s.sync,this.currentFile);yield r.renderer.renderTemplates(l,s,n)}}}function qp(t,e,n){if(e.options.dynamicPartials){const o=t.readValue();if(t.assert(o,"illegal file path"),o.getText()==="none")return;if(vD(o)){const s=n.parse(Kw(o));return ak(s)}return o}const r=[...t.readFileNameTemplate(e.options)],i=ak(n.parseTokens(r));return i==="none"?void 0:i}function ak(t){return t.length===1&&jp(t[0].token)?t[0].token.getContent():t}function*Vp(t,e,n){return typeof t=="string"?t:Array.isArray(t)?n.renderer.renderTemplates(t,e):yield De(t,e)}class ZR extends Oe{constructor(e,n,r,i){super(e,n,r);const{tokenizer:o}=e;this.file=qp(o,this.liquid,i),this.currentFile=e.file;const s=o.p;o.readIdentifier().content==="with"?(o.skipBlank(),o.peek()!==":"?this.withVar=o.readValue():o.p=s):o.p=s,this.hash=new Po(o.remaining(),r.options.jekyllInclude||r.options.keyValueSeparator)}*render(e,n){const{liquid:r,hash:i,withVar:o}=this,{renderer:s}=r,a=yield Vp(this.file,e,r);lt(a,()=>`illegal file path "${a}"`);const l=e.saveRegister("blocks","blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",ki.OUTPUT);const u=yield i.render(e);o&&(u[a]=yield De(o,e));const c=yield r._parsePartialFile(a,e.sync,this.currentFile);e.push(e.opts.jekyllInclude?{include:u}:u),yield s.renderTemplates(c,e,n),e.pop(),e.restoreRegister(l)}}class eP extends Oe{constructor(e,n,r){super(e,n,r),this.variable=this.tokenizer.readIdentifier().content}render(e,n){const r=e.environments;_p(r[this.variable])||(r[this.variable]=0),n.write(F(--r[this.variable]))}}class tP extends Oe{constructor(e,n,r){super(e,n,r),this.candidates=[];const i=this.tokenizer.readValue();for(this.tokenizer.skipBlank(),i&&(this.tokenizer.peek()===":"?(this.group=i,this.tokenizer.advance()):this.candidates.push(i));!this.tokenizer.end();){const o=this.tokenizer.readValue();o&&this.candidates.push(o),this.tokenizer.readTo(",")}this.tokenizer.assert(this.candidates.length,()=>`empty candidates: "${e.getText()}"`)}*render(e,n){const r=`cycle:${yield De(this.group,e)}:`+this.candidates.join(","),i=e.getRegister("cycle");let o=i[r];o===void 0&&(o=i[r]=0);const s=this.candidates[o];return o=(o+1)%this.candidates.length,i[r]=o,yield De(s,e)}}class nP extends Oe{constructor(e,n,r,i){super(e,n,r),this.branches=[];let o=[];i.parseStream(n).on("start",()=>this.branches.push({value:new en(e.args,this.liquid),templates:o=[]})).on("tag:elsif",s=>{lt(!this.elseTemplates,"unexpected elsif after else"),this.branches.push({value:new en(s.args,this.liquid),templates:o=[]})}).on("tag:else",s=>{Ku(s.args),lt(!this.elseTemplates,"duplicated else"),o=this.elseTemplates=[]}).on("tag:endif",function(s){Ku(s.args),this.stop()}).on("template",s=>o.push(s)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()}*render(e,n){const r=this.liquid.renderer;for(const{value:i,templates:o}of this.branches){const s=yield i.value(e,e.opts.lenientIf);if(mi(s,e)){yield r.renderTemplates(o,e,n);return}}yield r.renderTemplates(this.elseTemplates||[],e,n)}}class rP extends Oe{constructor(e,n,r){super(e,n,r),this.variable=this.tokenizer.readIdentifier().content}render(e,n){const r=e.environments;_p(r[this.variable])||(r[this.variable]=0);const i=r[this.variable];r[this.variable]++,n.write(F(i))}}class iP extends Oe{constructor(e,n,r,i){super(e,n,r),this.file=qp(this.tokenizer,this.liquid,i),this.currentFile=e.file,this.args=new Po(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=i.parseTokens(n)}*render(e,n){const{liquid:r,args:i,file:o}=this,{renderer:s}=r;if(o===void 0){e.setRegister("blockMode",ki.OUTPUT),yield s.renderTemplates(this.templates,e,n);return}const a=yield Vp(this.file,e,r);lt(a,()=>`illegal file path "${a}"`);const l=yield r._parseLayoutFile(a,e.sync,this.currentFile);e.setRegister("blockMode",ki.STORE);const u=yield s.renderTemplates(this.templates,e),c=e.getRegister("blocks");c[""]===void 0&&(c[""]=(f,d)=>d.write(u)),e.setRegister("blockMode",ki.OUTPUT),e.push(yield i.render(e)),yield s.renderTemplates(l,e,n),e.pop()}}class oP extends Oe{constructor(e,n,r,i){super(e,n,r),this.templates=[];const o=/\w+/.exec(e.args);for(this.block=o?o[0]:"";n.length;){const s=n.shift();if(bi(s)&&s.name==="endblock")return;const a=i.parseToken(s,n);this.templates.push(a)}throw new Error(`tag ${e.getText()} not closed`)}*render(e,n){const r=this.getBlockRender(e);e.getRegister("blockMode")===ki.STORE?e.getRegister("blocks")[this.block]=r:yield r(new _w,n)}getBlockRender(e){const{liquid:n,templates:r}=this,i=e.getRegister("blocks")[this.block],o=function*(s,a){e.push({block:s}),yield n.renderer.renderTemplates(r,e,a),e.pop()};return i?(s,a)=>i(new _w(()=>o(s,a)),a):o}}class sP extends Oe{constructor(e,n,r){for(super(e,n,r),this.tokens=[];n.length;){const i=n.shift();if(bi(i)&&i.name==="endraw")return;this.tokens.push(i)}throw new Error(`tag ${e.getText()} not closed`)}render(){return this.tokens.map(e=>e.getText()).join("")}}class aP extends Ip{constructor(e,n,r,i){super(e,r,i),this.length=e,this.cols=n}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return this.col0()===0}col_last(){return this.col()===this.cols}}class lP extends Oe{constructor(e,n,r,i){super(e,n,r);const o=this.tokenizer.readIdentifier();this.tokenizer.skipBlank();const s=this.tokenizer.readIdentifier(),a=this.tokenizer.readValue();if(s.content!=="in"||!a)throw new Error(`illegal tag: ${e.getText()}`);this.variable=o.content,this.collection=a,this.args=new Po(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=[];let l;const u=i.parseStream(n).on("start",()=>l=this.templates).on("tag:endtablerow",()=>u.stop()).on("template",c=>l.push(c)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});u.start()}*render(e,n){let r=Np(yield De(this.collection,e));const i=yield this.args.render(e),o=i.offset||0,s=i.limit===void 0?r.length:i.limit;r=r.slice(o,o+s);const a=i.cols||r.length,l=this.liquid.renderer,u=new aP(r.length,a,this.collection.getText(),this.variable),c={tablerowloop:u};e.push(c);for(let f=0;f<r.length;f++,u.next())c[this.variable]=r[f],u.col0()===0&&(u.row()!==1&&n.write("</tr>"),n.write(`<tr class="row${u.row()}">`)),n.write(`<td class="col${u.col()}">`),yield l.renderTemplates(this.templates,e,n),n.write("</td>");r.length&&n.write("</tr>"),e.pop()}}class uP extends Oe{constructor(e,n,r,i){super(e,n,r),this.branches=[],this.elseTemplates=[];let o=[],s=0;i.parseStream(n).on("start",()=>this.branches.push({value:new en(e.args,this.liquid),test:Xu,templates:o=[]})).on("tag:elsif",a=>{if(s>0){o=[];return}this.branches.push({value:new en(a.args,this.liquid),test:mi,templates:o=[]})}).on("tag:else",()=>{s++,o=this.elseTemplates}).on("tag:endunless",function(){this.stop()}).on("template",a=>{(o!==this.elseTemplates||s===1)&&o.push(a)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()}*render(e,n){const r=this.liquid.renderer;for(const{value:i,test:o,templates:s}of this.branches){const a=yield i.value(e,e.opts.lenientIf);if(o(a,e)){yield r.renderTemplates(s,e,n);return}}yield r.renderTemplates(this.elseTemplates,e,n)}}class cP extends Oe{render(e,n){n.break=!0}}class fP extends Oe{render(e,n){n.continue=!0}}class dP extends Oe{constructor(e,n,r){super(e,n,r),this.tokenizer.skipBlank(),this.tokenizer.end()||(this.value=new en(this.tokenizer.readFilteredValue(),this.liquid))}*render(e,n){if(!this.value)return;const r=yield this.value.value(e,!1);n.write(r)}}class hP extends Oe{constructor(e,n,r,i){super(e,n,r);const o=this.tokenizer.readLiquidTagTokens(this.liquid.options);this.templates=i.parseTokens(o)}*render(e,n){yield this.liquid.renderer.renderTemplates(this.templates,e,n)}}class pP extends Oe{constructor(e,n,r){if(super(e,n,r),e.args.search(/\n\s*[^#\s]/g)!==-1)throw new Error("every line of an inline comment must start with a '#' character")}render(){}}const mP={assign:UR,for:QR,capture:JR,case:GR,comment:YR,include:ZR,render:XR,decrement:eP,increment:rP,cycle:tP,if:nP,layout:iP,block:oP,raw:sP,tablerow:lP,unless:uP,break:cP,continue:fP,echo:dP,liquid:hP,"#":pP};class Bp{constructor(e={}){this.renderer=new DA,this.filters={},this.tags={},this.options=oD(e),this.parser=new vi(this),bw(mP,(n,r)=>this.registerTag(r,n)),bw(BR,(n,r)=>this.registerFilter(r,n))}parse(e,n){return new vi(this).parse(e,n)}_render(e,n,r){const i=n instanceof wi?n:new wi(n,this.options,r);return this.renderer.renderTemplates(e,i)}render(e,n,r){return mn(this,void 0,void 0,function*(){return Mr(this._render(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}renderSync(e,n,r){return Ir(this._render(e,n,Object.assign(Object.assign({},r),{sync:!0})))}renderToNodeStream(e,n,r={}){const i=new wi(n,this.options,r);return this.renderer.renderTemplatesToNodeStream(e,i)}_parseAndRender(e,n,r){const i=this.parse(e);return this._render(i,n,r)}parseAndRender(e,n,r){return mn(this,void 0,void 0,function*(){return Mr(this._parseAndRender(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}parseAndRenderSync(e,n,r){return Ir(this._parseAndRender(e,n,Object.assign(Object.assign({},r),{sync:!0})))}_parsePartialFile(e,n,r){return new vi(this).parseFile(e,n,yi.Partials,r)}_parseLayoutFile(e,n,r){return new vi(this).parseFile(e,n,yi.Layouts,r)}_parseFile(e,n,r,i){return new vi(this).parseFile(e,n,r,i)}parseFile(e,n){return mn(this,void 0,void 0,function*(){return Mr(new vi(this).parseFile(e,!1,n))})}parseFileSync(e,n){return Ir(new vi(this).parseFile(e,!0,n))}*_renderFile(e,n,r){const i=yield this._parseFile(e,r.sync,r.lookupType);return yield this._render(i,n,r)}renderFile(e,n,r){return mn(this,void 0,void 0,function*(){return Mr(this._renderFile(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}renderFileSync(e,n,r){return Ir(this._renderFile(e,n,Object.assign(Object.assign({},r),{sync:!0})))}renderFileToNodeStream(e,n,r){return mn(this,void 0,void 0,function*(){const i=yield this.parseFile(e);return this.renderToNodeStream(i,n,r)})}_evalValue(e,n){const r=new en(e,this),i=n instanceof wi?n:new wi(n,this.options);return r.value(i)}evalValue(e,n){return mn(this,void 0,void 0,function*(){return Mr(this._evalValue(e,n))})}evalValueSync(e,n){return Ir(this._evalValue(e,n))}registerFilter(e,n){this.filters[e]=n}registerTag(e,n){this.tags[e]=Fe(n)?n:fD(n)}plugin(e){return e.call(this,Bp)}express(){const e=this;let n=!0;return function(r,i,o){if(n){n=!1;const s=ec(this.root);e.options.root.unshift(...s),e.options.layouts.unshift(...s),e.options.partials.unshift(...s)}e.renderFile(r,i).then(s=>o(null,s),o)}}}function et(t){this.content=t}et.prototype={constructor:et,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new et(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new et(n)},addToStart:function(t,e){return new et([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new et(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new et(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=et.from(t),t.size?new et(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=et.from(t),t.size?new et(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=et.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},et.from=function(t){if(t instanceof et)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new et(e)};function lk(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=lk(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function uk(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let u=0,c=Math.min(s.text.length,a.text.length);for(;u<c&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let u=uk(s.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class A{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new A(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new A(r,i)}cutByIndex(e,n){return e==n?A.empty:e==0&&n==this.content.length?this:new A(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new A(i,o)}addToStart(e){return new A([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new A(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return lk(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return uk(this,e,n,r)}findIndex(e,n=-1){if(e==0)return tc(0,e);if(e==this.size)return tc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?tc(r+1,s):tc(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return A.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new A(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return A.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new A(n||e,r)}static from(e){if(!e)return A.empty;if(e instanceof A)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new A([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}A.empty=new A([],0);const Up={index:0,offset:0};function tc(t,e){return Up.index=t,Up.offset=e,Up}function nc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!nc(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!nc(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let xe=class qm{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&nc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return qm.none;if(e instanceof qm)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};xe.none=[];class rc extends Error{}class V{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=fk(this.content,e+this.openStart,n);return r&&new V(r,this.openStart,this.openEnd)}removeBetween(e,n){return new V(ck(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return V.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new V(A.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new V(e,r,i)}}V.empty=new V(A.empty,0,0);function ck(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(ck(o.content,e-i-1,n-i-1)))}function fk(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=fk(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function gP(t,e,n){if(n.openStart>t.depth)throw new rc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new rc("Inconsistent open depths");return dk(t,e,n,0)}function dk(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=dk(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Si(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=yP(n,t);return Si(o,pk(t,s,a,e,r))}else return Si(o,ic(t,e,r))}function hk(t,e){if(!e.type.compatibleContent(t.type))throw new rc("Cannot join "+e.type.name+" onto "+t.type.name)}function Qp(t,e,n){let r=t.node(n);return hk(r,e.node(n)),r}function xi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function pa(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(xi(t.nodeAfter,r),o++));for(let a=o;a<s;a++)xi(i.child(a),r);e&&e.depth==n&&e.textOffset&&xi(e.nodeBefore,r)}function Si(t,e){return t.type.checkContent(e),t.copy(e)}function pk(t,e,n,r,i){let o=t.depth>i&&Qp(t,e,i+1),s=r.depth>i&&Qp(n,r,i+1),a=[];return pa(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(hk(o,s),xi(Si(o,pk(t,e,n,r,i+1)),a)):(o&&xi(Si(o,ic(t,e,i+1)),a),pa(e,n,i,a),s&&xi(Si(s,ic(n,r,i+1)),a)),pa(r,null,i,a),new A(a)}function ic(t,e,n){let r=[];if(pa(null,t,n,r),t.depth>n){let i=Qp(t,e,n+1);xi(Si(i,ic(t,e,n+1)),r)}return pa(e,null,n,r),new A(r)}function yP(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(A.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class ma{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return xe.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new oc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(r.push(s,a,i+l),!u||(s=s.child(a),s.isText))break;o=u-1,i+=l+1}return new ma(n,r,o)}static resolveCached(e,n){let r=mk.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else mk.set(e,r=new vP);let i=r.elts[r.i]=ma.resolve(e,n);return r.i=(r.i+1)%bP,i}}class vP{constructor(){this.elts=[],this.i=0}}const bP=12,mk=new WeakMap;class oc{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const wP=Object.create(null);let Ei=class Vm{constructor(e,n,r,i=xe.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||A.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&nc(this.attrs,n||e.defaultAttrs||wP)&&xe.sameSet(this.marks,r||xe.none)}copy(e=null){return e==this.content?this:new Vm(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Vm(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return V.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),l=i.node(s).content.cut(i.pos-a,o.pos-a);return new V(l,i.depth-s,o.depth-s)}replace(e,n,r){return gP(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ma.resolveCached(this,e)}resolveNoCache(e){return ma.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),gk(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=A.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=xe.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!xe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=A.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Ei.prototype.text=void 0;class sc extends Ei{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):gk(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new sc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new sc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function gk(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ti{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new kP(e,n);if(r.next==null)return Ti.empty;let i=yk(r);r.next&&r.err("Unexpected trailing text");let o=NP(CP(i));return _P(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return A.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,a.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Ti.empty=new Ti(!0);class kP{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function yk(t){let e=[];do e.push(xP(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function xP(t){let e=[];do e.push(SP(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function SP(t){let e=OP(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=EP(t,e);else break;return e}function vk(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function EP(t,e){let n=vk(t),r=n;return t.eat(",")&&(t.next!="}"?r=vk(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function TP(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function OP(t){if(t.eat("(")){let e=yk(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=TP(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function CP(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let u={term:l,to:a};return e[s].push(u),u}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;i(u,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,l),c),l=c}if(s.max==-1)i(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let c=n();r(l,c),i(o(s.expr,l),c),l=c}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function bk(t,e){return e-t}function wk(t,e){let n=[];return r(e),n.sort(bk);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function NP(t){let e=Object.create(null);return n(wk(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);wk(t,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Ti(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(bk);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function _P(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kk(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function xk(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Sk(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function Ek(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new IP(t,r,e[r]);return n}let Tk=class mS{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Ek(e,r.attrs),this.defaultAttrs=kk(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ti.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:xk(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ei(this,this.computeAttrs(e),A.from(n),xe.setFrom(r))}createChecked(e=null,n,r){return n=A.from(n),this.checkContent(n),new Ei(this,this.computeAttrs(e),n,xe.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=A.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(A.empty,!0);return o?new Ei(this,e,n.append(o),xe.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Sk(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:xe.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new mS(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function MP(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class IP{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?MP(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Hp{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Ek(e,i.attrs),this.excluded=null;let o=kk(this.attrs);this.instance=o?new xe(this,o):null}create(e=null){return!e&&this.instance?this.instance:new xe(this,xk(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Hp(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Sk(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Ok{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=et.from(e.nodes),n.marks=et.from(e.marks||{}),this.nodes=Tk.compile(this.spec.nodes,this),this.marks=Hp.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Ti.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?Ck(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Ck(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Tk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new sc(r,r.defaultAttrs,e,xe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Ei.fromJSON(this,e)}markFromJSON(e){return xe.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Ck(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function AP(t){return t.tag!=null}function DP(t){return t.style!=null}class Oi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(AP(i))this.tags.push(i);else if(DP(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new Ik(this,n,!1);return r.addAll(e,xe.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Ik(this,n,!0);return r.addAll(e,xe.none,n.from,n.to),V.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(LP(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Ak(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Ak(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Oi(e,Oi.schemaRules(e)))}}const Nk={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},RP={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},_k={ol:!0,ul:!0},ac=1,lc=2,ga=4;function Mk(t,e,n){return e!=null?(e?ac:0)|(e==="full"?lc:0):t&&t.whitespace=="pre"?ac|lc:n&~ga}class uc{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=xe.none,this.match=o||(s&ga?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(A.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ac)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=A.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(A.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Nk.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Ik{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=Mk(null,n.preserveWhitespace,0)|(r?ga:0);i?o=new uc(i.type,i.attrs,xe.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new uc(null,null,xe.none,!0,null,s):o=new uc(e.schema.topNodeType,null,xe.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&lc||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&ac)i.options&lc?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),o;_k.hasOwnProperty(i)&&this.parser.normalizeLists&&PP(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:RP.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,u=this.needsBlock;if(Nk.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let c=s&&s.skip?n:this.readStyles(e,n);c&&this.addAll(e,c),a&&this.sync(l),this.needsBlock=u}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,s,a,s.consuming===!1?o:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=xe.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):Dk(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=Mk(e,o,s.options);s.options&ga&&s.content.length==0&&(a|=ga);let l=xe.none;return r=r.filter(u=>(s.type?s.type.allowsMarkType(u.type):Dk(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new uc(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function PP(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&_k.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function LP(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ak(t){let e={};for(let n in t)e[n]=t[n];return e}function Dk(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}class ya{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Wp(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=cc(Wp(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&cc(Wp(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return cc(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ya(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Rk(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Rk(e.marks)}}function Rk(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Wp(t){return t.document||window.document}const Pk=new WeakMap;function FP(t){let e=Pk.get(t);return e===void 0&&Pk.set(t,e=jP(t)),e}function jP(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function cc(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=FP(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let f in u)if(u[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),u[f]):l.setAttribute(f,u[f])}}for(let f=c;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:g}=cc(t,d,n,r);if(l.appendChild(h),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:l,contentDOM:a}}const Lk=65535,Fk=Math.pow(2,16);function zP(t,e){return t+e*Fk}function jk(t){return t&Lk}function $P(t){return(t-(t&Lk))/Fk}const zk=1,$k=2,fc=4,qk=8;class Kp{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&qk)>0}get deletedBefore(){return(this.delInfo&(zk|fc))>0}get deletedAfter(){return(this.delInfo&($k|fc))>0}get deletedAcross(){return(this.delInfo&fc)>0}}class $t{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&$t.empty)return $t.empty}recover(e){let n=0,r=jk(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+$P(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],c=this.ranges[a+s],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:n:n,h=l+i+(d<0?0:c);if(r)return h;let g=e==(n<0?l:f)?null:zP(a/3,e-l),v=e==l?$k:e==f?zk:fc;return(n<0?e!=l:e!=f)&&(v|=qk),new Kp(h,v,g)}i+=c-u}return r?e+i:new Kp(e+i,0,null)}touches(e,n){let r=0,i=jk(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(a,a+u,l,l+c),o+=c-u}}invert(){return new $t(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$t.empty:new $t(e<0?[0,-e,0]:[0,0,e])}}$t.empty=new $t([]);class va{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new va(this.maps,this.mirror,e,n)}copy(){return new va(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new va;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Kp(e,i,null)}}const Jp=Object.create(null);class ut{getMap(){return $t.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Jp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Jp)throw new RangeError("Duplicate use of step JSON ID "+e);return Jp[e]=n,n.prototype.jsonID=e,n}}class Re{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Re(e,null)}static fail(e){return new Re(null,e)}static fromReplace(e,n,r,i){try{return Re.ok(e.replace(n,r,i))}catch(o){if(o instanceof rc)return Re.fail(o.message);throw o}}}function Gp(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Gp(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return A.fromArray(r)}class Ci extends ut{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new V(Gp(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,o)}invert(){return new Ni(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ci(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ci&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ci(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ci(n.from,n.to,e.markFromJSON(n.mark))}}ut.jsonID("addMark",Ci);class Ni extends ut{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new V(Gp(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,r)}invert(){return new Ci(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ni(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ni&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ni(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ni(n.from,n.to,e.markFromJSON(n.mark))}}ut.jsonID("removeMark",Ni);class _i extends ut{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Re.fromReplace(e,this.pos,this.pos+1,new V(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new _i(this.pos,n.marks[i]);return new _i(this.pos,this.mark)}}return new ba(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _i(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _i(n.pos,e.markFromJSON(n.mark))}}ut.jsonID("addNodeMark",_i);class ba extends ut{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Re.fromReplace(e,this.pos,this.pos+1,new V(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new _i(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ba(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ba(n.pos,e.markFromJSON(n.mark))}}ut.jsonID("removeNodeMark",ba);class qt extends ut{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Yp(e,this.from,this.to)?Re.fail("Structure replace would overwrite content"):Re.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $t([this.from,this.to-this.from,this.slice.size])}invert(e){return new qt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new qt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof qt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?V.empty:new V(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new qt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?V.empty:new V(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new qt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qt(n.from,n.to,V.fromJSON(e,n.slice),!!n.structure)}}ut.jsonID("replace",qt);class Nt extends ut{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Yp(e,this.from,this.gapFrom)||Yp(e,this.gapTo,this.to)))return Re.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Re.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Re.fromReplace(e,this.from,this.to,r):Re.fail("Content does not fit in gap")}getMap(){return new $t([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Nt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Nt(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Nt(n.from,n.to,n.gapFrom,n.gapTo,V.fromJSON(e,n.slice),n.insert,!!n.structure)}}ut.jsonID("replaceAround",Nt);function Yp(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function qP(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Lo(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let r=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(i,o,e))return n;if(n==0||r.type.spec.isolating||!qP(r,i,o))break}return null}function Xp(t,e,n=null,r=t){let i=VP(t,e),o=i&&BP(r,e);return o?i.map(Vk).concat({type:e,attrs:n}).concat(o.map(Vk)):null}function Vk(t){return{type:t,attrs:null}}function VP(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function BP(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let l=r;a&&l<i;l++)a=a.matchType(n.child(l).type);return!a||!a.validEnd?null:s}function Fo(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),g=r&&r[c+1];g&&(h=h.replaceChild(0,g.type.create(g.attrs)));let v=r&&r[c]||f;if(!f.canReplace(d+1,f.childCount)||!v.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Dr(t,e){let n=t.resolve(e),r=n.index();return Bk(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function UP(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function Bk(t,e){return!!(t&&e&&!t.isLeaf&&UP(t,e))}function dc(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&Bk(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Uk(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function Zp(t,e,n=e,r=V.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return QP(i,o,r)?new qt(e,n,r):new HP(i,o,r).fit()}function QP(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class HP{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=A.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=A.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new V(o,s,a);return e>-1?new Nt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new qt(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=em(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,f=null;if(n==1&&(s?u.matchType(s.type)||(f=u.fillBefore(A.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:f};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=em(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new V(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=em(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new V(wa(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new V(wa(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)c.push(i.child(v));f=f.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let v=a.child(u),b=f.matchType(v.type);if(!b)break;u++,(u>1||l==0||v.content.size)&&(f=b,c.push(Qk(v.mark(d.allowedMarks(v.marks)),u==1?l:0,u==a.childCount?h:-1)))}let g=u==a.childCount;g||(h=-1),this.placed=ka(this.placed,n,A.from(c)),this.frontier[n].match=f,g&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=a;v<h;v++){let p=b.lastChild;this.frontier.push({type:p.type,match:p.contentMatchAt(p.childCount)}),b=p.content}this.unplaced=g?e==0?V.empty:new V(wa(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new V(wa(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!tm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=tm(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=tm(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ka(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ka(this.placed,this.depth,A.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(A.empty,!0);e.childCount&&(this.placed=ka(this.placed,this.frontier.length,e))}}function wa(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(wa(t.firstChild.content,e-1,n)))}function ka(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ka(t.lastChild.content,e-1,n)))}function em(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Qk(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Qk(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(A.empty,!0)))),t.copy(r)}function tm(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!WP(n,o.content,s)?a:null}function WP(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}class xa extends ut{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Re.fromReplace(e,this.pos,this.pos+1,new V(A.from(i),0,n.isLeaf?0:1))}getMap(){return $t.empty}invert(e){return new xa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xa(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new xa(n.pos,n.attr,n.value)}}ut.jsonID("attr",xa);class hc extends ut{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Re.ok(r)}getMap(){return $t.empty}invert(e){return new hc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hc(n.attr,n.value)}}ut.jsonID("docAttr",hc);let Sa=class extends Error{};Sa=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},Sa.prototype=Object.create(Error.prototype),Sa.prototype.constructor=Sa,Sa.prototype.name="TransformError";const nm=Object.create(null);class X{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new KP(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=V.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),a?V.empty:n),a==0&&Kk(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),u=l.map(s.pos),c=l.map(a.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),Kk(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new J(e):jo(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?jo(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):jo(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new yn(e.node(0))}static atStart(e){return jo(e,e,0,0,1)||new yn(e)}static atEnd(e){return jo(e,e,e.content.size,e.childCount,-1)||new yn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=nm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in nm)throw new RangeError("Duplicate use of selection JSON ID "+e);return nm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return J.between(this.$anchor,this.$head).getBookmark()}}X.prototype.visible=!0;class KP{constructor(e,n){this.$from=e,this.$to=n}}let Hk=!1;function Wk(t){!Hk&&!t.parent.inlineContent&&(Hk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class J extends X{constructor(e,n=e){Wk(e),Wk(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return X.near(r);let i=e.resolve(n.map(this.anchor));return new J(i.parent.inlineContent?i:r,r)}replace(e,n=V.empty){if(super.replace(e,n),n==V.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof J&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new pc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new J(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=X.findFrom(n,r,!0)||X.findFrom(n,-r,!0);if(o)n=o.$head;else return X.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(X.findFrom(e,-r,!0)||X.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new J(e,n)}}X.jsonID("text",J);class pc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new pc(e.map(this.anchor),e.map(this.head))}resolve(e){return J.between(e.resolve(this.anchor),e.resolve(this.head))}}class Q extends X{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?X.near(o):new Q(o)}content(){return new V(A.from(this.node),0,0)}eq(e){return e instanceof Q&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new rm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Q(e.resolve(n.anchor))}static create(e,n){return new Q(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Q.prototype.visible=!1,X.jsonID("node",Q);class rm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new pc(r,r):new rm(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Q.isSelectable(r)?new Q(n):X.near(n)}}class yn extends X{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=V.empty){if(n==V.empty){e.delete(0,e.doc.content.size);let r=X.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new yn(e)}map(e){return new yn(e)}eq(e){return e instanceof yn}getBookmark(){return JP}}X.jsonID("all",yn);const JP={map(){return this},resolve(t){return new yn(t)}};function jo(t,e,n,r,i,o=!1){if(e.inlineContent)return J.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&Q.isSelectable(a))return Q.create(t,n-(i<0?a.nodeSize:0))}else{let l=jo(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function Kk(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof qt||i instanceof Nt))return;let o=t.mapping.maps[r],s;o.forEach((a,l,u,c)=>{s==null&&(s=c)}),t.setSelection(X.near(t.doc.resolve(s),n))}function Jk(t,e){return!e||!t?t:t.bind(e)}class mc{constructor(e,n,r){this.name=e,this.init=Jk(n.init,r),this.apply=Jk(n.apply,r)}}new mc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new mc("selection",{init(t,e){return t.selection||X.atStart(e.doc)},apply(t){return t.selection}}),new mc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new mc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});function Gk(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Gk(i,e,{})),n[r]=i}return n}class _t{constructor(e){this.spec=e,this.props={},e.props&&Gk(e.props,this,this.props),this.key=e.key?e.key.key:Yk("plugin")}getState(e){return e[this.key]}}const im=Object.create(null);function Yk(t){return t in im?t+"$"+ ++im[t]:(im[t]=0,t+"$")}class An{constructor(e="key"){this.key=Yk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Mi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Xk=function(t,e,n,r){return n&&(Zk(t,e,n,r,-1)||Zk(t,e,n,r,1))},GP=/^(img|br|input|textarea|hr)$/i;function Zk(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:gc(t))){let o=t.parentNode;if(!o||o.nodeType!=1||om(t)||GP.test(t.nodeName)||t.contentEditable=="false")return!1;e=Mi(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?gc(t):0}else return!1}}function gc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function YP(t,e,n){for(let r=e==0,i=e==gc(t);r||i;){if(t==n)return!0;let o=Mi(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==gc(t)}}function om(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ex=function(t){return t.focusNode&&Xk(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function tx(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const Dn=typeof navigator<"u"?navigator:null,nx=typeof document<"u"?document:null,Rr=Dn&&Dn.userAgent||"",sm=/Edge\/(\d+)/.exec(Rr),rx=/MSIE \d/.exec(Rr),am=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Rr),Ea=!!(rx||am||sm),ix=rx?document.documentMode:am?+am[1]:sm?+sm[1]:0,yc=!Ea&&/gecko\/(\d+)/i.test(Rr);yc&&+(/Firefox\/(\d+)/.exec(Rr)||[0,0])[1];const lm=!Ea&&/Chrome\/(\d+)/.exec(Rr),Pr=!!lm,ox=lm?+lm[1]:0,Ii=!Ea&&!!Dn&&/Apple Computer/.test(Dn.vendor),um=Ii&&(/Mobile\/\w+/.test(Rr)||!!Dn&&Dn.maxTouchPoints>2),tn=um||(Dn?/Mac/.test(Dn.platform):!1),XP=Dn?/Win/.test(Dn.platform):!1,Ta=/Android \d/.test(Rr),cm=!!nx&&"webkitFontSmoothing"in nx.documentElement.style,ZP=cm?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function eL(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,u;if(ex(n)){for(l=s;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Q.isSelectable(f)&&i.parent&&!(f.isInline&&YP(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new Q(s==d?a:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=s,d=s;for(let h=0;h<n.rangeCount;h++){let g=n.getRangeAt(h);f=Math.min(f,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(f<0)return null;[l,s]=d==t.state.selection.anchor?[d,f]:[f,d],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let f=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;u=fx(t,c,a,f)}return u}function sx(t){return t.editable?t.hasFocus():iL(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function fm(t,e=!1){let n=t.state.selection;if(rL(t,n),!!sx(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Pr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Xk(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)nL(t);else{let{anchor:r,head:i}=n,o,s;ax&&!(n instanceof J)&&(n.$from.parent.inlineContent||(o=lx(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=lx(t,n.to))),t.docView.setSelection(r,i,t.root,e),ax&&(o&&ux(o),s&&ux(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&tL(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ax=Ii||Pr&&ox<63;function lx(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ii&&i&&i.contentEditable=="false")return dm(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return dm(i);if(o)return dm(o)}}function dm(t){return t.contentEditable="true",Ii&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ux(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function tL(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!sx(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function nL(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Mi(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ea&&ix<=11&&(r.disabled=!0,r.disabled=!1)}function rL(t,e){if(e instanceof Q){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(cx(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else cx(t)}function cx(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function fx(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||J.between(e,n,r)}function iL(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function hm(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&X.findFrom(o,e)}function Lr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function dx(t,e,n){let r=t.state.selection;if(r instanceof J)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Lr(t,new J(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=hm(t.state,e);return i&&i instanceof Q?Lr(t,i):!1}else if(!(tn&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Q.isSelectable(o)?Lr(t,new Q(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):cm?Lr(t,new J(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Q&&r.node.isInline)return Lr(t,new J(e>0?r.$to:r.$from));{let i=hm(t.state,e);return i?Lr(t,i):!1}}}function vc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Oa(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function zo(t,e){return e<0?oL(t):sL(t)}function oL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(yc&&n.nodeType==1&&r<vc(n)&&Oa(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Oa(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(hx(n))break;{let a=n.previousSibling;for(;a&&Oa(a,-1);)i=n.parentNode,o=Mi(a),a=a.previousSibling;if(a)n=a,r=vc(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?pm(t,n,r):i&&pm(t,i,o)}function sL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=vc(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Oa(a,1))o=n,s=++r;else break}else{if(hx(n))break;{let a=n.nextSibling;for(;a&&Oa(a,1);)o=a.parentNode,s=Mi(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=vc(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&pm(t,o,s)}function hx(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function aL(t,e){for(;t&&e==t.childNodes.length&&!om(t);)e=Mi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function lL(t,e){for(;t&&!e&&!om(t);)e=Mi(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function pm(t,e,n){if(e.nodeType!=3){let o,s;(s=aL(e,n))?(e=s,n=0):(o=lL(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(ex(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&fm(t)},50)}function px(t,e){let n=t.state.doc.resolve(e);if(!(Pr||XP)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function mx(t,e,n){let r=t.state.selection;if(r instanceof J&&!r.empty||n.indexOf("s")>-1||tn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=hm(t.state,e);if(s&&s instanceof Q)return Lr(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof yn?X.near(s,e):X.findFrom(s,e);return a?Lr(t,a):!1}return!1}function gx(t,e){if(!(t.state.selection instanceof J))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function yx(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function uL(t){if(!Ii||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;yx(t,r,"true"),setTimeout(()=>yx(t,r,"false"),20)}return!1}function cL(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function fL(t,e){let n=e.keyCode,r=cL(e);if(n==8||tn&&n==72&&r=="c")return gx(t,-1)||zo(t,-1);if(n==46&&!e.shiftKey||tn&&n==68&&r=="c")return gx(t,1)||zo(t,1);if(n==13||n==27)return!0;if(n==37||tn&&n==66&&r=="c"){let i=n==37?px(t,t.state.selection.from)=="ltr"?-1:1:-1;return dx(t,i,r)||zo(t,i)}else if(n==39||tn&&n==70&&r=="c"){let i=n==39?px(t,t.state.selection.from)=="ltr"?1:-1:1;return dx(t,i,r)||zo(t,i)}else{if(n==38||tn&&n==80&&r=="c")return mx(t,-1,r)||zo(t,-1);if(n==40||tn&&n==78&&r=="c")return uL(t)||mx(t,1,r)||zo(t,1);if(r==(tn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function vx(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||ya.fromSchema(t.state.schema),a=Ox(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=Ex[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let g=a.createElement(c[h]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function bx(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new V(A.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):V.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)a=f;else{let d=i.marks(),{schema:h}=t.state,g=ya.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=s.appendChild(document.createElement("p"));v&&b.appendChild(g.serializeNode(h.text(v,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),s=mL(n),cm&&gL(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Oi.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!dL.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)a=yL(Sx(a,+c[1],+c[2]),c[4]);else if(a=V.maxOpen(hL(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let h=a.content.firstChild;f<a.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=a.content.lastChild;d<a.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);a=Sx(a,f,d)}return t.someProp("transformPasted",f=>{a=f(a,t)}),a}const dL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hL(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(s=>{if(!o)return;let a=r.findWrapping(s.type),l;if(!a)return o=null;if(l=o.length&&i.length&&kx(a,i,s,o[o.length-1],0))o[o.length-1]=l;else{o.length&&(o[o.length-1]=xx(o[o.length-1],i.length));let u=wx(s,a);o.push(u),r=r.matchType(u.type),i=a}}),o)return A.from(o)}return t}function wx(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,A.from(t));return t}function kx(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=kx(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(A.from(wx(n,t,i+1))))}}function xx(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,xx(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(A.empty,!0);return t.copy(n.append(r))}function mm(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=mm(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(A.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function Sx(t,e,n){return e<t.openStart&&(t=new V(mm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new V(mm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Ex={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Tx=null;function Ox(){return Tx||(Tx=document.implementation.createHTMLDocument("title"))}function pL(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function mL(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Ox().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Ex[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=pL(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function gL(t){let e=t.querySelectorAll(Pr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function yL(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=A.from(l.create(r[a+1],i)),o++,s++}return new V(i,o,s)}const vn={},Vt={};function Fr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}Vt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Nx(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ta&&Pr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),um&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,tx(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||fL(t,n)?n.preventDefault():Fr(t,"key")},Vt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},Vt.keypress=(t,e)=>{let n=e;if(Nx(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||tn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof J)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function bc(t){return{left:t.clientX,top:t.clientY}}function vL(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function gm(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function $o(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function bL(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Q.isSelectable(r)?($o(t,new Q(n),"pointer"),!0):!1}function wL(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Q&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Q.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?($o(t,Q.create(t.state.doc,i),"pointer"),!0):!1}function kL(t,e,n,r,i){return gm(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?wL(t,n):bL(t,n))}function xL(t,e,n,r){return gm(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function SL(t,e,n,r){return gm(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||EL(t,n,r)}function EL(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?($o(t,J.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)$o(t,J.create(r,a+1,a+1+s.content.size),"pointer");else if(Q.isSelectable(s))$o(t,Q.create(r,a),"pointer");else continue;return!0}}function ym(t){return wc(t)}const Cx=tn?"metaKey":"ctrlKey";vn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=ym(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&vL(n,t.input.lastClick)&&!n[Cx]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(bc(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new TL(t,s,n,!!r)):(o=="doubleClick"?xL:SL)(t,s.pos,s.inside,n)?n.preventDefault():Fr(t,"pointer"))};class TL{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Cx],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Q&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&yc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fm(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(bc(e))),this.updateAllowDefault(e),this.allowDefault||!n?Fr(this.view,"pointer"):kL(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ii&&this.mightDrag&&!this.mightDrag.node.isAtom||Pr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?($o(this.view,X.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Fr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Fr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}vn.touchstart=t=>{t.input.lastTouch=Date.now(),ym(t),Fr(t,"pointer")},vn.touchmove=t=>{t.input.lastTouch=Date.now(),Fr(t,"pointer")},vn.contextmenu=t=>ym(t);function Nx(t,e){return t.composing?!0:Ii&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const OL=Ta?5e3:-1;Vt.compositionstart=Vt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof J&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),wc(t,!0),t.markCursor=null;else if(wc(t,!e.selection.empty),yc&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}_x(t,OL)},Vt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,_x(t,20))};function _x(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>wc(t),e))}function CL(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=NL());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function NL(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function wc(t,e=!1){if(!(Ta&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),CL(t),e||t.docView&&t.docView.dirty){let n=eL(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function _L(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ca=Ea&&ix<15||um&&ZP<604;vn.copy=Vt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Ca?null:n.clipboardData,s=r.content(),{dom:a,text:l}=vx(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):_L(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function ML(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function IL(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?vm(t,r.value,null,i,e):vm(t,r.textContent,r.innerHTML,i,e)},50)}function vm(t,e,n,r,i){let o=bx(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||V.empty)))return!0;if(!o)return!1;let s=ML(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Mx(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Vt.paste=(t,e)=>{let n=e;if(t.composing&&!Ta)return;let r=Ca?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&vm(t,Mx(r),r.getData("text/html"),i,n)?n.preventDefault():IL(t,n)};class AL{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Ix=tn?"altKey":"ctrlKey";vn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(bc(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Q?i.to-1:i.to))){if(r&&r.mightDrag)s=Q.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(s=Q.create(t.state.doc,f.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:u,slice:c}=vx(t,a);(!n.dataTransfer.files.length||!Pr||ox>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ca?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ca||n.dataTransfer.setData("text/plain",u),t.dragging=new AL(c,!n[Ix],s)},vn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},Vt.dragover=Vt.dragenter=(t,e)=>e.preventDefault(),Vt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(bc(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",g=>{s=g(s,t)}):s=bx(t,Mx(n.dataTransfer),Ca?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[Ix]);if(t.someProp("handleDrop",g=>g(t,n,s||V.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?Uk(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=t.state.tr;if(a){let{node:g}=r;g?g.replace(u):u.deleteSelection()}let c=u.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&Q.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Q(h));else{let g=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((v,b,p,m)=>g=m),u.setSelection(fx(t,h,u.doc.resolve(g)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))},vn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&fm(t)},20))},vn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},vn.beforeinput=(t,e)=>{if(Pr&&Ta&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,tx(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Vt)vn[t]=Vt[t];function Na(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class kc{constructor(e,n){this.toDOM=e,this.spec=n||Ai,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Rn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof kc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Na(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class jr{constructor(e,n){this.attrs=e,this.spec=n||Ai}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Rn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof jr&&Na(this.attrs,e.attrs)&&Na(this.spec,e.spec)}static is(e){return e.type instanceof jr}destroy(){}}class bm{constructor(e,n){this.attrs=e,this.spec=n||Ai}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Rn(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof bm&&Na(this.attrs,e.attrs)&&Na(this.spec,e.spec)}destroy(){}}class Rn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Rn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Rn(e,e,new kc(n,r))}static inline(e,n,r,i){return new Rn(e,n,new jr(r,i))}static node(e,n,r,i){return new Rn(e,n,new bm(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof jr}get widget(){return this.type instanceof kc}}const qo=[],Ai={};class He{constructor(e,n){this.local=e.length?e:qo,this.children=n.length?n:qo}static create(e,n){return n.length?xc(n,e,0,Ai):yt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==yt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Ai)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?DL(this.children,s||[],e,n,r,i,o):s?new He(s.sort(Ri),qo):yt}add(e,n){return n.length?this==yt?He.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let u=l+r,c;if(c=Dx(n,a,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,c,u+1):i.splice(o,0,l,l+a.nodeSize,xc(c,a,u+1,Ai)),o+=3}});let s=Ax(o?Rx(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new He(s.length?this.local.concat(s).sort(Ri):this.local,i||this.children)}remove(e){return e.length==0||this==yt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>a&&f.to<l&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,a+1);u!=yt?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new He(i,r):yt}forChild(e,n){if(this==yt)return this;if(n.isLeaf)return He.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof jr){let u=Math.max(o,l.from)-o,c=Math.min(s,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new He(i.sort(Ri),qo);return r?new Di([a,r]):a}return r||yt}eq(e){if(this==e)return!0;if(!(e instanceof He)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return wm(this.localsInner(e))}localsInner(e){if(this==yt)return qo;if(e.inlineContent||!this.local.some(jr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof jr||n.push(this.local[r]);return n}forEachSet(e){e(this)}}He.empty=new He([],[]),He.removeOverlap=wm;const yt=He.empty;class Di{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Ai));return Di.from(r)}forChild(e,n){if(n.isLeaf)return He.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=yt&&(o instanceof Di?r=r.concat(o.members):r.push(o))}return Di.from(r)}eq(e){if(!(e instanceof Di)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?wm(r?n:n.sort(Ri)):qo}static from(e){switch(e.length){case 0:return yt;case 1:return e[0];default:return new Di(e.every(n=>n instanceof He)?e:e.reduce((n,r)=>n.concat(r instanceof He?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function DL(t,e,n,r,i,o,s){let a=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,h,g,v)=>{let b=v-g-(h-d);for(let p=0;p<a.length;p+=3){let m=a[p+1];if(m<0||d>m+c-f)continue;let y=a[p]+c-f;h>=y?a[p+1]=d<=y?-2:-1:d>=c&&b&&(a[p]+=b,a[p+1]+=b)}f+=b}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(t[u]+o),f=c-i;if(f<0||f>=r.content.size){l=!0;continue}let d=n.map(t[u+1]+o,-1),h=d-i,{index:g,offset:v}=r.content.findIndex(f),b=r.maybeChild(g);if(b&&v==f&&v+b.nodeSize==h){let p=a[u+2].mapInner(n,b,c+1,t[u]+o+1,s);p!=yt?(a[u]=f,a[u+1]=h,a[u+2]=p):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=RL(a,t,e,n,i,o,s),c=xc(u,r,0,s);e=c.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<a.length&&a[d]<h;)d+=3;a.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new He(e.sort(Ri),a)}function Ax(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Rn(i.from+e,i.to+e,i.type))}return n}function RL(t,e,n,r,i,o,s){function a(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function Dx(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function Rx(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function xc(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let u=Dx(t,a,l+n);if(u){o=!0;let c=xc(u,a,n+l+1,r);c!=yt&&i.push(l,l+a.nodeSize,c)}});let s=Ax(o?Rx(t):t,-n).sort(Ri);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new He(s,i):yt}function Ri(t,e){return t.from-e.from||t.to-e.to}function wm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Px(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Px(e,i,r.copy(o.from,r.to)));break}}}return e}function Px(t,e,n){for(;e<t.length&&Ri(n,t[e])>0;)e++;t.splice(e,0,n)}for(var zr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Sc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},PL=typeof navigator<"u"&&/Mac/.test(navigator.platform),LL=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),tt=0;tt<10;tt++)zr[48+tt]=zr[96+tt]=String(tt);for(var tt=1;tt<=24;tt++)zr[tt+111]="F"+tt;for(var tt=65;tt<=90;tt++)zr[tt]=String.fromCharCode(tt+32),Sc[tt]=String.fromCharCode(tt);for(var km in zr)Sc.hasOwnProperty(km)||(Sc[km]=zr[km]);function FL(t){var e=PL&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||LL&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Sc:zr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const jL=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function zL(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))jL?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function $L(t){let e=Object.create(null);for(let n in t)e[zL(n)]=t[n];return e}function xm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function qL(t){return new _t({props:{handleKeyDown:Lx(t)}})}function Lx(t){let e=$L(t);return function(n,r){let i=FL(r),o,s=e[xm(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[xm(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=zr[r.keyCode])&&o!=i){let a=e[xm(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const VL=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Fx(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const BL=(t,e,n)=>{let r=Fx(t,n);if(!r)return!1;let i=Sm(r);if(!i){let s=r.blockRange(),a=s&&Lo(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(qx(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Vo(o,"end")||Q.isSelectable(o)))for(let s=r.depth;;s--){let a=Zp(t.doc,r.before(s),r.after(s),V.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Vo(o,"end")?X.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Q.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},UL=(t,e,n)=>{let r=Fx(t,n);if(!r)return!1;let i=Sm(r);return i?jx(t,i,e):!1},QL=(t,e,n)=>{let r=zx(t,n);if(!r)return!1;let i=Em(r);return i?jx(t,i,e):!1};function jx(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=Zp(t.doc,o,l,V.empty);if(!u||u.from!=o||u instanceof qt&&u.slice.size>=l-o)return!1;if(n){let c=t.tr.step(u);c.setSelection(J.create(c.doc,o)),n(c.scrollIntoView())}return!0}function Vo(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const HL=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Sm(r)}let s=o&&o.nodeBefore;return!s||!Q.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Q.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Sm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function zx(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const WL=(t,e,n)=>{let r=zx(t,n);if(!r)return!1;let i=Em(r);if(!i)return!1;let o=i.nodeAfter;if(qx(t,i,e,1))return!0;if(r.parent.content.size==0&&(Vo(o,"start")||Q.isSelectable(o))){let s=Zp(t.doc,r.before(),r.after(),V.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Vo(o,"start")?X.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Q.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},KL=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Em(r)}let s=o&&o.nodeAfter;return!s||!Q.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Q.create(t.doc,o.pos)).scrollIntoView()),!0)};function Em(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const JL=(t,e)=>{let n=t.selection,r=n instanceof Q,i;if(r){if(n.node.isTextblock||!Dr(t.doc,n.from))return!1;i=n.from}else if(i=dc(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(Q.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},GL=(t,e)=>{let n=t.selection,r;if(n instanceof Q){if(n.node.isTextblock||!Dr(t.doc,n.to))return!1;r=n.to}else if(r=dc(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},YL=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Lo(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},XL=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function $x(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const ZL=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=$x(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(X.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},eF=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof yn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=$x(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(J.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},tF=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Fo(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Lo(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},nF=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(Q.create(t.doc,i))),!0)};function rF(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Dr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function qx(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&rF(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,g=A.empty;for(let p=s.length-1;p>=0;p--)g=A.from(s[p].create(null,g));g=A.from(i.copy(g));let v=t.tr.step(new Nt(e.pos-1,h,e.pos,h,new V(g,1,0),s.length,!0)),b=v.doc.resolve(h+2*s.length);b.nodeAfter&&b.nodeAfter.type==i.type&&Dr(v.doc,b.pos)&&v.join(b.pos),n(v.scrollIntoView())}return!0}let c=o.type.spec.isolating||r>0&&l?null:X.findFrom(e,1),f=c&&c.$from.blockRange(c.$to),d=f&&Lo(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(u&&Vo(o,"start",!0)&&Vo(i,"end")){let h=i,g=[];for(;g.push(h),!h.isTextblock;)h=h.lastChild;let v=o,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(h.canReplace(h.childCount,h.childCount,v.content)){if(n){let p=A.empty;for(let y=g.length-1;y>=0;y--)p=A.from(g[y].copy(p));let m=t.tr.step(new Nt(e.pos-g.length,e.pos+o.nodeSize,e.pos+b,e.pos+o.nodeSize-b,new V(p,g.length,0),0,!0));n(m.scrollIntoView())}return!0}}return!1}function Vx(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(J.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const iF=Vx(-1),oF=Vx(1);function sF(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&Xp(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Bx(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=n.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function aF(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);l=new oc(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new oc(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let u=Xp(l,t,e,s);return u?(r&&r(lF(n.tr,s,u,a,t).scrollIntoView()),!0):!1}}function lF(t,e,n,r,i){let o=A.empty;for(let c=n.length-1;c>=0;c--)o=A.from(n[c].type.create(n[c].attrs,o));t.step(new Nt(e.start-(r?2:0),e.end,e.start,e.end,new V(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let a=n.length-s,l=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&Fo(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return t}function uF(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?cF(e,n,t,o):fF(e,n,o):!0:!1}}function cF(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Nt(o-1,s,o,s,new V(A.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new oc(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Lo(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Dr(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function fF(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,g=n.endIndex-1,v=n.startIndex;g>v;g--)h-=i.child(g).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(a?0:1),c+1,s.content.append(l?A.empty:A.from(i))))return!1;let f=o.pos,d=f+s.nodeSize;return r.step(new Nt(f-(a?1:0),d+(l?1:0),f+1,d-1,new V((a?A.empty:A.from(i.copy(A.empty))).append(l?A.empty:A.from(i.copy(A.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function dF(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,c=A.from(u?t.create():null),f=new V(A.from(t.create(null,A.from(a.type.create(null,c)))),u?3:1,0),d=o.start,h=o.end;n(e.tr.step(new Nt(d-(u?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}function Ec(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Tm{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const c=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),c}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,u=e||o.tr,c=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...g)=>{const v=this.buildProps(u,n),b=h(...g)(v);return a.push(b),f}])),run:c};return f}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...u)=>l(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:Ec({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}function j(t,e,n){return t.config[e]===void 0&&t.parent?j(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?j(t.parent,e,n):null}):t.config[e]}function Tc(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Ux(t){const e=[],{nodeExtensions:n,markExtensions:r}=Tc(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=j(s,"addGlobalAttributes",a);l&&l().forEach(u=>{u.types.forEach(c=>{Object.entries(u.attributes).forEach(([f,d])=>{e.push({type:c,name:f,attribute:{...o,...d}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=j(s,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,f])=>{const d={...o,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:s.name,name:c,attribute:d})})}),e}function nt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function vt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const s=o?o.split(" "):[],a=r[i]?r[i].split(" "):[],l=s.filter(u=>!a.includes(u));r[i]=[...a,...l].join(" ")}else if(i==="style"){const s=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],a=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],l=new Map;a.forEach(u=>{const[c,f]=u.split(":").map(d=>d.trim());l.set(c,f)}),s.forEach(u=>{const[c,f]=u.split(":").map(d=>d.trim());l.set(c,f)}),r[i]=Array.from(l.entries()).map(([u,c])=>`${u}: ${c}`).join("; ")}else r[i]=o}),r},{})}function Om(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>vt(n,r),{})}function hF(t){return typeof t=="function"}function G(t,e=void 0,...n){return hF(t)?e?t.bind(e)(...n):t(...n):t}function pF(t={}){return Object.keys(t).length===0&&t.constructor===Object}function mF(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Qx(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):mF(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function Hx(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&pF(n)?!1:n!=null))}function Wx(t,e){var n;const r=Ux(t),{nodeExtensions:i,markExtensions:o}=Tc(t),s=(n=i.find(u=>j(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(u=>{const c=r.filter(p=>p.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((p,m)=>{const y=j(m,"extendNodeSchema",f);return{...p,...y?y(u):{}}},{}),h=Hx({...d,content:G(j(u,"content",f)),marks:G(j(u,"marks",f)),group:G(j(u,"group",f)),inline:G(j(u,"inline",f)),atom:G(j(u,"atom",f)),selectable:G(j(u,"selectable",f)),draggable:G(j(u,"draggable",f)),code:G(j(u,"code",f)),whitespace:G(j(u,"whitespace",f)),defining:G(j(u,"defining",f)),isolating:G(j(u,"isolating",f)),attrs:Object.fromEntries(c.map(p=>{var m;return[p.name,{default:(m=p==null?void 0:p.attribute)===null||m===void 0?void 0:m.default}]}))}),g=G(j(u,"parseHTML",f));g&&(h.parseDOM=g.map(p=>Qx(p,c)));const v=j(u,"renderHTML",f);v&&(h.toDOM=p=>v({node:p,HTMLAttributes:Om(p,c)}));const b=j(u,"renderText",f);return b&&(h.toText=b),[u.name,h]})),l=Object.fromEntries(o.map(u=>{const c=r.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((b,p)=>{const m=j(p,"extendMarkSchema",f);return{...b,...m?m(u):{}}},{}),h=Hx({...d,inclusive:G(j(u,"inclusive",f)),excludes:G(j(u,"excludes",f)),group:G(j(u,"group",f)),spanning:G(j(u,"spanning",f)),code:G(j(u,"code",f)),attrs:Object.fromEntries(c.map(b=>{var p;return[b.name,{default:(p=b==null?void 0:b.attribute)===null||p===void 0?void 0:p.default}]}))}),g=G(j(u,"parseHTML",f));g&&(h.parseDOM=g.map(b=>Qx(b,c)));const v=j(u,"renderHTML",f);return v&&(h.toDOM=b=>v({mark:b,HTMLAttributes:Om(b,c)})),[u.name,h]}));return new Ok({topNode:s,nodes:a,marks:l})}function Cm(t,e){return e.nodes[t]||e.marks[t]||null}function Kx(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const gF=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-o))}),n};function Nm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Oc{constructor(e){this.find=e.find,this.handler=e.handler}}const yF=(t,e)=>{if(Nm(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Cc(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1;const f=gF(u)+o;return s.forEach(d=>{if(c)return;const h=yF(f,d.find);if(!h)return;const g=l.state.tr,v=Ec({state:l.state,transaction:g}),b={from:r-(h[0].length-o.length),to:i},{commands:p,chain:m,can:y}=new Tm({editor:n,state:v});d.handler({state:v,range:b,match:h,commands:p,chain:m,can:y})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:r,to:i,text:o}),l.dispatch(g),c=!0)}),c}function vF(t){const{editor:e,rules:n}=t,r=new _t({state:{init(){return null},apply(i,o){const s=i.getMeta(r);if(s)return s;const a=i.getMeta("applyInputRules");return a&&setTimeout(()=>{const{from:l,text:u}=a,c=l+u.length;Cc({editor:e,from:l,to:c,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return Cc({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Cc({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Cc({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function bF(t){return Object.prototype.toString.call(t).slice(8,-1)}function Nc(t){return bF(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function _c(t,e){const n={...t};return Nc(t)&&Nc(e)&&Object.keys(e).forEach(r=>{Nc(e[r])&&Nc(t[r])?n[r]=_c(t[r],e[r]):n[r]=e[r]}),n}class $r{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=G(j(this,"addOptions",{name:this.name}))),this.storage=G(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new $r(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>_c(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new $r(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=G(j(n,"addOptions",{name:n.name})),n.storage=G(j(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!o.find(a=>(a==null?void 0:a.type.name)===n.name))return!1;const s=o.find(a=>(a==null?void 0:a.type.name)===n.name);return s&&r.removeStoredMark(s),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function wF(t){return typeof t=="number"}class kF{constructor(e){this.find=e.find,this.handler=e.handler}}const xF=(t,e,n)=>{if(Nm(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function SF(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:u,can:c}=new Tm({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(d,h)=>{if(!d.isTextblock||d.type.spec.code)return;const g=Math.max(r,h),v=Math.min(i,h+d.content.size),b=d.textBetween(g-h,v-h,void 0,"");xF(b,o.find,s).forEach(p=>{if(p.index===void 0)return;const m=g+p.index+1,y=m+p[0].length,w={from:n.tr.mapping.map(m),to:n.tr.mapping.map(y)},k=o.handler({state:n,range:w,match:p,commands:l,chain:u,can:c,pasteEvent:s,dropEvent:a});f.push(k)})}),f.every(d=>d!==null)}const EF=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function TF(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:c,to:f,rule:d,pasteEvt:h})=>{const g=u.tr,v=Ec({state:u,transaction:g});if(!(!SF({editor:e,state:v,from:Math.max(c-1,0),to:f.b-1,rule:d,pasteEvent:h,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(u=>new _t({view(c){const f=d=>{var h;r=!((h=c.dom.parentElement)===null||h===void 0)&&h.contains(d.target)?c.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(c,f)=>(o=r===c.dom.parentElement,a=f,!1),paste:(c,f)=>{var d;const h=(d=f.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return s=f,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(c,f,d)=>{const h=c[0],g=h.getMeta("uiEvent")==="paste"&&!i,v=h.getMeta("uiEvent")==="drop"&&!o,b=h.getMeta("applyPasteRules"),p=!!b;if(!g&&!v&&!p)return;if(p){const{from:w,text:k}=b,x=w+k.length,E=EF(k);return l({rule:u,state:d,from:w,to:{b:x},pasteEvt:E})}const m=f.doc.content.findDiffStart(d.doc.content),y=f.doc.content.findDiffEnd(d.doc.content);if(!(!wF(m)||!y||m===y.b))return l({rule:u,state:d,from:m,to:y,pasteEvt:s})}}))}function OF(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Bo{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Bo.resolve(e),this.schema=Wx(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Bo.sort(Bo.flatten(e)),r=OF(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=j(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((n,r)=>{const i=j(n,"priority")||100,o=j(r,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Cm(n.name,this.schema)},i=j(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Bo.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:Cm(s.name,this.schema)},l=[],u=j(s,"addKeyboardShortcuts",a);let c={};if(s.type==="mark"&&j(s,"exitable",a)&&(c.ArrowRight=()=>$r.handleExit({editor:e,mark:s})),u){const v=Object.fromEntries(Object.entries(u()).map(([b,p])=>[b,()=>p({editor:e})]));c={...c,...v}}const f=qL(c);l.push(f);const d=j(s,"addInputRules",a);Kx(s,e.options.enableInputRules)&&d&&r.push(...d());const h=j(s,"addPasteRules",a);Kx(s,e.options.enablePasteRules)&&h&&i.push(...h());const g=j(s,"addProseMirrorPlugins",a);if(g){const v=g();l.push(...v)}return l}).flat();return[vF({editor:e,rules:r}),...TF({editor:e,rules:i}),...o]}get attributes(){return Ux(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Tc(this.extensions);return Object.fromEntries(n.filter(r=>!!j(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:nt(r.name,this.schema)},s=j(r,"addNodeView",o);if(!s)return[];const a=(l,u,c,f,d)=>{const h=Om(l,i);return s()({node:l,view:u,getPos:c,decorations:f,innerDecorations:d,editor:e,extension:r,HTMLAttributes:h})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Cm(e.name,this.schema)};e.type==="mark"&&(!((n=G(j(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=j(e,"onBeforeCreate",r),o=j(e,"onCreate",r),s=j(e,"onUpdate",r),a=j(e,"onSelectionUpdate",r),l=j(e,"onTransaction",r),u=j(e,"onFocus",r),c=j(e,"onBlur",r),f=j(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),f&&this.editor.on("destroy",f)})}}class bt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=G(j(this,"addOptions",{name:this.name}))),this.storage=G(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>_c(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new bt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=G(j(n,"addOptions",{name:n.name})),n.storage=G(j(n,"addStorage",{name:n.name,options:n.options})),n}}function CF(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,i,(l,u,c,f)=>{var d;l.isBlock&&u>r&&(a+=o);const h=s==null?void 0:s[l.type.name];if(h)return c&&(a+=h({node:l,pos:u,parent:c,index:f,range:e})),!1;l.isText&&(a+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(r,u)-u,i-u))}),a}function NF(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}bt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new _t({key:new An("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=NF(n);return CF(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});const _F=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),MF=(t=!1)=>({commands:e})=>e.setContent("",t),IF=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=e,f=u.resolve(c.map(l)),d=u.resolve(c.map(l+a.nodeSize)),h=f.blockRange(d);if(!h)return;const g=Lo(h);if(a.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,v)}(g||g===0)&&e.lift(h,g)})}),!0},AF=t=>e=>t(e),DF=()=>({state:t,dispatch:e})=>eF(t,e),RF=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new J(r.doc.resolve(s-1))),!0},PF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const s=i.before(o),a=i.after(o);t.delete(s,a).scrollIntoView()}return!0}return!1},LF=t=>({tr:e,state:n,dispatch:r})=>{const i=nt(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const a=o.before(s),l=o.after(s);e.delete(a,l).scrollIntoView()}return!0}return!1},FF=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},jF=()=>({state:t,dispatch:e})=>VL(t,e),zF=()=>({commands:t})=>t.keyboardShortcut("Enter"),$F=()=>({state:t,dispatch:e})=>ZL(t,e);function Mc(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Nm(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function _m(t,e,n={}){return t.find(r=>r.type===e&&Mc(r.attrs,n))}function qF(t,e,n={}){return!!_m(t,e,n)}function Mm(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e))return;const i=_m([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(_m([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&qF([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function qr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const VF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=qr(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:u,to:c}=a;if(i){const f=Mm(l,o,e);if(f&&f.from<=u&&f.to>=c){const d=J.create(s,f.from,f.to);n.setSelection(d)}}return!0},BF=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Jx(t){return t instanceof J}function Pi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function UF(t,e=null){if(!e)return null;const n=X.atStart(t),r=X.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?J.create(t,Pi(0,i,o),Pi(t.content.size,i,o)):J.create(t,Pi(e,i,o),Pi(e,i,o))}function Im(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const QF=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Im()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!Jx(n.state.selection))return s(),!0;const a=UF(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},HF=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),WF=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Gx=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Gx(r)}return t};function Ic(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Gx(n)}function Ac(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return A.fromArray(t.map(s=>e.nodeFromJSON(s)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Ac("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const l=new Ok({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Oi.fromSchema(l).parseSlice(Ic(t),n.parseOptions):Oi.fromSchema(l).parse(Ic(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Oi.fromSchema(e);return n.slice?o.parseSlice(Ic(t),n.parseOptions).content:o.parse(Ic(t),n.parseOptions)}return Ac("",e,n)}function KF(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof qt||i instanceof Nt))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,u,c)=>{s===0&&(s=c)}),t.setSelection(X.near(t.doc.resolve(s),n))}const JF=t=>!("type"in t),GF=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=Ac(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(h){return o.emit("contentError",{editor:o,error:h,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,f=!0;if((JF(a)?a:[a]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,f=f?h.isBlock:!1}),l===u&&f){const{parent:h}=r.doc.resolve(l);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(l-=1,u+=1)}let d;c?(Array.isArray(e)?d=e.map(h=>h.text||"").join(""):typeof e=="object"&&e&&e.text?d=e.text:d=e,r.insertText(d,l,u)):(d=a,r.replaceWith(l,u,d)),n.updateSelection&&KF(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:d}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:d})}return!0},YF=()=>({state:t,dispatch:e})=>JL(t,e),XF=()=>({state:t,dispatch:e})=>GL(t,e),ZF=()=>({state:t,dispatch:e})=>BL(t,e),e2=()=>({state:t,dispatch:e})=>WL(t,e),t2=()=>({state:t,dispatch:e,tr:n})=>{try{const r=dc(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},n2=()=>({state:t,dispatch:e,tr:n})=>{try{const r=dc(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},r2=()=>({state:t,dispatch:e})=>UL(t,e),i2=()=>({state:t,dispatch:e})=>QL(t,e);function Yx(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function o2(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Im()||Yx()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const s2=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=o2(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function Am(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?nt(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(c,f)=>{if(c.isText)return;const d=Math.max(r,f),h=Math.min(i,f+c.nodeSize);a.push({node:c,from:d,to:h})});const l=i-r,u=a.filter(c=>s?s.name===c.node.type.name:!0).filter(c=>Mc(c.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((c,f)=>c+f.to-f.from,0)>=l}const a2=(t,e={})=>({state:n,dispatch:r})=>{const i=nt(t,n.schema);return Am(n,i,e)?YL(n,r):!1},l2=()=>({state:t,dispatch:e})=>tF(t,e),u2=t=>({state:e,dispatch:n})=>{const r=nt(t,e.schema);return uF(r)(e,n)},c2=()=>({state:t,dispatch:e})=>XL(t,e);function Xx(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Zx(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const f2=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=Xx(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=nt(t,r.schema)),a==="mark"&&(s=qr(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,Zx(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(f=>{s===f.type&&n.addMark(c,c+u.nodeSize,s.create(Zx(f.attrs,e)))})})}),!0):!1},d2=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),h2=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),p2=()=>({state:t,dispatch:e})=>HL(t,e),m2=()=>({state:t,dispatch:e})=>KL(t,e),g2=()=>({state:t,dispatch:e})=>nF(t,e),y2=()=>({state:t,dispatch:e})=>oF(t,e),v2=()=>({state:t,dispatch:e})=>iF(t,e);function b2(t,e,n={},r={}){return Ac(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const w2=(t,e=!1,n={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,u;const{doc:c}=o;if(n.preserveWhitespace!=="full"){const f=b2(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,c.content.size,f).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function k2(t,e){const n=qr(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function x2(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function S2(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Dm(t){return e=>S2(e.$from,t)}function E2(t,e){const n=ya.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function T2(t,e){const n=Bo.resolve(t);return Wx(n,e)}function O2(t,e){const n=T2(e),r=Ei.fromJSON(n,t);return E2(r.content,n)}function eS(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),s=Mm(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function Dc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function C2(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?qr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(c=>o?o.name===c.type.name:!0).find(c=>Mc(c.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:c,$to:f})=>{const d=c.pos,h=f.pos;t.doc.nodesBetween(d,h,(g,v)=>{if(!g.isText&&!g.marks.length)return;const b=Math.max(d,v),p=Math.min(h,v+g.nodeSize),m=p-b;s+=m,a.push(...g.marks.map(y=>({mark:y,from:b,to:p})))})}),s===0)return!1;const l=a.filter(c=>o?o.name===c.mark.type.name:!0).filter(c=>Mc(c.mark.attrs,n,{strict:!1})).reduce((c,f)=>c+f.to-f.from,0),u=a.filter(c=>o?c.mark.type!==o&&c.mark.type.excludes(o):!0).reduce((c,f)=>c+f.to-f.from,0);return(l>0?l+u:l)>=s}function tS(t,e){const{nodeExtensions:n}=Tc(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=G(j(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function nS(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(nS(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function N2(t){return t instanceof Q}function _2(t,e,n){var r;const{selection:i}=e;let o=null;if(Jx(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(c,f,d)=>{if(u)return!1;if(c.isInline){const h=!d||d.type.allowsMarkType(n),g=!!n.isInSet(c.marks)||!c.marks.some(v=>v.type.excludes(n));u=h&&g}return!u}),u})}const M2=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=qr(t,r.schema);if(i)if(s){const u=k2(r,l);n.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const c=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(c,f,(d,h)=>{const g=Math.max(h,c),v=Math.min(h+d.nodeSize,f);d.marks.find(b=>b.type===l)?d.marks.forEach(b=>{l===b.type&&n.addMark(g,v,l.create({...b.attrs,...e}))}):n.addMark(g,v,l.create(e))})});return _2(r,n,l)},I2=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),A2=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=nt(t,n.schema);return o.isTextblock?i().command(({commands:s})=>Bx(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>Bx(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},D2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Pi(t,0,r.content.size),o=Q.create(r,i);e.setSelection(o)}return!0},R2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=J.atStart(r).from,a=J.atEnd(r).to,l=Pi(i,s,a),u=Pi(o,s,a),c=J.create(r,l,u);e.setSelection(c)}return!0},P2=t=>({state:e,dispatch:n})=>{const r=nt(t,e.schema);return dF(r)(e,n)};function rS(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const L2=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,u=i.extensionManager.attributes,c=Dc(u,a.node().type.name,a.node().attrs);if(o instanceof Q&&o.node.isBlock)return!a.parentOffset||!Fo(s,a.pos)?!1:(r&&(t&&rS(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,d=a.depth===0?void 0:x2(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=f&&d?[{type:d,attrs:c}]:void 0,g=Fo(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!g&&Fo(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(g=!0,h=d?[{type:d,attrs:c}]:void 0),r){if(g&&(o instanceof J&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),d&&!f&&!a.parentOffset&&a.parent.type!==d)){const v=e.mapping.map(a.before()),b=e.doc.resolve(v);a.node(-1).canReplaceWith(b.index(),b.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}t&&rS(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},F2=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=nt(t,r.schema),{$from:l,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const f=l.node(-1);if(f.type!==a)return!1;const d=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let p=A.empty;const m=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-m;C>=l.depth-3;C-=1)p=A.from(l.node(C).copy(p));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...Dc(d,l.node().type.name,l.node().attrs),...e},k=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(w))||void 0;p=p.append(A.from(a.createAndFill(null,k)||void 0));const x=l.before(l.depth-(m-1));n.replace(x,l.after(-y),new V(p,4-m,0));let E=-1;n.doc.nodesBetween(x,n.doc.content.size,(C,B)=>{if(E>-1)return!1;C.isTextblock&&C.content.size===0&&(E=B+1)}),E>-1&&n.setSelection(J.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const h=u.pos===l.end()?f.contentMatchAt(0).defaultType:null,g={...Dc(d,f.type.name,f.attrs),...e},v={...Dc(d,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,u.pos);const b=h?[{type:a,attrs:g},{type:h,attrs:v}]:[{type:a,attrs:g}];if(!Fo(n.doc,l.pos,2))return!1;if(i){const{selection:p,storedMarks:m}=r,{splittableMarks:y}=o.extensionManager,w=m||p.$to.parentOffset&&p.$from.marks();if(n.split(l.pos,2,b).scrollIntoView(),!w||!i)return!0;const k=w.filter(x=>y.includes(x.type.name));n.ensureMarks(k)}return!0},Rm=(t,e)=>{const n=Dm(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Dr(t.doc,n.pos)&&t.join(n.pos),!0},Pm=(t,e)=>{const n=Dm(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Dr(t.doc,r)&&t.join(r),!0};var j2=Object.freeze({__proto__:null,blur:_F,clearContent:MF,clearNodes:IF,command:AF,createParagraphNear:DF,cut:RF,deleteCurrentNode:PF,deleteNode:LF,deleteRange:FF,deleteSelection:jF,enter:zF,exitCode:$F,extendMarkRange:VF,first:BF,focus:QF,forEach:HF,insertContent:WF,insertContentAt:GF,joinBackward:ZF,joinDown:XF,joinForward:e2,joinItemBackward:t2,joinItemForward:n2,joinTextblockBackward:r2,joinTextblockForward:i2,joinUp:YF,keyboardShortcut:s2,lift:a2,liftEmptyBlock:l2,liftListItem:u2,newlineInCode:c2,resetAttributes:f2,scrollIntoView:d2,selectAll:h2,selectNodeBackward:p2,selectNodeForward:m2,selectParentNode:g2,selectTextblockEnd:y2,selectTextblockStart:v2,setContent:w2,setMark:M2,setMeta:I2,setNode:A2,setNodeSelection:D2,setTextSelection:R2,sinkListItem:P2,splitBlock:L2,splitListItem:F2,toggleList:(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:u,can:c})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,h=nt(t,s.schema),g=nt(e,s.schema),{selection:v,storedMarks:b}=s,{$from:p,$to:m}=v,y=p.blockRange(m),w=b||v.$to.parentOffset&&v.$from.marks();if(!y)return!1;const k=Dm(x=>tS(x.type.name,f))(v);if(y.depth>=1&&k&&y.depth-k.depth<=1){if(k.node.type===h)return u.liftListItem(g);if(tS(k.node.type.name,f)&&h.validContent(k.node.content)&&a)return l().command(()=>(o.setNodeMarkup(k.pos,h),!0)).command(()=>Rm(o,h)).command(()=>Pm(o,h)).run()}return!n||!w||!a?l().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>Rm(o,h)).command(()=>Pm(o,h)).run():l().command(()=>{const x=c().wrapInList(h,r),E=w.filter(C=>d.includes(C.type.name));return o.ensureMarks(E),x?!0:u.clearNodes()}).wrapInList(h,r).command(()=>Rm(o,h)).command(()=>Pm(o,h)).run()},toggleMark:(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=qr(t,r.schema);return C2(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},toggleNode:(t,e,n={})=>({state:r,commands:i})=>{const o=nt(t,r.schema),s=nt(e,r.schema),a=Am(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...n})},toggleWrap:(t,e={})=>({state:n,commands:r})=>{const i=nt(t,n.schema);return Am(n,i,e)?r.lift(i):r.wrapIn(i,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},unsetMark:(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=qr(t,r.schema),{$from:u,empty:c,ranges:f}=a;if(!i)return!0;if(c&&s){let{from:d,to:h}=a;const g=(o=u.marks().find(b=>b.type===l))===null||o===void 0?void 0:o.attrs,v=Mm(u,l,g);v&&(d=v.from,h=v.to),n.removeMark(d,h,l)}else f.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,l)});return n.removeStoredMark(l),!0},updateAttributes:(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=Xx(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=nt(t,r.schema)),a==="mark"&&(s=qr(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;r.doc.nodesBetween(u,c,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(h=>{if(s===h.type){const g=Math.max(d,u),v=Math.min(d+f.nodeSize,c);n.addMark(g,v,s.create({...h.attrs,...e}))}})})}),!0):!1},wrapIn:(t,e={})=>({state:n,dispatch:r})=>{const i=nt(t,n.schema);return sF(i,e)(n,r)},wrapInList:(t,e={})=>({state:n,dispatch:r})=>{const i=nt(t,n.schema);return aF(i,e)(n,r)}});bt.create({name:"commands",addCommands(){return{...j2}}}),bt.create({name:"drop",addProseMirrorPlugins(){return[new _t({key:new An("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),bt.create({name:"editable",addProseMirrorPlugins(){return[new _t({key:new An("editable"),props:{editable:()=>this.editor.options.editable}})]}}),bt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new _t({key:new An("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),bt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:s})=>{const{selection:a,doc:l}=s,{empty:u,$anchor:c}=a,{pos:f,parent:d}=c,h=c.parent.isTextblock&&f>0?s.doc.resolve(f-1):c,g=h.parent.type.spec.isolating,v=c.pos-c.parentOffset,b=g&&h.parent.childCount===1?v===c.pos:X.atStart(l).from===f;return!u||!d.type.isTextblock||d.textContent.length||!b||b&&c.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Im()||Yx()?i:r},addProseMirrorPlugins(){return[new _t({key:new An("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(h=>h.docChanged)&&!e.doc.eq(n.doc),i=t.some(h=>h.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=X.atStart(e.doc).from,u=X.atEnd(e.doc).to;if(o||!(s===l&&a===u)||!nS(n.doc))return;const c=n.tr,f=Ec({state:n,transaction:c}),{commands:d}=new Tm({editor:this.editor,state:f});if(d.clearNodes(),!!c.steps.length)return c}})]}}),bt.create({name:"paste",addProseMirrorPlugins(){return[new _t({key:new An("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),bt.create({name:"tabindex",addProseMirrorPlugins(){return[new _t({key:new An("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});function Uo(t){return new Oc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=G(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),u=n.from+a.indexOf(s),c=u+s.length;if(eS(n.from,n.to,e.doc).filter(d=>d.mark.type.excluded.find(h=>h===t.type&&h!==d.mark.type)).filter(d=>d.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+l,u);const f=n.from+l+s.length;o.addMark(n.from+l,f,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function z2(t){return new Oc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=G(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=s+u;c>a?c=a:a=c+r[1].length;const f=r[0][r[0].length-1];o.insertText(f,s+r[0].length-1),o.replaceWith(c,a,l)}else if(r[0]){const u=t.type.isInline?s:s-1;o.insert(u,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function Lm(t){return new Oc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=G(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function _a(t){return new Oc({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=G(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),l=a&&Xp(a,t.type,o);if(!l)return null;if(s.wrap(a,l),t.keepMarks&&t.editor){const{selection:c,storedMarks:f}=e,{splittableMarks:d}=t.editor.extensionManager,h=f||c.$to.parentOffset&&c.$from.marks();if(h){const g=h.filter(v=>d.includes(v.type.name));s.ensureMarks(g)}}if(t.keepAttributes){const c=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(c,o).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Dr(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&s.join(n.from-1)}})}class Mt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=G(j(this,"addOptions",{name:this.name}))),this.storage=G(j(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Mt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>_c(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Mt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=G(j(n,"addOptions",{name:n.name})),n.storage=G(j(n,"addStorage",{name:n.name,options:n.options})),n}}function Qo(t){return new kF({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=G(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let u=n.to;if(a){const c=l.search(/\S/),f=n.from+l.indexOf(a),d=f+a.length;if(eS(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>f).length)return null;d<n.to&&s.delete(d,n.to),f>n.from&&s.delete(n.from+c,f),u=n.from+c+a.length,s.addMark(n.from+c,u,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}const $2=/^\s*>\s$/,q2=Mt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[_a({find:$2,type:this.type})]}}),V2=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,B2=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,U2=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Q2=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,H2=$r.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Uo({find:V2,type:this.type}),Uo({find:U2,type:this.type})]},addPasteRules(){return[Qo({find:B2,type:this.type}),Qo({find:Q2,type:this.type})]}}),W2="listItem",iS="textStyle",oS=/^\s*([-+*])\s$/,K2=Mt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(W2,this.editor.getAttributes(iS)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=_a({find:oS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=_a({find:oS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(iS),editor:this.editor})),[t]}}),J2=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,G2=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,Y2=$r.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Uo({find:J2,type:this.type})]},addPasteRules(){return[Qo({find:G2,type:this.type})]}}),X2=/^```([a-z]+)?[\s\n]$/,Z2=/^~~~([a-z]+)?[\s\n]$/,ej=Mt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;return[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(i=>i.startsWith(n)).map(i=>i.replace(n,""))[0]||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",vt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||i.parentOffset!==i.parent.nodeSize-2)return!1;const s=i.after();return s===void 0?!1:r.nodeAt(s)?t.commands.command(({tr:a})=>(a.setSelection(X.near(r.resolve(s))),!0)):t.commands.exitCode()}}},addInputRules(){return[Lm({find:X2,type:this.type,getAttributes:t=>({language:t[1]})}),Lm({find:Z2,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new _t({key:new An("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(J.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),tj=Mt.create({name:"doc",topNode:!0,content:"block+"});function nj(t={}){return new _t({view(e){return new rj(e,t)}})}class rj{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let c=u.getBoundingClientRect(),f=a?c.bottom:c.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Uk(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const ij=bt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[nj(this.options)]}});class Ce extends X{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Ce.valid(r)?new Ce(r):X.near(r)}content(){return V.empty}eq(e){return e instanceof Ce&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ce(e.resolve(n.pos))}getBookmark(){return new Fm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!oj(e)||!sj(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Ce.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(Ce.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Q.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(Ce.valid(a))return a}return null}}}Ce.prototype.visible=!1,Ce.findFrom=Ce.findGapCursorFrom,X.jsonID("gapcursor",Ce);class Fm{constructor(e){this.pos=e}map(e){return new Fm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Ce.valid(n)?new Ce(n):X.near(n)}}function oj(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function sj(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function aj(){return new _t({props:{decorations:fj,createSelectionBetween(t,e,n){return e.pos==n.pos&&Ce.valid(n)?new Ce(n):null},handleClick:uj,handleKeyDown:lj,handleDOMEvents:{beforeinput:cj}}})}const lj=Lx({ArrowLeft:Rc("horiz",-1),ArrowRight:Rc("horiz",1),ArrowUp:Rc("vert",-1),ArrowDown:Rc("vert",1)});function Rc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof J){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=Ce.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new Ce(u))),!0):!1}}function uj(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Ce.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Q.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ce(r))),!0)}function cj(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ce))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=A.empty;for(let s=r.length-1;s>=0;s--)i=A.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new V(i,0,0));return o.setSelection(J.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function fj(t){if(!(t.selection instanceof Ce))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",He.create(t.doc,[Rn.widget(t.selection.head,e,{key:"gapcursor"})])}const dj=bt.create({name:"gapCursor",addProseMirrorPlugins(){return[aj()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=G(j(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),hj=Mt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",vt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&s){const f=l.filter(d=>a.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),pj=Mt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,vt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Lm({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Pc=200,We=function(){};We.prototype.append=function(t){return t.length?(t=We.from(t),!this.length&&t||t.length<Pc&&this.leafAppend(t)||this.length<Pc&&t.leafPrepend(this)||this.appendInner(t)):this},We.prototype.prepend=function(t){return t.length?We.from(t).append(this):this},We.prototype.appendInner=function(t){return new mj(this,t)},We.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?We.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},We.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},We.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},We.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(i,o){return r.push(t(i,o))},e,n),r},We.from=function(t){return t instanceof We?t:t&&t.length?new sS(t):We.empty};var sS=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,o,s){for(var a=i;a<o;a++)if(r(this.values[a],s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){for(var a=i-1;a>=o;a--)if(r(this.values[a],s+a)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Pc)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Pc)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(We);We.empty=new sS([]);var mj=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,r,i,o){var s=this.left.length;if(r<s&&this.left.forEachInner(n,r,Math.min(i,s),o)===!1||i>s&&this.right.forEachInner(n,Math.max(r-s,0),Math.min(this.length,i)-s,o+s)===!1)return!1},e.prototype.forEachInvertedInner=function(n,r,i,o){var s=this.left.length;if(r>s&&this.right.forEachInvertedInner(n,r-s,Math.max(i,s)-s,o+s)===!1||i<s&&this.left.forEachInvertedInner(n,Math.min(r,s),i,o)===!1)return!1},e.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(n,r):n>=i?this.right.slice(n-i,r-i):this.left.slice(n,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new e(r,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(We);const gj=500;class bn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new Pn(f.map));let h=f.step.map(i.slice(o)),g;h&&s.maybeStep(h).doc&&(g=s.mapping.maps[s.mapping.maps.length-1],u.push(new Pn(g,void 0,void 0,u.length+c.length))),o--,g&&i.appendMap(g,o)}else s.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,l=new bn(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new Pn(e.mapping.maps[c],f,n),h;(h=l&&l.merge(d))&&(d=h,c?o.pop():a=a.slice(0,a.length-1)),o.push(d),n&&(s++,n=void 0),i||(l=d)}let u=s-r.depth;return u>vj&&(a=yj(a,u),s-=u),new bn(a.append(o),s)}remapping(e,n){let r=new va;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new bn(this.items.append(e.map(n=>new Pn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=n;this.items.forEach(d=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let g=o.maps[h];if(d.step){let v=e.steps[h].invert(e.docs[h]),b=d.selection&&d.selection.map(o.slice(l+1,h));b&&a++,r.push(new Pn(g,v,b))}else r.push(new Pn(g))},i);let u=[];for(let d=n;d<s;d++)u.push(new Pn(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new bn(c,a);return f.emptyItemCount()>gj&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let f=new Pn(u.invert(),l,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else s.map&&r--},this.items.length,0),new bn(We.from(i.reverse()),o)}}bn.empty=new bn(We.empty,0);function yj(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Pn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Pn(n.getMap().invert(),n,this.selection)}}}class Vr{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const vj=20;function bj(t,e,n,r){let i=n.getMeta(Li),o;if(i)return i.historyState;n.getMeta(xj)&&(t=new Vr(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Li))return s.getMeta(Li).redo?new Vr(t.done.addTransform(n,void 0,r,Lc(e)),t.undone,aS(n.mapping.maps),t.prevTime,t.prevComposition):new Vr(t.done,t.undone.addTransform(n,void 0,r,Lc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!wj(n,t.prevRanges)),u=s?jm(t.prevRanges,n.mapping):aS(n.mapping.maps);return new Vr(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Lc(e)),bn.empty,u,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Vr(t.done.rebased(n,o),t.undone.rebased(n,o),jm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Vr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),jm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function wj(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function aS(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function jm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function kj(t,e,n){let r=Lc(e),i=Li.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Vr(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Li,{redo:n,historyState:l})}let zm=!1,lS=null;function Lc(t){let e=t.plugins;if(lS!=e){zm=!1,lS=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){zm=!0;break}}return zm}const Li=new An("history"),xj=new An("closeHistory");function Sj(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new _t({key:Li,state:{init(){return new Vr(bn.empty,bn.empty,null,0,-1)},apply(e,n,r){return bj(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?cS:r=="historyRedo"?fS:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function uS(t,e){return(n,r)=>{let i=Li.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=kj(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const cS=uS(!1,!0),fS=uS(!0,!0),Ej=bt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>cS(t,e),redo:()=>({state:t,dispatch:e})=>fS(t,e)}},addProseMirrorPlugins(){return[Sj(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Tj=Mt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",vt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,o=t();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):N2(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:u}=s.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(J.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(Q.create(s.doc,u.pos)):s.setSelection(J.create(s.doc,u.pos));else{const f=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(s.insert(c,f),s.setSelection(J.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[z2({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Oj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Cj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Nj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,_j=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Mj=$r.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Uo({find:Oj,type:this.type}),Uo({find:Nj,type:this.type})]},addPasteRules(){return[Qo({find:Cj,type:this.type}),Qo({find:_j,type:this.type})]}}),Ij=Mt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",vt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Aj="listItem",dS="textStyle",hS=/^(\d+)\.\s$/,Dj=Mt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",vt(this.options.HTMLAttributes,n),0]:["ol",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Aj,this.editor.getAttributes(dS)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=_a({find:hS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=_a({find:hS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(dS)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Rj=Mt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Pj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Lj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Fj=$r.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Uo({find:Pj,type:this.type})]},addPasteRules(){return[Qo({find:Lj,type:this.type})]}}),jj=Mt.create({name:"text",group:"inline"}),zj=bt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,a,l,u,c,f,d,h,g,v,b,p;const m=[];return this.options.bold!==!1&&m.push(H2.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&m.push(q2.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&m.push(K2.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&m.push(Y2.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&m.push(ej.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&m.push(tj.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&m.push(ij.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&m.push(dj.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&m.push(hj.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&m.push(pj.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&m.push(Ej.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&m.push(Tj.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&m.push(Mj.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&m.push(Ij.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&m.push(Dj.configure((g=this.options)===null||g===void 0?void 0:g.orderedList)),this.options.paragraph!==!1&&m.push(Rj.configure((v=this.options)===null||v===void 0?void 0:v.paragraph)),this.options.strike!==!1&&m.push(Fj.configure((b=this.options)===null||b===void 0?void 0:b.strike)),this.options.text!==!1&&m.push(jj.configure((p=this.options)===null||p===void 0?void 0:p.text)),m}}),$j=()=>{const{state:t}=ua(),e=t==null?void 0:t.activeLecture,n=O2(e.text,[zj]);try{const r=new Bp({strictVariables:!0,greedy:!0,trimOutputLeft:!0,trimOutputRight:!0,trimTagLeft:!0,trimTagRight:!0}),i=r.renderSync(r.parse(n),e.text||{});return W.jsx("div",{className:"vizzly_rich_text","data-component":"rich-text-view-only",dangerouslySetInnerHTML:{__html:i}})}catch(r){return console.error(r),W.jsx("div",{dangerouslySetInnerHTML:{__html:n}})}},qj=()=>{const{state:t}=ua();return W.jsxs(wt.Fragment,{children:[(t==null?void 0:t.activeLecture.type)===Op.Video&&W.jsx(LI,{}),(t==null?void 0:t.activeLecture.type)===Op.Article&&W.jsx($j,{})]})},Vj=({course:t})=>W.jsx(OM,{course:t,children:W.jsxs("div",{className:dI({width:"100%",display:"flex"}),children:[W.jsxs("div",{className:TM,children:[W.jsx(qj,{}),W.jsx(NM,{})]}),W.jsx(BM,{})]})}),Bj=t=>W.jsx(x_,{client:F_(N1.ANONYMOUS),children:W.jsx(Hj,{...t})}),Uj=No`
  query getCourse($id: uuid!) {
    courses_by_pk(id: $id) {
      content
      id
    }
  }
`,Qj=t=>{const{loading:e,error:n,data:r}=M_(Uj,{variables:{id:t},fetchPolicy:"network-only"}),i=r==null?void 0:r.courses_by_pk;return{loading:e,error:n,course:i||void 0}},Hj=t=>{const{course:e,loading:n,error:r}=Qj(t.courseId);return n&&!e?W.jsx("div",{children:"Loading..."}):r?W.jsxs("div",{children:["Error: ",r.message]}):W.jsx(W.Fragment,{children:e&&W.jsx(Vj,{course:e})})},Wj=t=>W.jsx(Bj,{courseId:t.courseid}),Kj=QT(Wj,IS,Qc,{props:{courseid:"string"}});customElements.define("productuni-course",Kj)});Gj();
