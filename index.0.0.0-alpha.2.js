var TE=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ij=TE((Fj,Lh)=>{function OE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function A0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P0={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=Symbol.for("react.element"),CE=Symbol.for("react.portal"),NE=Symbol.for("react.fragment"),_E=Symbol.for("react.strict_mode"),ME=Symbol.for("react.profiler"),IE=Symbol.for("react.provider"),AE=Symbol.for("react.context"),PE=Symbol.for("react.forward_ref"),RE=Symbol.for("react.suspense"),DE=Symbol.for("react.memo"),LE=Symbol.for("react.lazy"),Um=Symbol.iterator;function FE(t){return t===null||typeof t!="object"?null:(t=Um&&t[Um]||t["@@iterator"],typeof t=="function"?t:null)}var R0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D0=Object.assign,L0={};function Do(t,e,n){this.props=t,this.context=e,this.refs=L0,this.updater=n||R0}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F0(){}F0.prototype=Do.prototype;function Fh(t,e,n){this.props=t,this.context=e,this.refs=L0,this.updater=n||R0}var zh=Fh.prototype=new F0;zh.constructor=Fh;D0(zh,Do.prototype);zh.isPureReactComponent=!0;var Qm=Array.isArray,z0=Object.prototype.hasOwnProperty,jh={current:null},j0={key:!0,ref:!0,__self:!0,__source:!0};function $0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)z0.call(e,r)&&!j0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:da,type:t,key:o,ref:s,props:i,_owner:jh.current}}function zE(t,e){return{$$typeof:da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $h(t){return typeof t=="object"&&t!==null&&t.$$typeof===da}function jE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wm=/\/+/g;function jc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jE(""+t.key):e.toString(36)}function sl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case da:case CE:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+jc(s,0):r,Qm(i)?(n="",t!=null&&(n=t.replace(Wm,"$&/")+"/"),sl(i,e,n,"",function(u){return u})):i!=null&&($h(i)&&(i=zE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Wm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Qm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+jc(o,a);s+=sl(o,e,n,l,i)}else if(l=FE(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+jc(o,a++),s+=sl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Na(t,e,n){if(t==null)return t;var r=[],i=0;return sl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $E(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},al={transition:null},VE={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:al,ReactCurrentOwner:jh};function V0(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Na,forEach:function(t,e,n){Na(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Na(t,function(){e++}),e},toArray:function(t){return Na(t,function(e){return e})||[]},only:function(t){if(!$h(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Do;X.Fragment=NE;X.Profiler=ME;X.PureComponent=Fh;X.StrictMode=_E;X.Suspense=RE;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;X.act=V0;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=D0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=jh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)z0.call(e,l)&&!j0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:da,type:t.type,key:i,ref:o,props:r,_owner:s}};X.createContext=function(t){return t={$$typeof:AE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IE,_context:t},t.Consumer=t};X.createElement=$0;X.createFactory=function(t){var e=$0.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:PE,render:t}};X.isValidElement=$h;X.lazy=function(t){return{$$typeof:LE,_payload:{_status:-1,_result:t},_init:$E}};X.memo=function(t,e){return{$$typeof:DE,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=al.transition;al.transition={};try{t()}finally{al.transition=e}};X.unstable_act=V0;X.useCallback=function(t,e){return yt.current.useCallback(t,e)};X.useContext=function(t){return yt.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};X.useEffect=function(t,e){return yt.current.useEffect(t,e)};X.useId=function(){return yt.current.useId()};X.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return yt.current.useMemo(t,e)};X.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};X.useRef=function(t){return yt.current.useRef(t)};X.useState=function(t){return yt.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return yt.current.useTransition()};X.version="18.3.1";P0.exports=X;var bt=P0.exports;const BE=A0(bt);var Gf={},B0={exports:{}},jt={},q0={exports:{}},U0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,R){var U=M.length;M.push(R);e:for(;0<U;){var re=U-1>>>1,ie=M[re];if(0<i(ie,R))M[re]=R,M[U]=ie,U=re;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var R=M[0],U=M.pop();if(U!==R){M[0]=U;e:for(var re=0,ie=M.length,nt=ie>>>1;re<nt;){var wn=2*(re+1)-1,zc=M[wn],$r=wn+1,Ca=M[$r];if(0>i(zc,U))$r<ie&&0>i(Ca,zc)?(M[re]=Ca,M[$r]=U,re=$r):(M[re]=zc,M[wn]=U,re=wn);else if($r<ie&&0>i(Ca,U))M[re]=Ca,M[$r]=U,re=$r;else break e}}return R}function i(M,R){var U=M.sortIndex-R.sortIndex;return U!==0?U:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=M)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function k(M){if(v=!1,y(M),!p)if(n(l)!==null)p=!0,V(S);else{var R=n(u);R!==null&&ee(k,R.startTime-M)}}function S(M,R){p=!1,v&&(v=!1,m(T),T=-1),h=!0;var U=d;try{for(y(R),f=n(l);f!==null&&(!(f.expirationTime>R)||M&&!Ee());){var re=f.callback;if(typeof re=="function"){f.callback=null,d=f.priorityLevel;var ie=re(f.expirationTime<=R);R=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(l)&&r(l),y(R)}else r(l);f=n(l)}if(f!==null)var nt=!0;else{var wn=n(u);wn!==null&&ee(k,wn.startTime-R),nt=!1}return nt}finally{f=null,d=U,h=!1}}var b=!1,x=null,T=-1,D=5,P=-1;function Ee(){return!(t.unstable_now()-P<D)}function N(){if(x!==null){var M=t.unstable_now();P=M;var R=!0;try{R=x(!0,M)}finally{R?O():(b=!1,x=null)}}else b=!1}var O;if(typeof g=="function")O=function(){g(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=N,O=function(){W.postMessage(null)}}else O=function(){w(N,0)};function V(M){x=M,b||(b=!0,O())}function ee(M,R){T=w(function(){M(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,V(S))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var U=d;d=R;try{return M()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=d;d=M;try{return R()}finally{d=U}},t.unstable_scheduleCallback=function(M,R,U){var re=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?re+U:re):U=re,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=U+ie,M={id:c++,callback:R,priorityLevel:M,startTime:U,expirationTime:ie,sortIndex:-1},U>re?(M.sortIndex=U,e(u,M),n(l)===null&&M===n(u)&&(v?(m(T),T=-1):v=!0,ee(k,U-re))):(M.sortIndex=ie,e(l,M),p||h||(p=!0,V(S))),M},t.unstable_shouldYield=Ee,t.unstable_wrapCallback=function(M){var R=d;return function(){var U=d;d=R;try{return M.apply(this,arguments)}finally{d=U}}}})(U0);q0.exports=U0;var qE=q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE=bt,Ft=qE;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q0=new Set,Is={};function Ci(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(Is[t]=e,t=0;t<e.length;t++)Q0.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kf=Object.prototype.hasOwnProperty,QE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hm={},Jm={};function WE(t){return Kf.call(Jm,t)?!0:Kf.call(Hm,t)?!1:QE.test(t)?Jm[t]=!0:(Hm[t]=!0,!1)}function HE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JE(t,e,n,r){if(e===null||typeof e>"u"||HE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vh=/[\-:]([a-z])/g;function Bh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vh,Bh);et[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vh,Bh);et[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vh,Bh);et[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qh(t,e,n,r){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JE(e,n,i,r)&&(n=null),r||i===null?WE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hn=UE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_a=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),W0=Symbol.for("react.provider"),H0=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),J0=Symbol.for("react.offscreen"),Gm=Symbol.iterator;function Uo(t){return t===null||typeof t!="object"?null:(t=Gm&&t[Gm]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,$c;function ss(t){if($c===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$c=e&&e[1]||""}return`
`+$c+t}var Vc=!1;function Bc(t,e){if(!t||Vc)return"";Vc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Vc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ss(t):""}function GE(t){switch(t.tag){case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return t=Bc(t.type,!1),t;case 11:return t=Bc(t.type.render,!1),t;case 1:return t=Bc(t.type,!0),t;default:return""}}function ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bi:return"Fragment";case Vi:return"Portal";case Yf:return"Profiler";case Uh:return"StrictMode";case Xf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H0:return(t.displayName||"Context")+".Consumer";case W0:return(t._context.displayName||"Context")+".Provider";case Qh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wh:return e=t.displayName||null,e!==null?e:ed(t.type)||"Memo";case Xn:e=t._payload,t=t._init;try{return ed(t(e))}catch{}}return null}function KE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ed(e);case 8:return e===Uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YE(t){var e=G0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ma(t){t._valueTracker||(t._valueTracker=YE(t))}function K0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=G0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function td(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Km(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Er(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y0(t,e){e=e.checked,e!=null&&qh(t,"checked",e,!1)}function nd(t,e){Y0(t,e);var n=Er(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rd(t,e.type,n):e.hasOwnProperty("defaultValue")&&rd(t,e.type,Er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ym(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rd(t,e,n){(e!=="number"||Vl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var as=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Er(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function id(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_(92));if(as(n)){if(1<n.length)throw Error(_(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Er(n)}}function X0(t,e){var n=Er(e.value),r=Er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Z0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function od(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ia,ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ia.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function As(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XE=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(t){XE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hs[e]=hs[t]})});function tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hs.hasOwnProperty(t)&&hs[t]?(""+e).trim():e+"px"}function nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZE=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sd(t,e){if(e){if(ZE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_(62))}}function ad(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=null;function Hh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ud=null,so=null,ao=null;function eg(t){if(t=ma(t)){if(typeof ud!="function")throw Error(_(280));var e=t.stateNode;e&&(e=qu(e),ud(t.stateNode,t.type,e))}}function rw(t){so?ao?ao.push(t):ao=[t]:so=t}function iw(){if(so){var t=so,e=ao;if(ao=so=null,eg(t),e)for(t=0;t<e.length;t++)eg(e[t])}}function ow(t,e){return t(e)}function sw(){}var qc=!1;function aw(t,e,n){if(qc)return t(e,n);qc=!0;try{return ow(t,e,n)}finally{qc=!1,(so!==null||ao!==null)&&(sw(),iw())}}function Ps(t,e){var n=t.stateNode;if(n===null)return null;var r=qu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_(231,e,typeof n));return n}var cd=!1;if(Bn)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){cd=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{cd=!1}function ex(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ps=!1,Bl=null,ql=!1,fd=null,tx={onError:function(t){ps=!0,Bl=t}};function nx(t,e,n,r,i,o,s,a,l){ps=!1,Bl=null,ex.apply(tx,arguments)}function rx(t,e,n,r,i,o,s,a,l){if(nx.apply(this,arguments),ps){if(ps){var u=Bl;ps=!1,Bl=null}else throw Error(_(198));ql||(ql=!0,fd=u)}}function Ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tg(t){if(Ni(t)!==t)throw Error(_(188))}function ix(t){var e=t.alternate;if(!e){if(e=Ni(t),e===null)throw Error(_(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tg(i),t;if(o===r)return tg(i),e;o=o.sibling}throw Error(_(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?t:e}function uw(t){return t=ix(t),t!==null?cw(t):null}function cw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cw(t);if(e!==null)return e;t=t.sibling}return null}var fw=Ft.unstable_scheduleCallback,ng=Ft.unstable_cancelCallback,ox=Ft.unstable_shouldYield,sx=Ft.unstable_requestPaint,_e=Ft.unstable_now,ax=Ft.unstable_getCurrentPriorityLevel,Jh=Ft.unstable_ImmediatePriority,dw=Ft.unstable_UserBlockingPriority,Ul=Ft.unstable_NormalPriority,lx=Ft.unstable_LowPriority,hw=Ft.unstable_IdlePriority,ju=null,Cn=null;function ux(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ju,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:dx,cx=Math.log,fx=Math.LN2;function dx(t){return t>>>=0,t===0?32:31-(cx(t)/fx|0)|0}var Aa=64,Pa=4194304;function ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ql(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ls(a):(o&=s,o!==0&&(r=ls(o)))}else s=n&~i,s!==0?r=ls(s):o!==0&&(r=ls(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),i=1<<n,r|=t[n],e&=~i;return r}function hx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function px(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-dn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=hx(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function dd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pw(){var t=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),t}function Uc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ha(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function mx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Gh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function mw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gw,Kh,yw,vw,ww,hd=!1,Ra=[],hr=null,pr=null,mr=null,Rs=new Map,Ds=new Map,or=[],gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rg(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Rs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(e.pointerId)}}function Wo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ma(e),e!==null&&Kh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yx(t,e,n,r,i){switch(e){case"focusin":return hr=Wo(hr,t,e,n,r,i),!0;case"dragenter":return pr=Wo(pr,t,e,n,r,i),!0;case"mouseover":return mr=Wo(mr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rs.set(o,Wo(Rs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ds.set(o,Wo(Ds.get(o)||null,t,e,n,r,i)),!0}return!1}function kw(t){var e=Yr(t.target);if(e!==null){var n=Ni(e);if(n!==null){if(e=n.tag,e===13){if(e=lw(n),e!==null){t.blockedOn=e,ww(t.priority,function(){yw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ll(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ld=r,n.target.dispatchEvent(r),ld=null}else return e=ma(n),e!==null&&Kh(e),t.blockedOn=n,!1;e.shift()}return!0}function ig(t,e,n){ll(t)&&n.delete(e)}function vx(){hd=!1,hr!==null&&ll(hr)&&(hr=null),pr!==null&&ll(pr)&&(pr=null),mr!==null&&ll(mr)&&(mr=null),Rs.forEach(ig),Ds.forEach(ig)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,hd||(hd=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,vx)))}function Ls(t){function e(i){return Ho(i,t)}if(0<Ra.length){Ho(Ra[0],t);for(var n=1;n<Ra.length;n++){var r=Ra[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&Ho(hr,t),pr!==null&&Ho(pr,t),mr!==null&&Ho(mr,t),Rs.forEach(e),Ds.forEach(e),n=0;n<or.length;n++)r=or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)kw(n),n.blockedOn===null&&or.shift()}var lo=Hn.ReactCurrentBatchConfig,Wl=!0;function wx(t,e,n,r){var i=le,o=lo.transition;lo.transition=null;try{le=1,Yh(t,e,n,r)}finally{le=i,lo.transition=o}}function kx(t,e,n,r){var i=le,o=lo.transition;lo.transition=null;try{le=4,Yh(t,e,n,r)}finally{le=i,lo.transition=o}}function Yh(t,e,n,r){if(Wl){var i=pd(t,e,n,r);if(i===null)ef(t,e,r,Hl,n),rg(t,r);else if(yx(i,t,e,n,r))r.stopPropagation();else if(rg(t,r),e&4&&-1<gx.indexOf(t)){for(;i!==null;){var o=ma(i);if(o!==null&&gw(o),o=pd(t,e,n,r),o===null&&ef(t,e,r,Hl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ef(t,e,r,null,n)}}var Hl=null;function pd(t,e,n,r){if(Hl=null,t=Hh(r),t=Yr(t),t!==null)if(e=Ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hl=t,null}function Sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ax()){case Jh:return 1;case dw:return 4;case Ul:case lx:return 16;case hw:return 536870912;default:return 16}default:return 16}}var ur=null,Xh=null,ul=null;function bw(){if(ul)return ul;var t,e=Xh,n=e.length,r,i="value"in ur?ur.value:ur.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ul=i.slice(t,1<r?1-r:void 0)}function cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Da(){return!0}function og(){return!1}function $t(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Da:og,this.isPropagationStopped=og,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zh=$t(Lo),pa=Se({},Lo,{view:0,detail:0}),Sx=$t(pa),Qc,Wc,Jo,$u=Se({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jo&&(Jo&&t.type==="mousemove"?(Qc=t.screenX-Jo.screenX,Wc=t.screenY-Jo.screenY):Wc=Qc=0,Jo=t),Qc)},movementY:function(t){return"movementY"in t?t.movementY:Wc}}),sg=$t($u),bx=Se({},$u,{dataTransfer:0}),Ex=$t(bx),xx=Se({},pa,{relatedTarget:0}),Hc=$t(xx),Tx=Se({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ox=$t(Tx),Cx=Se({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nx=$t(Cx),_x=Se({},Lo,{data:0}),ag=$t(_x),Mx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ax={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Px(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ax[t])?!!e[t]:!1}function ep(){return Px}var Rx=Se({},pa,{key:function(t){if(t.key){var e=Mx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ix[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(t){return t.type==="keypress"?cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dx=$t(Rx),Lx=Se({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lg=$t(Lx),Fx=Se({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),zx=$t(Fx),jx=Se({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$x=$t(jx),Vx=Se({},$u,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bx=$t(Vx),qx=[9,13,27,32],tp=Bn&&"CompositionEvent"in window,ms=null;Bn&&"documentMode"in document&&(ms=document.documentMode);var Ux=Bn&&"TextEvent"in window&&!ms,Ew=Bn&&(!tp||ms&&8<ms&&11>=ms),ug=" ",cg=!1;function xw(t,e){switch(t){case"keyup":return qx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qi=!1;function Qx(t,e){switch(t){case"compositionend":return Tw(e);case"keypress":return e.which!==32?null:(cg=!0,ug);case"textInput":return t=e.data,t===ug&&cg?null:t;default:return null}}function Wx(t,e){if(qi)return t==="compositionend"||!tp&&xw(t,e)?(t=bw(),ul=Xh=ur=null,qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ew&&e.locale!=="ko"?null:e.data;default:return null}}var Hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hx[t.type]:e==="textarea"}function Ow(t,e,n,r){rw(r),e=Jl(e,"onChange"),0<e.length&&(n=new Zh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gs=null,Fs=null;function Jx(t){Fw(t,0)}function Vu(t){var e=Wi(t);if(K0(e))return t}function Gx(t,e){if(t==="change")return e}var Cw=!1;if(Bn){var Jc;if(Bn){var Gc="oninput"in document;if(!Gc){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Gc=typeof dg.oninput=="function"}Jc=Gc}else Jc=!1;Cw=Jc&&(!document.documentMode||9<document.documentMode)}function hg(){gs&&(gs.detachEvent("onpropertychange",Nw),Fs=gs=null)}function Nw(t){if(t.propertyName==="value"&&Vu(Fs)){var e=[];Ow(e,Fs,t,Hh(t)),aw(Jx,e)}}function Kx(t,e,n){t==="focusin"?(hg(),gs=e,Fs=n,gs.attachEvent("onpropertychange",Nw)):t==="focusout"&&hg()}function Yx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Fs)}function Xx(t,e){if(t==="click")return Vu(e)}function Zx(t,e){if(t==="input"||t==="change")return Vu(e)}function eT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:eT;function zs(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kf.call(e,i)||!gn(t[i],e[i]))return!1}return!0}function pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,e){var n=pg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pg(n)}}function _w(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_w(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mw(){for(var t=window,e=Vl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vl(t.document)}return e}function np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tT(t){var e=Mw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_w(n.ownerDocument.documentElement,n)){if(r!==null&&np(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=mg(n,o);var s=mg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nT=Bn&&"documentMode"in document&&11>=document.documentMode,Ui=null,md=null,ys=null,gd=!1;function gg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gd||Ui==null||Ui!==Vl(r)||(r=Ui,"selectionStart"in r&&np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ys&&zs(ys,r)||(ys=r,r=Jl(md,"onSelect"),0<r.length&&(e=new Zh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ui)))}function La(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qi={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Kc={},Iw={};Bn&&(Iw=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Bu(t){if(Kc[t])return Kc[t];if(!Qi[t])return t;var e=Qi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Iw)return Kc[t]=e[n];return t}var Aw=Bu("animationend"),Pw=Bu("animationiteration"),Rw=Bu("animationstart"),Dw=Bu("transitionend"),Lw=new Map,yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){Lw.set(t,e),Ci(e,[t])}for(var Yc=0;Yc<yg.length;Yc++){var Xc=yg[Yc],rT=Xc.toLowerCase(),iT=Xc[0].toUpperCase()+Xc.slice(1);Ar(rT,"on"+iT)}Ar(Aw,"onAnimationEnd");Ar(Pw,"onAnimationIteration");Ar(Rw,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Dw,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function vg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rx(r,e,void 0,t),t.currentTarget=null}function Fw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;vg(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;vg(i,a,u),o=l}}}if(ql)throw t=fd,ql=!1,fd=null,t}function pe(t,e){var n=e[Sd];n===void 0&&(n=e[Sd]=new Set);var r=t+"__bubble";n.has(r)||(zw(e,t,2,!1),n.add(r))}function Zc(t,e,n){var r=0;e&&(r|=4),zw(n,t,r,e)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function js(t){if(!t[Fa]){t[Fa]=!0,Q0.forEach(function(n){n!=="selectionchange"&&(oT.has(n)||Zc(n,!1,t),Zc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fa]||(e[Fa]=!0,Zc("selectionchange",!1,e))}}function zw(t,e,n,r){switch(Sw(e)){case 1:var i=wx;break;case 4:i=kx;break;default:i=Yh}n=i.bind(null,e,n,t),i=void 0,!cd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ef(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Yr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}aw(function(){var u=o,c=Hh(n),f=[];e:{var d=Lw.get(t);if(d!==void 0){var h=Zh,p=t;switch(t){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":h=Dx;break;case"focusin":p="focus",h=Hc;break;case"focusout":p="blur",h=Hc;break;case"beforeblur":case"afterblur":h=Hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ex;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zx;break;case Aw:case Pw:case Rw:h=Ox;break;case Dw:h=$x;break;case"scroll":h=Sx;break;case"wheel":h=Bx;break;case"copy":case"cut":case"paste":h=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=lg}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var g=u,y;g!==null;){y=g;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=Ps(g,m),k!=null&&v.push($s(g,k,y)))),w)break;g=g.return}0<v.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==ld&&(p=n.relatedTarget||n.fromElement)&&(Yr(p)||p[qn]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Yr(p):null,p!==null&&(w=Ni(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(v=sg,k="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=lg,k="onPointerLeave",m="onPointerEnter",g="pointer"),w=h==null?d:Wi(h),y=p==null?d:Wi(p),d=new v(k,g+"leave",h,n,c),d.target=w,d.relatedTarget=y,k=null,Yr(c)===u&&(v=new v(m,g+"enter",p,n,c),v.target=y,v.relatedTarget=w,k=v),w=k,h&&p)t:{for(v=h,m=p,g=0,y=v;y;y=Ri(y))g++;for(y=0,k=m;k;k=Ri(k))y++;for(;0<g-y;)v=Ri(v),g--;for(;0<y-g;)m=Ri(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ri(v),m=Ri(m)}v=null}else v=null;h!==null&&wg(f,d,h,v,!1),p!==null&&w!==null&&wg(f,w,p,v,!0)}}e:{if(d=u?Wi(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=Gx;else if(fg(d))if(Cw)S=Zx;else{S=Yx;var b=Kx}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Xx);if(S&&(S=S(t,u))){Ow(f,S,n,c);break e}b&&b(t,d,u),t==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&rd(d,"number",d.value)}switch(b=u?Wi(u):window,t){case"focusin":(fg(b)||b.contentEditable==="true")&&(Ui=b,md=u,ys=null);break;case"focusout":ys=md=Ui=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,gg(f,n,c);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":gg(f,n,c)}var x;if(tp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else qi?xw(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ew&&n.locale!=="ko"&&(qi||T!=="onCompositionStart"?T==="onCompositionEnd"&&qi&&(x=bw()):(ur=c,Xh="value"in ur?ur.value:ur.textContent,qi=!0)),b=Jl(u,T),0<b.length&&(T=new ag(T,t,null,n,c),f.push({event:T,listeners:b}),x?T.data=x:(x=Tw(n),x!==null&&(T.data=x)))),(x=Ux?Qx(t,n):Wx(t,n))&&(u=Jl(u,"onBeforeInput"),0<u.length&&(c=new ag("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=x))}Fw(f,e)})}function $s(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ps(t,n),o!=null&&r.unshift($s(t,o,i)),o=Ps(t,e),o!=null&&r.push($s(t,o,i))),t=t.return}return r}function Ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ps(n,o),l!=null&&s.unshift($s(n,l,a))):i||(l=Ps(n,o),l!=null&&s.push($s(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var sT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function kg(t){return(typeof t=="string"?t:""+t).replace(sT,`
`).replace(aT,"")}function za(t,e,n){if(e=kg(e),kg(t)!==e&&n)throw Error(_(425))}function Gl(){}var yd=null,vd=null;function wd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kd=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(t){return Sg.resolve(null).then(t).catch(cT)}:kd;function cT(t){setTimeout(function(){throw t})}function tf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ls(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ls(e)}function gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Fo,Vs="__reactProps$"+Fo,qn="__reactContainer$"+Fo,Sd="__reactEvents$"+Fo,fT="__reactListeners$"+Fo,dT="__reactHandles$"+Fo;function Yr(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qn]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bg(t);t!==null;){if(n=t[Tn])return n;t=bg(t)}return e}t=n,n=t.parentNode}return null}function ma(t){return t=t[Tn]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_(33))}function qu(t){return t[Vs]||null}var bd=[],Hi=-1;function Pr(t){return{current:t}}function me(t){0>Hi||(t.current=bd[Hi],bd[Hi]=null,Hi--)}function he(t,e){Hi++,bd[Hi]=t.current,t.current=e}var xr={},at=Pr(xr),Et=Pr(!1),yi=xr;function ko(t,e){var n=t.type.contextTypes;if(!n)return xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function Kl(){me(Et),me(at)}function Eg(t,e,n){if(at.current!==xr)throw Error(_(168));he(at,e),he(Et,n)}function jw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_(108,KE(t)||"Unknown",i));return Se({},n,r)}function Yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xr,yi=at.current,he(at,t),he(Et,Et.current),!0}function xg(t,e,n){var r=t.stateNode;if(!r)throw Error(_(169));n?(t=jw(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,me(Et),me(at),he(at,t)):me(Et),he(Et,n)}var Dn=null,Uu=!1,nf=!1;function $w(t){Dn===null?Dn=[t]:Dn.push(t)}function hT(t){Uu=!0,$w(t)}function Rr(){if(!nf&&Dn!==null){nf=!0;var t=0,e=le;try{var n=Dn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,Uu=!1}catch(i){throw Dn!==null&&(Dn=Dn.slice(t+1)),fw(Jh,Rr),i}finally{le=e,nf=!1}}return null}var Ji=[],Gi=0,Xl=null,Zl=0,Qt=[],Wt=0,vi=null,Fn=1,zn="";function Ur(t,e){Ji[Gi++]=Zl,Ji[Gi++]=Xl,Xl=t,Zl=e}function Vw(t,e,n){Qt[Wt++]=Fn,Qt[Wt++]=zn,Qt[Wt++]=vi,vi=t;var r=Fn;t=zn;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var o=32-dn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Fn=1<<32-dn(e)+i|n<<i|r,zn=o+t}else Fn=1<<o|n<<i|r,zn=t}function rp(t){t.return!==null&&(Ur(t,1),Vw(t,1,0))}function ip(t){for(;t===Xl;)Xl=Ji[--Gi],Ji[Gi]=null,Zl=Ji[--Gi],Ji[Gi]=null;for(;t===vi;)vi=Qt[--Wt],Qt[Wt]=null,zn=Qt[--Wt],Qt[Wt]=null,Fn=Qt[--Wt],Qt[Wt]=null}var Dt=null,Rt=null,ge=!1,an=null;function Bw(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,Rt=gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vi!==null?{id:Fn,overflow:zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,Rt=null,!0):!1;default:return!1}}function Ed(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xd(t){if(ge){var e=Rt;if(e){var n=e;if(!Tg(t,e)){if(Ed(t))throw Error(_(418));e=gr(n.nextSibling);var r=Dt;e&&Tg(t,e)?Bw(r,n):(t.flags=t.flags&-4097|2,ge=!1,Dt=t)}}else{if(Ed(t))throw Error(_(418));t.flags=t.flags&-4097|2,ge=!1,Dt=t}}}function Og(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function ja(t){if(t!==Dt)return!1;if(!ge)return Og(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wd(t.type,t.memoizedProps)),e&&(e=Rt)){if(Ed(t))throw qw(),Error(_(418));for(;e;)Bw(t,e),e=gr(e.nextSibling)}if(Og(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=Dt?gr(t.stateNode.nextSibling):null;return!0}function qw(){for(var t=Rt;t;)t=gr(t.nextSibling)}function So(){Rt=Dt=null,ge=!1}function op(t){an===null?an=[t]:an.push(t)}var pT=Hn.ReactCurrentBatchConfig;function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cg(t){var e=t._init;return e(t._payload)}function Uw(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=kr(m,g),m.index=0,m.sibling=null,m}function o(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,y,k){return g===null||g.tag!==6?(g=cf(y,m.mode,k),g.return=m,g):(g=i(g,y),g.return=m,g)}function l(m,g,y,k){var S=y.type;return S===Bi?c(m,g,y.props.children,k,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xn&&Cg(S)===g.type)?(k=i(g,y.props),k.ref=Go(m,g,y),k.return=m,k):(k=yl(y.type,y.key,y.props,null,m.mode,k),k.ref=Go(m,g,y),k.return=m,k)}function u(m,g,y,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=ff(y,m.mode,k),g.return=m,g):(g=i(g,y.children||[]),g.return=m,g)}function c(m,g,y,k,S){return g===null||g.tag!==7?(g=ai(y,m.mode,k,S),g.return=m,g):(g=i(g,y),g.return=m,g)}function f(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=cf(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _a:return y=yl(g.type,g.key,g.props,null,m.mode,y),y.ref=Go(m,null,g),y.return=m,y;case Vi:return g=ff(g,m.mode,y),g.return=m,g;case Xn:var k=g._init;return f(m,k(g._payload),y)}if(as(g)||Uo(g))return g=ai(g,m.mode,y,null),g.return=m,g;$a(m,g)}return null}function d(m,g,y,k){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(m,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _a:return y.key===S?l(m,g,y,k):null;case Vi:return y.key===S?u(m,g,y,k):null;case Xn:return S=y._init,d(m,g,S(y._payload),k)}if(as(y)||Uo(y))return S!==null?null:c(m,g,y,k,null);$a(m,y)}return null}function h(m,g,y,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,a(g,m,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _a:return m=m.get(k.key===null?y:k.key)||null,l(g,m,k,S);case Vi:return m=m.get(k.key===null?y:k.key)||null,u(g,m,k,S);case Xn:var b=k._init;return h(m,g,y,b(k._payload),S)}if(as(k)||Uo(k))return m=m.get(y)||null,c(g,m,k,S,null);$a(g,k)}return null}function p(m,g,y,k){for(var S=null,b=null,x=g,T=g=0,D=null;x!==null&&T<y.length;T++){x.index>T?(D=x,x=null):D=x.sibling;var P=d(m,x,y[T],k);if(P===null){x===null&&(x=D);break}t&&x&&P.alternate===null&&e(m,x),g=o(P,g,T),b===null?S=P:b.sibling=P,b=P,x=D}if(T===y.length)return n(m,x),ge&&Ur(m,T),S;if(x===null){for(;T<y.length;T++)x=f(m,y[T],k),x!==null&&(g=o(x,g,T),b===null?S=x:b.sibling=x,b=x);return ge&&Ur(m,T),S}for(x=r(m,x);T<y.length;T++)D=h(x,m,T,y[T],k),D!==null&&(t&&D.alternate!==null&&x.delete(D.key===null?T:D.key),g=o(D,g,T),b===null?S=D:b.sibling=D,b=D);return t&&x.forEach(function(Ee){return e(m,Ee)}),ge&&Ur(m,T),S}function v(m,g,y,k){var S=Uo(y);if(typeof S!="function")throw Error(_(150));if(y=S.call(y),y==null)throw Error(_(151));for(var b=S=null,x=g,T=g=0,D=null,P=y.next();x!==null&&!P.done;T++,P=y.next()){x.index>T?(D=x,x=null):D=x.sibling;var Ee=d(m,x,P.value,k);if(Ee===null){x===null&&(x=D);break}t&&x&&Ee.alternate===null&&e(m,x),g=o(Ee,g,T),b===null?S=Ee:b.sibling=Ee,b=Ee,x=D}if(P.done)return n(m,x),ge&&Ur(m,T),S;if(x===null){for(;!P.done;T++,P=y.next())P=f(m,P.value,k),P!==null&&(g=o(P,g,T),b===null?S=P:b.sibling=P,b=P);return ge&&Ur(m,T),S}for(x=r(m,x);!P.done;T++,P=y.next())P=h(x,m,T,P.value,k),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?T:P.key),g=o(P,g,T),b===null?S=P:b.sibling=P,b=P);return t&&x.forEach(function(N){return e(m,N)}),ge&&Ur(m,T),S}function w(m,g,y,k){if(typeof y=="object"&&y!==null&&y.type===Bi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _a:e:{for(var S=y.key,b=g;b!==null;){if(b.key===S){if(S=y.type,S===Bi){if(b.tag===7){n(m,b.sibling),g=i(b,y.props.children),g.return=m,m=g;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Xn&&Cg(S)===b.type){n(m,b.sibling),g=i(b,y.props),g.ref=Go(m,b,y),g.return=m,m=g;break e}n(m,b);break}else e(m,b);b=b.sibling}y.type===Bi?(g=ai(y.props.children,m.mode,k,y.key),g.return=m,m=g):(k=yl(y.type,y.key,y.props,null,m.mode,k),k.ref=Go(m,g,y),k.return=m,m=k)}return s(m);case Vi:e:{for(b=y.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=i(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=ff(y,m.mode,k),g.return=m,m=g}return s(m);case Xn:return b=y._init,w(m,g,b(y._payload),k)}if(as(y))return p(m,g,y,k);if(Uo(y))return v(m,g,y,k);$a(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,y),g.return=m,m=g):(n(m,g),g=cf(y,m.mode,k),g.return=m,m=g),s(m)):n(m,g)}return w}var bo=Uw(!0),Qw=Uw(!1),eu=Pr(null),tu=null,Ki=null,sp=null;function ap(){sp=Ki=tu=null}function lp(t){var e=eu.current;me(eu),t._currentValue=e}function Td(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){tu=t,sp=Ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(sp!==t)if(t={context:t,memoizedValue:e,next:null},Ki===null){if(tu===null)throw Error(_(308));Ki=t,tu.dependencies={lanes:0,firstContext:t}}else Ki=Ki.next=t;return e}var Xr=null;function up(t){Xr===null?Xr=[t]:Xr.push(t)}function Ww(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,up(e)):(n.next=i.next,i.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zn=!1;function cp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Un(t,n)}return i=r.interleaved,i===null?(e.next=e,up(r)):(e.next=i.next,i.next=e),r.interleaved=e,Un(t,n)}function fl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gh(t,n)}}function Ng(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nu(t,e,n,r){var i=t.updateQueue;Zn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(d=e,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=Se({},f,d);break e;case 2:Zn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ki|=s,t.lanes=s,t.memoizedState=f}}function _g(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_(191,i));i.call(r)}}}var ga={},Nn=Pr(ga),Bs=Pr(ga),qs=Pr(ga);function Zr(t){if(t===ga)throw Error(_(174));return t}function fp(t,e){switch(he(qs,e),he(Bs,t),he(Nn,ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:od(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=od(e,t)}me(Nn),he(Nn,e)}function Eo(){me(Nn),me(Bs),me(qs)}function Jw(t){Zr(qs.current);var e=Zr(Nn.current),n=od(e,t.type);e!==n&&(he(Bs,t),he(Nn,n))}function dp(t){Bs.current===t&&(me(Nn),me(Bs))}var ve=Pr(0);function ru(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rf=[];function hp(){for(var t=0;t<rf.length;t++)rf[t]._workInProgressVersionPrimary=null;rf.length=0}var dl=Hn.ReactCurrentDispatcher,of=Hn.ReactCurrentBatchConfig,wi=0,ke=null,Le=null,Ve=null,iu=!1,vs=!1,Us=0,mT=0;function rt(){throw Error(_(321))}function pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function mp(t,e,n,r,i,o){if(wi=o,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dl.current=t===null||t.memoizedState===null?wT:kT,t=n(r,i),vs){o=0;do{if(vs=!1,Us=0,25<=o)throw Error(_(301));o+=1,Ve=Le=null,e.updateQueue=null,dl.current=ST,t=n(r,i)}while(vs)}if(dl.current=ou,e=Le!==null&&Le.next!==null,wi=0,Ve=Le=ke=null,iu=!1,e)throw Error(_(300));return t}function gp(){var t=Us!==0;return Us=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ke.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Kt(){if(Le===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Ve===null?ke.memoizedState:Ve.next;if(e!==null)Ve=e,Le=t;else{if(t===null)throw Error(_(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ve===null?ke.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function Qs(t,e){return typeof e=="function"?e(t):e}function sf(t){var e=Kt(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=Le,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((wi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ke.lanes|=c,ki|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,gn(r,e.memoizedState)||(St=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ke.lanes|=o,ki|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function af(t){var e=Kt(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);gn(o,e.memoizedState)||(St=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Gw(){}function Kw(t,e){var n=ke,r=Kt(),i=e(),o=!gn(r.memoizedState,i);if(o&&(r.memoizedState=i,St=!0),r=r.queue,yp(Zw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Ws(9,Xw.bind(null,n,r,i,e),void 0,null),Ue===null)throw Error(_(349));wi&30||Yw(n,e,i)}return i}function Yw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xw(t,e,n,r){e.value=n,e.getSnapshot=r,e1(e)&&t1(t)}function Zw(t,e,n){return n(function(){e1(e)&&t1(t)})}function e1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function t1(t){var e=Un(t,1);e!==null&&hn(e,t,1,-1)}function Mg(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},e.queue=t,t=t.dispatch=vT.bind(null,ke,t),[e.memoizedState,t]}function Ws(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function n1(){return Kt().memoizedState}function hl(t,e,n,r){var i=Sn();ke.flags|=t,i.memoizedState=Ws(1|e,n,void 0,r===void 0?null:r)}function Qu(t,e,n,r){var i=Kt();r=r===void 0?null:r;var o=void 0;if(Le!==null){var s=Le.memoizedState;if(o=s.destroy,r!==null&&pp(r,s.deps)){i.memoizedState=Ws(e,n,o,r);return}}ke.flags|=t,i.memoizedState=Ws(1|e,n,o,r)}function Ig(t,e){return hl(8390656,8,t,e)}function yp(t,e){return Qu(2048,8,t,e)}function r1(t,e){return Qu(4,2,t,e)}function i1(t,e){return Qu(4,4,t,e)}function o1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s1(t,e,n){return n=n!=null?n.concat([t]):null,Qu(4,4,o1.bind(null,e,t),n)}function vp(){}function a1(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function l1(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function u1(t,e,n){return wi&21?(gn(n,e)||(n=pw(),ke.lanes|=n,ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=n)}function gT(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=of.transition;of.transition={};try{t(!1),e()}finally{le=n,of.transition=r}}function c1(){return Kt().memoizedState}function yT(t,e,n){var r=wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f1(t))d1(e,n);else if(n=Ww(t,e,n,r),n!==null){var i=ht();hn(n,t,r,i),h1(n,e,r)}}function vT(t,e,n){var r=wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f1(t))d1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,gn(a,s)){var l=e.interleaved;l===null?(i.next=i,up(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ww(t,e,i,r),n!==null&&(i=ht(),hn(n,t,r,i),h1(n,e,r))}}function f1(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function d1(t,e){vs=iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function h1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gh(t,n)}}var ou={readContext:Gt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},wT={readContext:Gt,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:Ig,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hl(4194308,4,o1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hl(4194308,4,t,e)},useInsertionEffect:function(t,e){return hl(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yT.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:Mg,useDebugValue:vp,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=Mg(!1),e=t[0];return t=gT.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=Sn();if(ge){if(n===void 0)throw Error(_(407));n=n()}else{if(n=e(),Ue===null)throw Error(_(349));wi&30||Yw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ig(Zw.bind(null,r,o,t),[t]),r.flags|=2048,Ws(9,Xw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Sn(),e=Ue.identifierPrefix;if(ge){var n=zn,r=Fn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Us++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kT={readContext:Gt,useCallback:a1,useContext:Gt,useEffect:yp,useImperativeHandle:s1,useInsertionEffect:r1,useLayoutEffect:i1,useMemo:l1,useReducer:sf,useRef:n1,useState:function(){return sf(Qs)},useDebugValue:vp,useDeferredValue:function(t){var e=Kt();return u1(e,Le.memoizedState,t)},useTransition:function(){var t=sf(Qs)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Gw,useSyncExternalStore:Kw,useId:c1,unstable_isNewReconciler:!1},ST={readContext:Gt,useCallback:a1,useContext:Gt,useEffect:yp,useImperativeHandle:s1,useInsertionEffect:r1,useLayoutEffect:i1,useMemo:l1,useReducer:af,useRef:n1,useState:function(){return af(Qs)},useDebugValue:vp,useDeferredValue:function(t){var e=Kt();return Le===null?e.memoizedState=t:u1(e,Le.memoizedState,t)},useTransition:function(){var t=af(Qs)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Gw,useSyncExternalStore:Kw,useId:c1,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Od(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wu={isMounted:function(t){return(t=t._reactInternals)?Ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),i=wr(t),o=jn(r,i);o.payload=e,n!=null&&(o.callback=n),e=yr(t,o,i),e!==null&&(hn(e,t,i,r),fl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),i=wr(t),o=jn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=yr(t,o,i),e!==null&&(hn(e,t,i,r),fl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=wr(t),i=jn(n,r);i.tag=2,e!=null&&(i.callback=e),e=yr(t,i,r),e!==null&&(hn(e,t,r,n),fl(e,t,r))}};function Ag(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!zs(n,r)||!zs(i,o):!0}function p1(t,e,n){var r=!1,i=xr,o=e.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(i=xt(e)?yi:at.current,r=e.contextTypes,o=(r=r!=null)?ko(t,i):xr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Pg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wu.enqueueReplaceState(e,e.state,null)}function Cd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Gt(o):(o=xt(e)?yi:at.current,i.context=ko(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Od(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wu.enqueueReplaceState(i,i.state,null),nu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var n="",r=e;do n+=GE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bT=typeof WeakMap=="function"?WeakMap:Map;function m1(t,e,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){au||(au=!0,zd=r),Nd(t,e)},n}function g1(t,e,n){n=jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Nd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Nd(t,e),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Rg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LT.bind(null,t,e,n),e.then(t,t))}function Dg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jn(-1,1),e.tag=2,yr(n,e,1))),n.lanes|=1),t)}var ET=Hn.ReactCurrentOwner,St=!1;function dt(t,e,n,r){e.child=t===null?Qw(e,null,n,r):bo(e,t.child,n,r)}function Fg(t,e,n,r,i){n=n.render;var o=e.ref;return uo(e,i),r=mp(t,e,n,r,o,i),n=gp(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(ge&&n&&rp(e),e.flags|=1,dt(t,e,r,i),e.child)}function zg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Op(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,y1(t,e,o,r,i)):(t=yl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(s,r)&&t.ref===e.ref)return Qn(t,e,i)}return e.flags|=1,t=kr(o,r),t.ref=e.ref,t.return=e,e.child=t}function y1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(zs(o,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,Qn(t,e,i)}return _d(t,e,n,r,i)}function v1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Xi,It),It|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Xi,It),It|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(Xi,It),It|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,he(Xi,It),It|=r;return dt(t,e,i,n),e.child}function w1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _d(t,e,n,r,i){var o=xt(n)?yi:at.current;return o=ko(e,o),uo(e,i),n=mp(t,e,n,r,o,i),r=gp(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(ge&&r&&rp(e),e.flags|=1,dt(t,e,n,i),e.child)}function jg(t,e,n,r,i){if(xt(n)){var o=!0;Yl(e)}else o=!1;if(uo(e,i),e.stateNode===null)pl(t,e),p1(e,n,r),Cd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=xt(n)?yi:at.current,u=ko(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Pg(e,s,r,u),Zn=!1;var d=e.memoizedState;s.state=d,nu(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Et.current||Zn?(typeof c=="function"&&(Od(e,n,c,r),l=e.memoizedState),(a=Zn||Ag(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Hw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:on(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=xt(n)?yi:at.current,l=ko(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Pg(e,s,r,l),Zn=!1,d=e.memoizedState,s.state=d,nu(e,r,s,i);var p=e.memoizedState;a!==f||d!==p||Et.current||Zn?(typeof h=="function"&&(Od(e,n,h,r),p=e.memoizedState),(u=Zn||Ag(e,n,u,r,d,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Md(t,e,n,r,o,i)}function Md(t,e,n,r,i,o){w1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&xg(e,n,!1),Qn(t,e,o);r=e.stateNode,ET.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=bo(e,t.child,null,o),e.child=bo(e,null,a,o)):dt(t,e,a,o),e.memoizedState=r.state,i&&xg(e,n,!0),e.child}function k1(t){var e=t.stateNode;e.pendingContext?Eg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Eg(t,e.context,!1),fp(t,e.containerInfo)}function $g(t,e,n,r,i){return So(),op(i),e.flags|=256,dt(t,e,n,r),e.child}var Id={dehydrated:null,treeContext:null,retryLane:0};function Ad(t){return{baseLanes:t,cachePool:null,transitions:null}}function S1(t,e,n){var r=e.pendingProps,i=ve.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(ve,i&1),t===null)return xd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Gu(s,r,0,null),t=ai(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ad(n),e.memoizedState=Id,t):wp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xT(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=kr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=kr(a,o):(o=ai(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ad(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Id,r}return o=t.child,t=o.sibling,r=kr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wp(t,e){return e=Gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Va(t,e,n,r){return r!==null&&op(r),bo(e,t.child,null,n),t=wp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xT(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=lf(Error(_(422))),Va(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Gu({mode:"visible",children:r.children},i,0,null),o=ai(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&bo(e,t.child,null,s),e.child.memoizedState=Ad(s),e.memoizedState=Id,o);if(!(e.mode&1))return Va(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(_(419)),r=lf(o,r,void 0),Va(t,e,s,r)}if(a=(s&t.childLanes)!==0,St||a){if(r=Ue,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Un(t,i),hn(r,t,i,-1))}return Tp(),r=lf(Error(_(421))),Va(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FT.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Rt=gr(i.nextSibling),Dt=e,ge=!0,an=null,t!==null&&(Qt[Wt++]=Fn,Qt[Wt++]=zn,Qt[Wt++]=vi,Fn=t.id,zn=t.overflow,vi=e),e=wp(e,r.children),e.flags|=4096,e)}function Vg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Td(t.return,e,n)}function uf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function b1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(dt(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vg(t,n,e);else if(t.tag===19)Vg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ru(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),uf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ru(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}uf(e,!0,n,null,o);break;case"together":uf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_(153));if(e.child!==null){for(t=e.child,n=kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TT(t,e,n){switch(e.tag){case 3:k1(e),So();break;case 5:Jw(e);break;case 1:xt(e.type)&&Yl(e);break;case 4:fp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(eu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?S1(t,e,n):(he(ve,ve.current&1),t=Qn(t,e,n),t!==null?t.sibling:null);he(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return b1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,v1(t,e,n)}return Qn(t,e,n)}var E1,Pd,x1,T1;E1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pd=function(){};x1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zr(Nn.current);var o=null;switch(n){case"input":i=td(t,i),r=td(t,r),o=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),o=[];break;case"textarea":i=id(t,i),r=id(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gl)}sd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Is.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Is.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};T1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ko(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OT(t,e,n){var r=e.pendingProps;switch(ip(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return xt(e.type)&&Kl(),it(e),null;case 3:return r=e.stateNode,Eo(),me(Et),me(at),hp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ja(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(Vd(an),an=null))),Pd(t,e),it(e),null;case 5:dp(e);var i=Zr(qs.current);if(n=e.type,t!==null&&e.stateNode!=null)x1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_(166));return it(e),null}if(t=Zr(Nn.current),ja(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Tn]=e,r[Vs]=o,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<us.length;i++)pe(us[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Km(r,o),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},pe("invalid",r);break;case"textarea":Xm(r,o),pe("invalid",r)}sd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&za(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&za(r.textContent,a,t),i=["children",""+a]):Is.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&pe("scroll",r)}switch(n){case"input":Ma(r),Ym(r,o,!0);break;case"textarea":Ma(r),Zm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Tn]=e,t[Vs]=r,E1(t,e,!1,!1),e.stateNode=t;e:{switch(s=ad(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<us.length;i++)pe(us[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Km(t,r),i=td(t,r),pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Xm(t,r),i=id(t,r),pe("invalid",t);break;default:i=r}sd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?nw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ew(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&As(t,l):typeof l=="number"&&As(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Is.hasOwnProperty(o)?l!=null&&o==="onScroll"&&pe("scroll",t):l!=null&&qh(t,o,l,s))}switch(n){case"input":Ma(t),Ym(t,r,!1);break;case"textarea":Ma(t),Zm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Er(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?oo(t,!!r.multiple,o,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)T1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_(166));if(n=Zr(qs.current),Zr(Nn.current),ja(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(o=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:za(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&za(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return it(e),null;case 13:if(me(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&Rt!==null&&e.mode&1&&!(e.flags&128))qw(),So(),e.flags|=98560,o=!1;else if(o=ja(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(_(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_(317));o[Tn]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),o=!1}else an!==null&&(Vd(an),an=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?ze===0&&(ze=3):Tp())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return Eo(),Pd(t,e),t===null&&js(e.stateNode.containerInfo),it(e),null;case 10:return lp(e.type._context),it(e),null;case 17:return xt(e.type)&&Kl(),it(e),null;case 19:if(me(ve),o=e.memoizedState,o===null)return it(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ko(o,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ru(t),s!==null){for(e.flags|=128,Ko(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(ve,ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&_e()>To&&(e.flags|=128,r=!0,Ko(o,!1),e.lanes=4194304)}else{if(!r)if(t=ru(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ge)return it(e),null}else 2*_e()-o.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,Ko(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_e(),e.sibling=null,n=ve.current,he(ve,r?n&1|2:n&1),e):(it(e),null);case 22:case 23:return xp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?It&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(_(156,e.tag))}function CT(t,e){switch(ip(e),e.tag){case 1:return xt(e.type)&&Kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eo(),me(Et),me(at),hp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dp(e),null;case 13:if(me(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_(340));So()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ve),null;case 4:return Eo(),null;case 10:return lp(e.type._context),null;case 22:case 23:return xp(),null;case 24:return null;default:return null}}var Ba=!1,st=!1,NT=typeof WeakSet=="function"?WeakSet:Set,L=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function Rd(t,e,n){try{n()}catch(r){xe(t,e,r)}}var Bg=!1;function _T(t,e){if(yd=Wl,t=Mw(),np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vd={focusedElem:t,selectionRange:n},Wl=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,w=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:on(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(k){xe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=Bg,Bg=!1,p}function ws(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rd(e,n,o)}i=i.next}while(i!==r)}}function Hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O1(t){var e=t.alternate;e!==null&&(t.alternate=null,O1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Vs],delete e[Sd],delete e[fT],delete e[dT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function C1(t){return t.tag===5||t.tag===3||t.tag===4}function qg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ld(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gl));else if(r!==4&&(t=t.child,t!==null))for(Ld(t,e,n),t=t.sibling;t!==null;)Ld(t,e,n),t=t.sibling}function Fd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fd(t,e,n),t=t.sibling;t!==null;)Fd(t,e,n),t=t.sibling}var Ge=null,sn=!1;function Gn(t,e,n){for(n=n.child;n!==null;)N1(t,e,n),n=n.sibling}function N1(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ju,n)}catch{}switch(n.tag){case 5:st||Yi(n,e);case 6:var r=Ge,i=sn;Ge=null,Gn(t,e,n),Ge=r,sn=i,Ge!==null&&(sn?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(sn?(t=Ge,n=n.stateNode,t.nodeType===8?tf(t.parentNode,n):t.nodeType===1&&tf(t,n),Ls(t)):tf(Ge,n.stateNode));break;case 4:r=Ge,i=sn,Ge=n.stateNode.containerInfo,sn=!0,Gn(t,e,n),Ge=r,sn=i;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Rd(n,e,s),i=i.next}while(i!==r)}Gn(t,e,n);break;case 1:if(!st&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,e,a)}Gn(t,e,n);break;case 21:Gn(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Gn(t,e,n),st=r):Gn(t,e,n);break;default:Gn(t,e,n)}}function Ug(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NT),e.forEach(function(r){var i=zT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ge=a.stateNode,sn=!1;break e;case 3:Ge=a.stateNode.containerInfo,sn=!0;break e;case 4:Ge=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(Ge===null)throw Error(_(160));N1(o,s,i),Ge=null,sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_1(e,t),e=e.sibling}function _1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nn(e,t),kn(t),r&4){try{ws(3,t,t.return),Hu(3,t)}catch(v){xe(t,t.return,v)}try{ws(5,t,t.return)}catch(v){xe(t,t.return,v)}}break;case 1:nn(e,t),kn(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(nn(e,t),kn(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var i=t.stateNode;try{As(i,"")}catch(v){xe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Y0(i,o),ad(a,s);var u=ad(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?nw(i,f):c==="dangerouslySetInnerHTML"?ew(i,f):c==="children"?As(i,f):qh(i,c,f,u)}switch(a){case"input":nd(i,o);break;case"textarea":X0(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?oo(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?oo(i,!!o.multiple,o.defaultValue,!0):oo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vs]=o}catch(v){xe(t,t.return,v)}}break;case 6:if(nn(e,t),kn(t),r&4){if(t.stateNode===null)throw Error(_(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){xe(t,t.return,v)}}break;case 3:if(nn(e,t),kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ls(e.containerInfo)}catch(v){xe(t,t.return,v)}break;case 4:nn(e,t),kn(t);break;case 13:nn(e,t),kn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(bp=_e())),r&4&&Ug(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(st=(u=st)||c,nn(e,t),st=u):nn(e,t),kn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(f=L=c;L!==null;){switch(d=L,h=d.child,d.tag){case 0:case 11:case 14:case 15:ws(4,d,d.return);break;case 1:Yi(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){xe(r,n,v)}}break;case 5:Yi(d,d.return);break;case 22:if(d.memoizedState!==null){Wg(f);continue}}h!==null?(h.return=d,L=h):Wg(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tw("display",s))}catch(v){xe(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){xe(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nn(e,t),kn(t),r&4&&Ug(t);break;case 21:break;default:nn(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(C1(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(As(i,""),r.flags&=-33);var o=qg(t);Fd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=qg(t);Ld(t,a,s);break;default:throw Error(_(161))}}catch(l){xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MT(t,e,n){L=t,M1(t)}function M1(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ba;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||st;a=Ba;var u=st;if(Ba=s,(st=l)&&!u)for(L=i;L!==null;)s=L,l=s.child,s.tag===22&&s.memoizedState!==null?Hg(i):l!==null?(l.return=s,L=l):Hg(i);for(;o!==null;)L=o,M1(o),o=o.sibling;L=i,Ba=a,st=u}Qg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,L=o):Qg(t)}}function Qg(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:on(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&_g(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_g(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ls(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}st||e.flags&512&&Dd(e)}catch(d){xe(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Wg(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Hg(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hu(4,e)}catch(l){xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xe(e,i,l)}}var o=e.return;try{Dd(e)}catch(l){xe(e,o,l)}break;case 5:var s=e.return;try{Dd(e)}catch(l){xe(e,s,l)}}}catch(l){xe(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var IT=Math.ceil,su=Hn.ReactCurrentDispatcher,kp=Hn.ReactCurrentOwner,Jt=Hn.ReactCurrentBatchConfig,ne=0,Ue=null,Ae=null,Ze=0,It=0,Xi=Pr(0),ze=0,Hs=null,ki=0,Ju=0,Sp=0,ks=null,kt=null,bp=0,To=1/0,Rn=null,au=!1,zd=null,vr=null,qa=!1,cr=null,lu=0,Ss=0,jd=null,ml=-1,gl=0;function ht(){return ne&6?_e():ml!==-1?ml:ml=_e()}function wr(t){return t.mode&1?ne&2&&Ze!==0?Ze&-Ze:pT.transition!==null?(gl===0&&(gl=pw()),gl):(t=le,t!==0||(t=window.event,t=t===void 0?16:Sw(t.type)),t):1}function hn(t,e,n,r){if(50<Ss)throw Ss=0,jd=null,Error(_(185));ha(t,n,r),(!(ne&2)||t!==Ue)&&(t===Ue&&(!(ne&2)&&(Ju|=n),ze===4&&sr(t,Ze)),Tt(t,r),n===1&&ne===0&&!(e.mode&1)&&(To=_e()+500,Uu&&Rr()))}function Tt(t,e){var n=t.callbackNode;px(t,e);var r=Ql(t,t===Ue?Ze:0);if(r===0)n!==null&&ng(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ng(n),e===1)t.tag===0?hT(Jg.bind(null,t)):$w(Jg.bind(null,t)),uT(function(){!(ne&6)&&Rr()}),n=null;else{switch(mw(r)){case 1:n=Jh;break;case 4:n=dw;break;case 16:n=Ul;break;case 536870912:n=hw;break;default:n=Ul}n=z1(n,I1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function I1(t,e){if(ml=-1,gl=0,ne&6)throw Error(_(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=Ql(t,t===Ue?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uu(t,r);else{e=r;var i=ne;ne|=2;var o=P1();(Ue!==t||Ze!==e)&&(Rn=null,To=_e()+500,si(t,e));do try{RT();break}catch(a){A1(t,a)}while(!0);ap(),su.current=o,ne=i,Ae!==null?e=0:(Ue=null,Ze=0,e=ze)}if(e!==0){if(e===2&&(i=dd(t),i!==0&&(r=i,e=$d(t,i))),e===1)throw n=Hs,si(t,0),sr(t,r),Tt(t,_e()),n;if(e===6)sr(t,r);else{if(i=t.current.alternate,!(r&30)&&!AT(i)&&(e=uu(t,r),e===2&&(o=dd(t),o!==0&&(r=o,e=$d(t,o))),e===1))throw n=Hs,si(t,0),sr(t,r),Tt(t,_e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_(345));case 2:Qr(t,kt,Rn);break;case 3:if(sr(t,r),(r&130023424)===r&&(e=bp+500-_e(),10<e)){if(Ql(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kd(Qr.bind(null,t,kt,Rn),e);break}Qr(t,kt,Rn);break;case 4:if(sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-dn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IT(r/1960))-r,10<r){t.timeoutHandle=kd(Qr.bind(null,t,kt,Rn),r);break}Qr(t,kt,Rn);break;case 5:Qr(t,kt,Rn);break;default:throw Error(_(329))}}}return Tt(t,_e()),t.callbackNode===n?I1.bind(null,t):null}function $d(t,e){var n=ks;return t.current.memoizedState.isDehydrated&&(si(t,e).flags|=256),t=uu(t,e),t!==2&&(e=kt,kt=n,e!==null&&Vd(e)),t}function Vd(t){kt===null?kt=t:kt.push.apply(kt,t)}function AT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(t,e){for(e&=~Sp,e&=~Ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function Jg(t){if(ne&6)throw Error(_(327));co();var e=Ql(t,0);if(!(e&1))return Tt(t,_e()),null;var n=uu(t,e);if(t.tag!==0&&n===2){var r=dd(t);r!==0&&(e=r,n=$d(t,r))}if(n===1)throw n=Hs,si(t,0),sr(t,e),Tt(t,_e()),n;if(n===6)throw Error(_(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qr(t,kt,Rn),Tt(t,_e()),null}function Ep(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(To=_e()+500,Uu&&Rr())}}function Si(t){cr!==null&&cr.tag===0&&!(ne&6)&&co();var e=ne;ne|=1;var n=Jt.transition,r=le;try{if(Jt.transition=null,le=1,t)return t()}finally{le=r,Jt.transition=n,ne=e,!(ne&6)&&Rr()}}function xp(){It=Xi.current,me(Xi)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lT(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kl();break;case 3:Eo(),me(Et),me(at),hp();break;case 5:dp(r);break;case 4:Eo();break;case 13:me(ve);break;case 19:me(ve);break;case 10:lp(r.type._context);break;case 22:case 23:xp()}n=n.return}if(Ue=t,Ae=t=kr(t.current,null),Ze=It=e,ze=0,Hs=null,Sp=Ju=ki=0,kt=ks=null,Xr!==null){for(e=0;e<Xr.length;e++)if(n=Xr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Xr=null}return t}function A1(t,e){do{var n=Ae;try{if(ap(),dl.current=ou,iu){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}iu=!1}if(wi=0,Ve=Le=ke=null,vs=!1,Us=0,kp.current=null,n===null||n.return===null){ze=1,Hs=e,Ae=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Dg(s);if(h!==null){h.flags&=-257,Lg(h,s,a,o,e),h.mode&1&&Rg(o,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Rg(o,u,e),Tp();break e}l=Error(_(426))}}else if(ge&&a.mode&1){var w=Dg(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Lg(w,s,a,o,e),op(xo(l,a));break e}}o=l=xo(l,a),ze!==4&&(ze=2),ks===null?ks=[o]:ks.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=m1(o,l,e);Ng(o,m);break e;case 1:a=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vr===null||!vr.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=g1(o,a,e);Ng(o,k);break e}}o=o.return}while(o!==null)}D1(n)}catch(S){e=S,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function P1(){var t=su.current;return su.current=ou,t===null?ou:t}function Tp(){(ze===0||ze===3||ze===2)&&(ze=4),Ue===null||!(ki&268435455)&&!(Ju&268435455)||sr(Ue,Ze)}function uu(t,e){var n=ne;ne|=2;var r=P1();(Ue!==t||Ze!==e)&&(Rn=null,si(t,e));do try{PT();break}catch(i){A1(t,i)}while(!0);if(ap(),ne=n,su.current=r,Ae!==null)throw Error(_(261));return Ue=null,Ze=0,ze}function PT(){for(;Ae!==null;)R1(Ae)}function RT(){for(;Ae!==null&&!ox();)R1(Ae)}function R1(t){var e=F1(t.alternate,t,It);t.memoizedProps=t.pendingProps,e===null?D1(t):Ae=e,kp.current=null}function D1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CT(n,e),n!==null){n.flags&=32767,Ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Ae=null;return}}else if(n=OT(n,e,It),n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);ze===0&&(ze=5)}function Qr(t,e,n){var r=le,i=Jt.transition;try{Jt.transition=null,le=1,DT(t,e,n,r)}finally{Jt.transition=i,le=r}return null}function DT(t,e,n,r){do co();while(cr!==null);if(ne&6)throw Error(_(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(mx(t,o),t===Ue&&(Ae=Ue=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qa||(qa=!0,z1(Ul,function(){return co(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jt.transition,Jt.transition=null;var s=le;le=1;var a=ne;ne|=4,kp.current=null,_T(t,n),_1(n,t),tT(vd),Wl=!!yd,vd=yd=null,t.current=n,MT(n),sx(),ne=a,le=s,Jt.transition=o}else t.current=n;if(qa&&(qa=!1,cr=t,lu=i),o=t.pendingLanes,o===0&&(vr=null),ux(n.stateNode),Tt(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(au)throw au=!1,t=zd,zd=null,t;return lu&1&&t.tag!==0&&co(),o=t.pendingLanes,o&1?t===jd?Ss++:(Ss=0,jd=t):Ss=0,Rr(),null}function co(){if(cr!==null){var t=mw(lu),e=Jt.transition,n=le;try{if(Jt.transition=null,le=16>t?16:t,cr===null)var r=!1;else{if(t=cr,cr=null,lu=0,ne&6)throw Error(_(331));var i=ne;for(ne|=4,L=t.current;L!==null;){var o=L,s=o.child;if(L.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:ws(8,c,o)}var f=c.child;if(f!==null)f.return=c,L=f;else for(;L!==null;){c=L;var d=c.sibling,h=c.return;if(O1(c),c===u){L=null;break}if(d!==null){d.return=h,L=d;break}L=h}}}var p=o.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}L=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,L=s;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ws(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,L=m;break e}L=o.return}}var g=t.current;for(L=g;L!==null;){s=L;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,L=y;else e:for(s=g;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hu(9,a)}}catch(S){xe(a,a.return,S)}if(a===s){L=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,L=k;break e}L=a.return}}if(ne=i,Rr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ju,t)}catch{}r=!0}return r}finally{le=n,Jt.transition=e}}return!1}function Gg(t,e,n){e=xo(n,e),e=m1(t,e,1),t=yr(t,e,1),e=ht(),t!==null&&(ha(t,1,e),Tt(t,e))}function xe(t,e,n){if(t.tag===3)Gg(t,t,n);else for(;e!==null;){if(e.tag===3){Gg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vr===null||!vr.has(r))){t=xo(n,t),t=g1(e,t,1),e=yr(e,t,1),t=ht(),e!==null&&(ha(e,1,t),Tt(e,t));break}}e=e.return}}function LT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(Ze&n)===n&&(ze===4||ze===3&&(Ze&130023424)===Ze&&500>_e()-bp?si(t,0):Sp|=n),Tt(t,e)}function L1(t,e){e===0&&(t.mode&1?(e=Pa,Pa<<=1,!(Pa&130023424)&&(Pa=4194304)):e=1);var n=ht();t=Un(t,e),t!==null&&(ha(t,e,n),Tt(t,n))}function FT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L1(t,n)}function zT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(e),L1(t,n)}var F1;F1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)St=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return St=!1,TT(t,e,n);St=!!(t.flags&131072)}else St=!1,ge&&e.flags&1048576&&Vw(e,Zl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pl(t,e),t=e.pendingProps;var i=ko(e,at.current);uo(e,n),i=mp(null,e,r,t,i,n);var o=gp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(o=!0,Yl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cp(e),i.updater=Wu,e.stateNode=i,i._reactInternals=e,Cd(e,r,t,n),e=Md(null,e,r,!0,o,n)):(e.tag=0,ge&&o&&rp(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$T(r),t=on(r,t),i){case 0:e=_d(null,e,r,t,n);break e;case 1:e=jg(null,e,r,t,n);break e;case 11:e=Fg(null,e,r,t,n);break e;case 14:e=zg(null,e,r,on(r.type,t),n);break e}throw Error(_(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),_d(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),jg(t,e,r,i,n);case 3:e:{if(k1(e),t===null)throw Error(_(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Hw(t,e),nu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xo(Error(_(423)),e),e=$g(t,e,r,n,i);break e}else if(r!==i){i=xo(Error(_(424)),e),e=$g(t,e,r,n,i);break e}else for(Rt=gr(e.stateNode.containerInfo.firstChild),Dt=e,ge=!0,an=null,n=Qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===i){e=Qn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return Jw(e),t===null&&xd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,wd(r,i)?s=null:o!==null&&wd(r,o)&&(e.flags|=32),w1(t,e),dt(t,e,s,n),e.child;case 6:return t===null&&xd(e),null;case 13:return S1(t,e,n);case 4:return fp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),Fg(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,he(eu,r._currentValue),r._currentValue=s,o!==null)if(gn(o.value,s)){if(o.children===i.children&&!Et.current){e=Qn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=jn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Td(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(_(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Td(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,uo(e,n),i=Gt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=on(r,e.pendingProps),i=on(r.type,i),zg(t,e,r,i,n);case 15:return y1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:on(r,i),pl(t,e),e.tag=1,xt(r)?(t=!0,Yl(e)):t=!1,uo(e,n),p1(e,r,i),Cd(e,r,i,n),Md(null,e,r,!0,t,n);case 19:return b1(t,e,n);case 22:return v1(t,e,n)}throw Error(_(156,e.tag))};function z1(t,e){return fw(t,e)}function jT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new jT(t,e,n,r)}function Op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $T(t){if(typeof t=="function")return Op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qh)return 11;if(t===Wh)return 14}return 2}function kr(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Op(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bi:return ai(n.children,i,o,e);case Uh:s=8,i|=8;break;case Yf:return t=Ht(12,n,e,i|2),t.elementType=Yf,t.lanes=o,t;case Xf:return t=Ht(13,n,e,i),t.elementType=Xf,t.lanes=o,t;case Zf:return t=Ht(19,n,e,i),t.elementType=Zf,t.lanes=o,t;case J0:return Gu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W0:s=10;break e;case H0:s=9;break e;case Qh:s=11;break e;case Wh:s=14;break e;case Xn:s=16,r=null;break e}throw Error(_(130,t==null?t:typeof t,""))}return e=Ht(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ai(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function Gu(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=J0,t.lanes=n,t.stateNode={isHidden:!1},t}function cf(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function ff(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cp(t,e,n,r,i,o,s,a,l){return t=new VT(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ht(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(o),t}function BT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function j1(t){if(!t)return xr;t=t._reactInternals;e:{if(Ni(t)!==t||t.tag!==1)throw Error(_(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_(171))}if(t.tag===1){var n=t.type;if(xt(n))return jw(t,n,e)}return e}function $1(t,e,n,r,i,o,s,a,l){return t=Cp(n,r,!0,t,i,o,s,a,l),t.context=j1(null),n=t.current,r=ht(),i=wr(n),o=jn(r,i),o.callback=e??null,yr(n,o,i),t.current.lanes=i,ha(t,i,r),Tt(t,r),t}function Ku(t,e,n,r){var i=e.current,o=ht(),s=wr(i);return n=j1(n),e.context===null?e.context=n:e.pendingContext=n,e=jn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yr(i,e,s),t!==null&&(hn(t,i,s,o),fl(t,i,s)),s}function cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Np(t,e){Kg(t,e),(t=t.alternate)&&Kg(t,e)}function qT(){return null}var V1=typeof reportError=="function"?reportError:function(t){console.error(t)};function _p(t){this._internalRoot=t}Yu.prototype.render=_p.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_(409));Ku(t,e,null,null)};Yu.prototype.unmount=_p.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Si(function(){Ku(null,t,null,null)}),e[qn]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var e=vw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&kw(t)}};function Mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function UT(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=cu(s);o.call(u)}}var s=$1(e,r,t,0,null,!1,!1,"",Yg);return t._reactRootContainer=s,t[qn]=s.current,js(t.nodeType===8?t.parentNode:t),Si(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=cu(l);a.call(u)}}var l=Cp(t,0,!1,null,null,!1,!1,"",Yg);return t._reactRootContainer=l,t[qn]=l.current,js(t.nodeType===8?t.parentNode:t),Si(function(){Ku(e,l,n,r)}),l}function Zu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=cu(s);a.call(l)}}Ku(e,s,t,i)}else s=UT(n,e,t,i,r);return cu(s)}gw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ls(e.pendingLanes);n!==0&&(Gh(e,n|1),Tt(e,_e()),!(ne&6)&&(To=_e()+500,Rr()))}break;case 13:Si(function(){var r=Un(t,1);if(r!==null){var i=ht();hn(r,t,1,i)}}),Np(t,1)}};Kh=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=ht();hn(e,t,134217728,n)}Np(t,134217728)}};yw=function(t){if(t.tag===13){var e=wr(t),n=Un(t,e);if(n!==null){var r=ht();hn(n,t,e,r)}Np(t,e)}};vw=function(){return le};ww=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};ud=function(t,e,n){switch(e){case"input":if(nd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qu(r);if(!i)throw Error(_(90));K0(r),nd(r,i)}}}break;case"textarea":X0(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};ow=Ep;sw=Si;var QT={usingClientEntryPoint:!1,Events:[ma,Wi,qu,rw,iw,Ep]},Yo={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WT={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uw(t),t===null?null:t.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{ju=Ua.inject(WT),Cn=Ua}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mp(e))throw Error(_(200));return BT(t,e,null,n)};jt.createRoot=function(t,e){if(!Mp(t))throw Error(_(299));var n=!1,r="",i=V1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cp(t,1,!1,null,null,n,!1,r,i),t[qn]=e.current,js(t.nodeType===8?t.parentNode:t),new _p(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_(188)):(t=Object.keys(t).join(","),Error(_(268,t)));return t=uw(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return Si(t)};jt.hydrate=function(t,e,n){if(!Xu(e))throw Error(_(200));return Zu(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!Mp(t))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=V1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=$1(e,null,t,1,n??null,i,!1,o,s),t[qn]=e.current,js(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yu(e)};jt.render=function(t,e,n){if(!Xu(e))throw Error(_(200));return Zu(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!Xu(t))throw Error(_(40));return t._reactRootContainer?(Si(function(){Zu(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1};jt.unstable_batchedUpdates=Ep;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xu(n))throw Error(_(200));if(t==null||t._reactInternals===void 0)throw Error(_(38));return Zu(t,e,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function B1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B1)}catch(t){console.error(t)}}B1(),B0.exports=jt;var HT=B0.exports,Xg=HT;Gf.createRoot=Xg.createRoot,Gf.hydrateRoot=Xg.hydrateRoot;var JT=Object.defineProperty,GT=(t,e,n)=>e in t?JT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qa=(t,e,n)=>(GT(t,typeof e!="symbol"?e+"":e,n),n);const KT={stringify:t=>t,parse:t=>t},YT={stringify:t=>`${t}`,parse:t=>parseFloat(t)},XT={stringify:t=>t?"true":"false",parse:t=>/^[ty1-9]/i.test(t)},ZT={stringify:t=>t.name,parse:(t,e,n)=>{const r=(()=>{if(typeof window<"u"&&t in window)return window[t];if(typeof global<"u"&&t in global)return global[t]})();return typeof r=="function"?r.bind(n):void 0}},eO={stringify:t=>JSON.stringify(t),parse:t=>JSON.parse(t)},df={string:KT,number:YT,boolean:XT,function:ZT,json:eO};function tO(t){return t.replace(/([a-z0-9])([A-Z])/g,(e,n,r)=>`${n}-${r.toLowerCase()}`)}const Wa=Symbol.for("r2wc.render"),Ha=Symbol.for("r2wc.connected"),Vr=Symbol.for("r2wc.context"),Kn=Symbol.for("r2wc.props");function nO(t,e,n){var r,i,o;e.props||(e.props=t.propTypes?Object.keys(t.propTypes):[]);const s=Array.isArray(e.props)?e.props.slice():Object.keys(e.props),a={},l={},u={};for(const f of s){a[f]=Array.isArray(e.props)?"string":e.props[f];const d=tO(f);l[f]=d,u[d]=f}class c extends HTMLElement{constructor(){super(),Qa(this,r,!0),Qa(this,i),Qa(this,o,{}),Qa(this,"container"),e.shadow?this.container=this.attachShadow({mode:e.shadow}):this.container=this,this[Kn].container=this.container;for(const d of s){const h=l[d],p=this.getAttribute(h),v=a[d],w=v?df[v]:null;w!=null&&w.parse&&p&&(this[Kn][d]=w.parse(p,h,this))}}static get observedAttributes(){return Object.keys(u)}connectedCallback(){this[Ha]=!0,this[Wa]()}disconnectedCallback(){this[Ha]=!1,this[Vr]&&n.unmount(this[Vr]),delete this[Vr]}attributeChangedCallback(d,h,p){const v=u[d],w=a[v],m=w?df[w]:null;v in a&&m!=null&&m.parse&&p&&(this[Kn][v]=m.parse(p,d,this),this[Wa]())}[(r=Ha,i=Vr,o=Kn,Wa)](){this[Ha]&&(this[Vr]?n.update(this[Vr],this[Kn]):this[Vr]=n.mount(this.container,t,this[Kn]))}}for(const f of s){const d=l[f],h=a[f];Object.defineProperty(c.prototype,f,{enumerable:!0,configurable:!0,get(){return this[Kn][f]},set(p){this[Kn][f]=p;const v=h?df[h]:null;if(v!=null&&v.stringify){const w=v.stringify(p,d,this);this.getAttribute(d)!==w&&this.setAttribute(d,w)}else this[Wa]()}})}return c}function rO(t,e,n,r={}){function i(a,l,u){const c=e.createElement(l,u);if("createRoot"in n){const f=n.createRoot(a);return f.render(c),{container:a,root:f,ReactComponent:l}}if("render"in n)return n.render(c,a),{container:a,ReactComponent:l};throw new Error("Invalid ReactDOM instance provided.")}function o({container:a,root:l,ReactComponent:u},c){const f=e.createElement(u,c);if(l){l.render(f);return}if("render"in n){n.render(f,a);return}}function s({container:a,root:l}){if(l){l.unmount();return}if("unmountComponentAtNode"in n){n.unmountComponentAtNode(a);return}}return nO(t,r,{mount:i,unmount:s,update:o})}var q1={exports:{}},ec={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iO=bt,oO=Symbol.for("react.element"),sO=Symbol.for("react.fragment"),aO=Object.prototype.hasOwnProperty,lO=iO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uO={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)aO.call(e,r)&&!uO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oO,type:t,key:o,ref:s,props:i,_owner:lO.current}}ec.Fragment=sO;ec.jsx=U1;ec.jsxs=U1;q1.exports=ec;var H=q1.exports,Bd=function(t,e){return Bd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Bd(t,e)};function An(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Bd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var E=function(){return E=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},E.apply(this,arguments)};function pn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function er(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function tr(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ot(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var hf="Invariant Violation",Zg=Object.setPrototypeOf,cO=Zg===void 0?function(t,e){return t.__proto__=e,t}:Zg,Q1=function(t){An(e,t);function e(n){n===void 0&&(n=hf);var r=t.call(this,typeof n=="number"?hf+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=hf,cO(r,e.prototype),r}return e}(Error);function Jr(t,e){if(!t)throw new Q1(e)}var W1=["debug","log","warn","error","silent"],fO=W1.indexOf("log");function Ja(t){return function(){if(W1.indexOf(t)>=fO){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=Ja("debug"),t.log=Ja("log"),t.warn=Ja("warn"),t.error=Ja("error")})(Jr||(Jr={}));var Ip="3.11.10";function ln(t){try{return t()}catch{}}const qd=ln(function(){return globalThis})||ln(function(){return window})||ln(function(){return self})||ln(function(){return global})||ln(function(){return ln.constructor("return this")()});var ey=new Map;function Ud(t){var e=ey.get(t)||1;return ey.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function H1(t,e){e===void 0&&(e=0);var n=Ud("stringifyForDisplay");return JSON.stringify(t,function(r,i){return i===void 0?n:i},e).split(JSON.stringify(n)).join("<undefined>")}function Ga(t){return function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof e=="number"){var i=e;e=Ap(i),e||(e=Pp(i,n),n=[])}t.apply(void 0,[e].concat(n))}}var B=Object.assign(function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];e||Jr(e,Ap(n,r)||Pp(n,r))},{debug:Ga(Jr.debug),log:Ga(Jr.log),warn:Ga(Jr.warn),error:Ga(Jr.error)});function pt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Q1(Ap(t,e)||Pp(t,e))}var ty=Symbol.for("ApolloErrorMessageHandler_"+Ip);function J1(t){if(typeof t=="string")return t;try{return H1(t,2).slice(0,1e3)}catch{return"<non-serializable>"}}function Ap(t,e){if(e===void 0&&(e=[]),!!t)return qd[ty]&&qd[ty](t,e.map(J1))}function Pp(t,e){if(e===void 0&&(e=[]),!!t)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Ip,message:t,args:e.map(J1)})))}function vl(t,e){if(!!!t)throw new Error(e)}function dO(t){return typeof t=="object"&&t!==null}function hO(t,e){if(!!!t)throw new Error("Unexpected invariant triggered.")}const pO=/\r\n|[\n\r]/g;function Qd(t,e){let n=0,r=1;for(const i of t.body.matchAll(pO)){if(typeof i.index=="number"||hO(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function mO(t){return G1(t.source,Qd(t.source,t.start))}function G1(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,o=t.locationOffset.line-1,s=e.line+o,a=e.line===1?n:0,l=e.column+a,u=`${t.name}:${s}:${l}
`,c=r.split(/\r\n|[\n\r]/g),f=c[i];if(f.length>120){const d=Math.floor(l/80),h=l%80,p=[];for(let v=0;v<f.length;v+=80)p.push(f.slice(v,v+80));return u+ny([[`${s} |`,p[0]],...p.slice(1,d+1).map(v=>["|",v]),["|","^".padStart(h)],["|",p[d+1]]])}return u+ny([[`${s-1} |`,c[i-1]],[`${s} |`,f],["|","^".padStart(l)],[`${s+1} |`,c[i+1]]])}function ny(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function gO(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class Rp extends Error{constructor(e,...n){var r,i,o;const{nodes:s,source:a,positions:l,path:u,originalError:c,extensions:f}=gO(n);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=ry(Array.isArray(s)?s:s?[s]:void 0);const d=ry((r=this.nodes)===null||r===void 0?void 0:r.map(p=>p.loc).filter(p=>p!=null));this.source=a??(d==null||(i=d[0])===null||i===void 0?void 0:i.source),this.positions=l??(d==null?void 0:d.map(p=>p.start)),this.locations=l&&a?l.map(p=>Qd(a,p)):d==null?void 0:d.map(p=>Qd(p.source,p.start));const h=dO(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(o=f??h)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Rp):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+mO(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+G1(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function ry(t){return t===void 0||t.length===0?void 0:t}function Be(t,e,n){return new Rp(`Syntax Error: ${n}`,{source:t,positions:[e]})}class yO{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}let K1=class{constructor(e,n,r,i,o,s){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}};const Y1={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},vO=new Set(Object.keys(Y1));function iy(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&vO.has(e)}var Zi;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(Zi||(Zi={}));var Wd;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(Wd||(Wd={}));var F;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(F||(F={}));function Hd(t){return t===9||t===32}function Js(t){return t>=48&&t<=57}function X1(t){return t>=97&&t<=122||t>=65&&t<=90}function Z1(t){return X1(t)||t===95}function wO(t){return X1(t)||Js(t)||t===95}function kO(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<t.length;++s){var o;const a=t[s],l=SO(a);l!==a.length&&(r=(o=r)!==null&&o!==void 0?o:s,i=s,s!==0&&l<n&&(n=l))}return t.map((s,a)=>a===0?s:s.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function SO(t){let e=0;for(;e<t.length&&Hd(t.charCodeAt(e));)++e;return e}function bO(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,o=r.length>1&&r.slice(1).every(h=>h.length===0||Hd(h.charCodeAt(0))),s=n.endsWith('\\"""'),a=t.endsWith('"')&&!s,l=t.endsWith("\\"),u=a||l,c=!i||t.length>70||u||o||s;let f="";const d=i&&Hd(t.charCodeAt(0));return(c&&!d||o)&&(f+=`
`),f+=n,(c||u)&&(f+=`
`),'"""'+f+'"""'}var C;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(C||(C={}));class EO{constructor(e){const n=new K1(C.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==C.EOF)do if(e.next)e=e.next;else{const n=TO(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===C.COMMENT);return e}}function xO(t){return t===C.BANG||t===C.DOLLAR||t===C.AMP||t===C.PAREN_L||t===C.PAREN_R||t===C.SPREAD||t===C.COLON||t===C.EQUALS||t===C.AT||t===C.BRACKET_L||t===C.BRACKET_R||t===C.BRACE_L||t===C.PIPE||t===C.BRACE_R}function zo(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function tc(t,e){return ek(t.charCodeAt(e))&&tk(t.charCodeAt(e+1))}function ek(t){return t>=55296&&t<=56319}function tk(t){return t>=56320&&t<=57343}function bi(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return C.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Me(t,e,n,r,i){const o=t.line,s=1+n-t.lineStart;return new K1(e,n,r,o,s,i)}function TO(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const o=n.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return OO(t,i);case 33:return Me(t,C.BANG,i,i+1);case 36:return Me(t,C.DOLLAR,i,i+1);case 38:return Me(t,C.AMP,i,i+1);case 40:return Me(t,C.PAREN_L,i,i+1);case 41:return Me(t,C.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return Me(t,C.SPREAD,i,i+3);break;case 58:return Me(t,C.COLON,i,i+1);case 61:return Me(t,C.EQUALS,i,i+1);case 64:return Me(t,C.AT,i,i+1);case 91:return Me(t,C.BRACKET_L,i,i+1);case 93:return Me(t,C.BRACKET_R,i,i+1);case 123:return Me(t,C.BRACE_L,i,i+1);case 124:return Me(t,C.PIPE,i,i+1);case 125:return Me(t,C.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?AO(t,i):NO(t,i)}if(Js(o)||o===45)return CO(t,i,o);if(Z1(o))return PO(t,i);throw Be(t.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:zo(o)||tc(n,i)?`Unexpected character: ${bi(t,i)}.`:`Invalid character: ${bi(t,i)}.`)}return Me(t,C.EOF,r,r)}function OO(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const o=n.charCodeAt(i);if(o===10||o===13)break;if(zo(o))++i;else if(tc(n,i))i+=2;else break}return Me(t,C.COMMENT,e,i,n.slice(e+1,i))}function CO(t,e,n){const r=t.source.body;let i=e,o=n,s=!1;if(o===45&&(o=r.charCodeAt(++i)),o===48){if(o=r.charCodeAt(++i),Js(o))throw Be(t.source,i,`Invalid number, unexpected digit after 0: ${bi(t,i)}.`)}else i=pf(t,i,o),o=r.charCodeAt(i);if(o===46&&(s=!0,o=r.charCodeAt(++i),i=pf(t,i,o),o=r.charCodeAt(i)),(o===69||o===101)&&(s=!0,o=r.charCodeAt(++i),(o===43||o===45)&&(o=r.charCodeAt(++i)),i=pf(t,i,o),o=r.charCodeAt(i)),o===46||Z1(o))throw Be(t.source,i,`Invalid number, expected digit but got: ${bi(t,i)}.`);return Me(t,s?C.FLOAT:C.INT,e,i,r.slice(e,i))}function pf(t,e,n){if(!Js(n))throw Be(t.source,e,`Invalid number, expected digit but got: ${bi(t,e)}.`);const r=t.source.body;let i=e+1;for(;Js(r.charCodeAt(i));)++i;return i}function NO(t,e){const n=t.source.body,r=n.length;let i=e+1,o=i,s="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return s+=n.slice(o,i),Me(t,C.STRING,e,i+1,s);if(a===92){s+=n.slice(o,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?_O(t,i):MO(t,i):IO(t,i);s+=l.value,i+=l.size,o=i;continue}if(a===10||a===13)break;if(zo(a))++i;else if(tc(n,i))i+=2;else throw Be(t.source,i,`Invalid character within String: ${bi(t,i)}.`)}throw Be(t.source,i,"Unterminated string.")}function _O(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const o=n.charCodeAt(e+i++);if(o===125){if(i<5||!zo(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|cs(o),r<0)break}throw Be(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function MO(t,e){const n=t.source.body,r=oy(n,e+2);if(zo(r))return{value:String.fromCodePoint(r),size:6};if(ek(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=oy(n,e+8);if(tk(i))return{value:String.fromCodePoint(r,i),size:12}}throw Be(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function oy(t,e){return cs(t.charCodeAt(e))<<12|cs(t.charCodeAt(e+1))<<8|cs(t.charCodeAt(e+2))<<4|cs(t.charCodeAt(e+3))}function cs(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function IO(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Be(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function AO(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,o=e+3,s=o,a="";const l=[];for(;o<r;){const u=n.charCodeAt(o);if(u===34&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34){a+=n.slice(s,o),l.push(a);const c=Me(t,C.BLOCK_STRING,e,o+3,kO(l).join(`
`));return t.line+=l.length-1,t.lineStart=i,c}if(u===92&&n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34&&n.charCodeAt(o+3)===34){a+=n.slice(s,o),s=o+1,o+=4;continue}if(u===10||u===13){a+=n.slice(s,o),l.push(a),u===13&&n.charCodeAt(o+1)===10?o+=2:++o,a="",s=o,i=o;continue}if(zo(u))++o;else if(tc(n,o))o+=2;else throw Be(t.source,o,`Invalid character within String: ${bi(t,o)}.`)}throw Be(t.source,o,"Unterminated string.")}function PO(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const o=n.charCodeAt(i);if(wO(o))++i;else break}return Me(t,C.NAME,e,i,n.slice(e,i))}const RO=10,nk=2;function Dp(t){return nc(t,[])}function nc(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return DO(t,e);default:return String(t)}}function DO(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(LO(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:nc(r,n)}else if(Array.isArray(t))return zO(t,n);return FO(t,n)}function LO(t){return typeof t.toJSON=="function"}function FO(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>nk?"["+jO(t)+"]":"{ "+n.map(([i,o])=>i+": "+nc(o,e)).join(", ")+" }"}function zO(t,e){if(t.length===0)return"[]";if(e.length>nk)return"[Array]";const n=Math.min(RO,t.length),r=t.length-n,i=[];for(let o=0;o<n;++o)i.push(nc(t[o],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function jO(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const $O=globalThis.process&&!0,VO=$O?function(e,n){return e instanceof n}:function(e,n){if(e instanceof n)return!0;if(typeof e=="object"&&e!==null){var r;const i=n.prototype[Symbol.toStringTag],o=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(i===o){const s=Dp(e);throw new Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class rk{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||vl(!1,`Body must be a string. Received: ${Dp(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||vl(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||vl(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function BO(t){return VO(t,rk)}function qO(t,e){return new UO(t,e).parseDocument()}let UO=class{constructor(e,n={}){const r=BO(e)?e:new rk(e);this._lexer=new EO(r),this._options=n,this._tokenCounter=0}parseName(){const e=this.expectToken(C.NAME);return this.node(e,{kind:F.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:F.DOCUMENT,definitions:this.many(C.SOF,this.parseDefinition,C.EOF)})}parseDefinition(){if(this.peek(C.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===C.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Be(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(C.BRACE_L))return this.node(e,{kind:F.OPERATION_DEFINITION,operation:Zi.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(C.NAME)&&(r=this.parseName()),this.node(e,{kind:F.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(C.NAME);switch(e.value){case"query":return Zi.QUERY;case"mutation":return Zi.MUTATION;case"subscription":return Zi.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(C.PAREN_L,this.parseVariableDefinition,C.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:F.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(C.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(C.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(C.DOLLAR),this.node(e,{kind:F.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:F.SELECTION_SET,selections:this.many(C.BRACE_L,this.parseSelection,C.BRACE_R)})}parseSelection(){return this.peek(C.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(C.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:F.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(C.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(C.PAREN_L,n,C.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(C.COLON),this.node(n,{kind:F.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(C.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(C.NAME)?this.node(e,{kind:F.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:F.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:F.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:F.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case C.BRACKET_L:return this.parseList(e);case C.BRACE_L:return this.parseObject(e);case C.INT:return this.advanceLexer(),this.node(n,{kind:F.INT,value:n.value});case C.FLOAT:return this.advanceLexer(),this.node(n,{kind:F.FLOAT,value:n.value});case C.STRING:case C.BLOCK_STRING:return this.parseStringLiteral();case C.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:F.BOOLEAN,value:!0});case"false":return this.node(n,{kind:F.BOOLEAN,value:!1});case"null":return this.node(n,{kind:F.NULL});default:return this.node(n,{kind:F.ENUM,value:n.value})}case C.DOLLAR:if(e)if(this.expectToken(C.DOLLAR),this._lexer.token.kind===C.NAME){const r=this._lexer.token.value;throw Be(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:F.STRING,value:e.value,block:e.kind===C.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:F.LIST,values:this.any(C.BRACKET_L,n,C.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:F.OBJECT,fields:this.any(C.BRACE_L,n,C.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(C.COLON),this.node(n,{kind:F.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(C.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(C.AT),this.node(n,{kind:F.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(C.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(C.BRACKET_R),n=this.node(e,{kind:F.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(C.BANG)?this.node(e,{kind:F.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:F.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(C.STRING)||this.peek(C.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(C.BRACE_L,this.parseOperationTypeDefinition,C.BRACE_R);return this.node(e,{kind:F.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(C.COLON);const r=this.parseNamedType();return this.node(e,{kind:F.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:F.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:F.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(C.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(C.BRACE_L,this.parseFieldDefinition,C.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(C.COLON);const o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:F.FIELD_DEFINITION,description:n,name:r,arguments:i,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(C.PAREN_L,this.parseInputValueDef,C.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(C.COLON);const i=this.parseTypeReference();let o;this.expectOptionalToken(C.EQUALS)&&(o=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(e,{kind:F.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:F.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:o,fields:s})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:F.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(C.EQUALS)?this.delimitedMany(C.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:F.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(C.BRACE_L,this.parseEnumValueDefinition,C.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:F.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Be(this._lexer.source,this._lexer.token.start,`${Ka(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:F.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(C.BRACE_L,this.parseInputValueDef,C.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===C.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(C.BRACE_L,this.parseOperationTypeDefinition,C.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:F.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:F.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:F.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:F.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:F.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:F.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:F.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(C.AT);const r=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(e,{kind:F.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(C.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(Wd,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new yO(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw Be(this._lexer.source,n.start,`Expected ${ik(e)}, found ${Ka(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===C.NAME&&n.value===e)this.advanceLexer();else throw Be(this._lexer.source,n.start,`Expected "${e}", found ${Ka(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===C.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return Be(this._lexer.source,n.start,`Unexpected ${Ka(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(e!==void 0&&n.kind!==C.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw Be(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function Ka(t){const e=t.value;return ik(t.kind)+(e!=null?` "${e}"`:"")}function ik(t){return xO(t)?`"${t}"`:t}function QO(t){return`"${t.replace(WO,HO)}"`}const WO=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function HO(t){return JO[t.charCodeAt(0)]}const JO=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Lp=Object.freeze({});function Wn(t,e,n=Y1){const r=new Map;for(const m of Object.values(F))r.set(m,GO(e,m));let i,o=Array.isArray(t),s=[t],a=-1,l=[],u=t,c,f;const d=[],h=[];do{a++;const m=a===s.length,g=m&&l.length!==0;if(m){if(c=h.length===0?void 0:d[d.length-1],u=f,f=h.pop(),g)if(o){u=u.slice();let k=0;for(const[S,b]of l){const x=S-k;b===null?(u.splice(x,1),k++):u[x]=b}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[k,S]of l)u[k]=S}a=i.index,s=i.keys,l=i.edits,o=i.inArray,i=i.prev}else if(f){if(c=o?a:s[a],u=f[c],u==null)continue;d.push(c)}let y;if(!Array.isArray(u)){var p,v;iy(u)||vl(!1,`Invalid AST Node: ${Dp(u)}.`);const k=m?(p=r.get(u.kind))===null||p===void 0?void 0:p.leave:(v=r.get(u.kind))===null||v===void 0?void 0:v.enter;if(y=k==null?void 0:k.call(e,u,c,f,d,h),y===Lp)break;if(y===!1){if(!m){d.pop();continue}}else if(y!==void 0&&(l.push([c,y]),!m))if(iy(y))u=y;else{d.pop();continue}}if(y===void 0&&g&&l.push([c,u]),m)d.pop();else{var w;i={inArray:o,index:a,keys:s,edits:l,prev:i},o=Array.isArray(u),s=o?u:(w=n[u.kind])!==null&&w!==void 0?w:[],a=-1,l=[],f&&h.push(f),f=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function GO(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function KO(t){return Wn(t,XO)}const YO=80,XO={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>z(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Z("(",z(t.variableDefinitions,", "),")"),n=z([t.operation,z([t.name,e]),z(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+Z(" = ",n)+Z(" ",z(r," "))},SelectionSet:{leave:({selections:t})=>rn(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const o=Z("",t,": ")+e;let s=o+Z("(",z(n,", "),")");return s.length>YO&&(s=o+Z(`(
`,wl(z(n,`
`)),`
)`)),z([s,z(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Z(" ",z(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>z(["...",Z("on ",t),z(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${Z("(",z(n,", "),")")} on ${e} ${Z("",z(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?bO(t):QO(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+z(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+z(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Z("(",z(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>Z("",t,`
`)+z(["schema",z(e," "),rn(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>Z("",t,`
`)+z(["scalar",e,z(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Z("",t,`
`)+z(["type",e,Z("implements ",z(n," & ")),z(r," "),rn(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>Z("",t,`
`)+e+(sy(n)?Z(`(
`,wl(z(n,`
`)),`
)`):Z("(",z(n,", "),")"))+": "+r+Z(" ",z(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>Z("",t,`
`)+z([e+": "+n,Z("= ",r),z(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>Z("",t,`
`)+z(["interface",e,Z("implements ",z(n," & ")),z(r," "),rn(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>Z("",t,`
`)+z(["union",e,z(n," "),Z("= ",z(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>Z("",t,`
`)+z(["enum",e,z(n," "),rn(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>Z("",t,`
`)+z([e,z(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>Z("",t,`
`)+z(["input",e,z(n," "),rn(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>Z("",t,`
`)+"directive @"+e+(sy(n)?Z(`(
`,wl(z(n,`
`)),`
)`):Z("(",z(n,", "),")"))+(r?" repeatable":"")+" on "+z(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>z(["extend schema",z(t," "),rn(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>z(["extend scalar",t,z(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>z(["extend type",t,Z("implements ",z(e," & ")),z(n," "),rn(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>z(["extend interface",t,Z("implements ",z(e," & ")),z(n," "),rn(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>z(["extend union",t,z(e," "),Z("= ",z(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>z(["extend enum",t,z(e," "),rn(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>z(["extend input",t,z(e," "),rn(n)]," ")}};function z(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function rn(t){return Z(`{
`,wl(z(t,`
`)),`
}`)}function Z(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function wl(t){return Z("  ",t.replace(/\n/g,`
  `))}function sy(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}function ay(t){return t.kind===F.FIELD||t.kind===F.FRAGMENT_SPREAD||t.kind===F.INLINE_FRAGMENT}function ya(t,e){var n=t.directives;return!n||!n.length?!0:tC(n).every(function(r){var i=r.directive,o=r.ifArgument,s=!1;return o.value.kind==="Variable"?(s=e&&e[o.value.name.value],B(s!==void 0,70,i.name.value)):s=o.value.value,i.name.value==="skip"?!s:s})}function Gs(t,e,n){var r=new Set(t),i=r.size;return Wn(e,{Directive:function(o){if(r.delete(o.name.value)&&(!n||!r.size))return Lp}}),n?!r.size:r.size<i}function ZO(t){return t&&Gs(["client","export"],t,!0)}function eC(t){var e=t.name.value;return e==="skip"||e==="include"}function tC(t){var e=[];return t&&t.length&&t.forEach(function(n){if(eC(n)){var r=n.arguments,i=n.name.value;B(r&&r.length===1,71,i);var o=r[0];B(o.name&&o.name.value==="if",72,i);var s=o.value;B(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),73,i),e.push({directive:n,ifArgument:o})}}),e}const nC=()=>Object.create(null),{forEach:rC,slice:ly}=Array.prototype,{hasOwnProperty:iC}=Object.prototype;let jo=class ok{constructor(e=!0,n=nC){this.weakness=e,this.makeData=n}lookup(){return this.lookupArray(arguments)}lookupArray(e){let n=this;return rC.call(e,r=>n=n.getChildTrie(r)),iC.call(n,"data")?n.data:n.data=this.makeData(ly.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let n=this;for(let r=0,i=e.length;n&&r<i;++r){const o=n.mapFor(e[r],!1);n=o&&o.get(e[r])}return n&&n.data}remove(){return this.removeArray(arguments)}removeArray(e){let n;if(e.length){const r=e[0],i=this.mapFor(r,!1),o=i&&i.get(r);o&&(n=o.removeArray(ly.call(e,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&i.delete(r))}else n=this.data,delete this.data;return n}getChildTrie(e){const n=this.mapFor(e,!0);let r=n.get(e);return r||n.set(e,r=new ok(this.weakness,this.makeData)),r}mapFor(e,n){return this.weakness&&oC(e)?this.weak||(n?this.weak=new WeakMap:void 0):this.strong||(n?this.strong=new Map:void 0)}};function oC(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var sk=ln(function(){return navigator.product})=="ReactNative",$o=typeof WeakMap=="function"&&!(sk&&!global.HermesInternal),ak=typeof WeakSet=="function",Fp=typeof Symbol=="function"&&typeof Symbol.for=="function",rc=Fp&&Symbol.asyncIterator,sC=typeof ln(function(){return window.document.createElement})=="function",aC=ln(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,lC=(sC||sk)&&!aC;function Oe(t){return t!==null&&typeof t=="object"}function uC(t,e){var n=e,r=[];t.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw pt(74,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&r.push(o)}),typeof n>"u"&&(B(r.length===1,75,r.length),n=r[0].name.value);var i=E(E({},t),{definitions:Ot([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return i}function ic(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function oc(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return B(r,76,n),r||null}default:return null}}function cC(){}class Jd{constructor(e=1/0,n=cC){this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const n=this.getNode(e);return n&&n.value}get size(){return this.map.size}getNode(e){const n=this.map.get(e);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(e,n){let r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1}}function Gd(){}const fC=Gd,dC=typeof WeakRef<"u"?WeakRef:function(t){return{deref:()=>t}},hC=typeof WeakMap<"u"?WeakMap:Map,pC=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:Gd,unregister:Gd}},mC=10024;class fu{constructor(e=1/0,n=fC){this.max=e,this.dispose=n,this.map=new hC,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const r=this.unfinalizedNodes.values();for(let i=0;i<mC;i++){const o=r.next().value;if(!o)break;this.unfinalizedNodes.delete(o);const s=o.key;delete o.key,o.keyRef=new dC(s),this.registry.register(s,o,o)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new pC(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const n=this.getNode(e);return n&&n.value}getNode(e){const n=this.map.get(e);if(n&&n!==this.newest){const{older:r,newer:i}=n;i&&(i.older=r),r&&(r.newer=i),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=i)}return n}set(e,n){let r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const n=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,n),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),n&&this.map.delete(n)}delete(e){const n=this.map.get(e);return n?(this.deleteNode(n),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var mf=new WeakSet;function lk(t){t.size<=(t.max||-1)||mf.has(t)||(mf.add(t),setTimeout(function(){t.clean(),mf.delete(t)},100))}var zp=function(t,e){var n=new fu(t,e);return n.set=function(r,i){var o=fu.prototype.set.call(this,r,i);return lk(this),o},n},gC=function(t,e){var n=new Jd(t,e);return n.set=function(r,i){var o=Jd.prototype.set.call(this,r,i);return lk(this),o},n},yC=Symbol.for("apollo.cacheSize"),Mn=E({},qd[yC]),Wr={};function jp(t,e){Wr[t]=e}var vC=globalThis.__DEV__!==!1?bC:void 0,wC=globalThis.__DEV__!==!1?EC:void 0,kC=globalThis.__DEV__!==!1?uk:void 0;function SC(){var t={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(t).map(function(e){var n=e[0],r=e[1];return[n,Mn[n]||r]}))}function bC(){var t,e,n,r,i;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:SC(),sizes:E({print:(t=Wr.print)===null||t===void 0?void 0:t.call(Wr),parser:(e=Wr.parser)===null||e===void 0?void 0:e.call(Wr),canonicalStringify:(n=Wr.canonicalStringify)===null||n===void 0?void 0:n.call(Wr),links:Yd(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:fk(this.queryManager.documentTransform)}},(i=(r=this.cache).getMemoryInternals)===null||i===void 0?void 0:i.call(r))}}function uk(){return{cache:{fragmentQueryDocuments:nr(this.getFragmentDoc)}}}function EC(){var t=this.config.fragments;return E(E({},uk.apply(this)),{addTypenameDocumentTransform:fk(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:nr(this.storeReader.executeSelectionSet),executeSubSelectedArray:nr(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:nr(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:nr(t==null?void 0:t.findFragmentSpreads),lookup:nr(t==null?void 0:t.lookup),transform:nr(t==null?void 0:t.transform)}})}function xC(t){return!!t&&"dirtyKey"in t}function nr(t){return xC(t)?t.size:void 0}function ck(t){return t!=null}function fk(t){return Kd(t).map(function(e){return{cache:e}})}function Kd(t){return t?Ot(Ot([nr(t==null?void 0:t.performWork)],Kd(t==null?void 0:t.left),!0),Kd(t==null?void 0:t.right),!0).filter(ck):[]}function Yd(t){var e;return t?Ot(Ot([(e=t==null?void 0:t.getMemoryInternals)===null||e===void 0?void 0:e.call(t)],Yd(t==null?void 0:t.left),!0),Yd(t==null?void 0:t.right),!0).filter(ck):[]}var Sr=Object.assign(function(e){return JSON.stringify(e,TC)},{reset:function(){eo=new gC(Mn.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&jp("canonicalStringify",function(){return eo.size});var eo;Sr.reset();function TC(t,e){if(e&&typeof e=="object"){var n=Object.getPrototypeOf(e);if(n===Object.prototype||n===null){var r=Object.keys(e);if(r.every(OC))return e;var i=JSON.stringify(r),o=eo.get(i);if(!o){r.sort();var s=JSON.stringify(r);o=eo.get(s)||r,eo.set(i,o),eo.set(s,o)}var a=Object.create(n);return o.forEach(function(l){a[l]=e[l]}),a}}return e}function OC(t,e,n){return e===0||n[e-1]<=t}function fo(t){return{__ref:String(t)}}function ae(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function CC(t){return Oe(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function NC(t){return t.kind==="StringValue"}function _C(t){return t.kind==="BooleanValue"}function MC(t){return t.kind==="IntValue"}function IC(t){return t.kind==="FloatValue"}function AC(t){return t.kind==="Variable"}function PC(t){return t.kind==="ObjectValue"}function RC(t){return t.kind==="ListValue"}function DC(t){return t.kind==="EnumValue"}function LC(t){return t.kind==="NullValue"}function Oo(t,e,n,r){if(MC(n)||IC(n))t[e.value]=Number(n.value);else if(_C(n)||NC(n))t[e.value]=n.value;else if(PC(n)){var i={};n.fields.map(function(s){return Oo(i,s.name,s.value,r)}),t[e.value]=i}else if(AC(n)){var o=(r||{})[n.name.value];t[e.value]=o}else if(RC(n))t[e.value]=n.values.map(function(s){var a={};return Oo(a,e,s,r),a[e.value]});else if(DC(n))t[e.value]=n.value;else if(LC(n))t[e.value]=null;else throw pt(85,e.value,n.kind)}function FC(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(i){n[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var s=o.name,a=o.value;return Oo(n[i.name.value],s,a,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(i){var o=i.name,s=i.value;return Oo(r,o,s,e)})),dk(t.name.value,r,n)}var zC=["connection","include","skip","client","rest","export","nonreactive"],Xo=Sr,dk=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(n.connection.key,"(").concat(Xo(i),")")}else return n.connection.key;var o=t;if(e){var s=Xo(e);o+="(".concat(s,")")}return n&&Object.keys(n).forEach(function(a){zC.indexOf(a)===-1&&(n[a]&&Object.keys(n[a]).length?o+="@".concat(a,"(").concat(Xo(n[a]),")"):o+="@".concat(a))}),o},{setStringify:function(t){var e=Xo;return Xo=t,e}});function sc(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var i=r.name,o=r.value;return Oo(n,i,o,e)}),n}return null}function Tr(t){return t.alias?t.alias.value:t.name.value}function Xd(t,e,n){for(var r,i=0,o=e.selections;i<o.length;i++){var s=o[i];if(Or(s)){if(s.name.value==="__typename")return t[Tr(s)]}else r?r.push(s):r=[s]}if(typeof t.__typename=="string")return t.__typename;if(r)for(var a=0,l=r;a<l.length;a++){var s=l[a],u=Xd(t,oc(s,n).selectionSet,n);if(typeof u=="string")return u}}function Or(t){return t.kind==="Field"}function jC(t){return t.kind==="InlineFragment"}function va(t){B(t&&t.kind==="Document",77);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw pt(78,n.kind);return n});return B(e.length<=1,79,e.length),t}function wa(t){return va(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Zd(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function ac(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function hk(t){var e=wa(t);return B(e&&e.operation==="query",80),e}function $C(t){B(t.kind==="Document",81),B(t.definitions.length<=1,82);var e=t.definitions[0];return B(e.kind==="FragmentDefinition",83),e}function ka(t){va(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var i=r[n];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw pt(84)}function $p(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&Oo(e,r.variable.name,r.defaultValue)}),e}const VC=()=>Object.create(null),{forEach:BC,slice:qC}=Array.prototype,{hasOwnProperty:UC}=Object.prototype;class Vp{constructor(e=!0,n=VC){this.weakness=e,this.makeData=n}lookup(...e){return this.lookupArray(e)}lookupArray(e){let n=this;return BC.call(e,r=>n=n.getChildTrie(r)),UC.call(n,"data")?n.data:n.data=this.makeData(qC.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let n=this;for(let r=0,i=e.length;n&&r<i;++r){const o=this.weakness&&uy(e[r])?n.weak:n.strong;n=o&&o.get(e[r])}return n&&n.data}getChildTrie(e){const n=this.weakness&&uy(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let r=n.get(e);return r||n.set(e,r=new Vp(this.weakness,this.makeData)),r}}function uy(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}let Je=null;const cy={};let QC=1;const WC=()=>class{constructor(){this.id=["slot",QC++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Je;e;e=e.parent)if(this.id in e.slots){const n=e.slots[this.id];if(n===cy)break;return e!==Je&&(Je.slots[this.id]=n),!0}return Je&&(Je.slots[this.id]=cy),!1}getValue(){if(this.hasValue())return Je.slots[this.id]}withValue(e,n,r,i){const o={__proto__:null,[this.id]:e},s=Je;Je={parent:s,slots:o};try{return n.apply(i,r)}finally{Je=s}}static bind(e){const n=Je;return function(){const r=Je;try{return Je=n,e.apply(this,arguments)}finally{Je=r}}}static noContext(e,n,r){if(Je){const i=Je;try{return Je=null,e.apply(r,n)}finally{Je=i}}else return e.apply(r,n)}};function fy(t){try{return t()}catch{}}const gf="@wry/context:Slot",HC=fy(()=>globalThis)||fy(()=>global)||Object.create(null),dy=HC,pk=dy[gf]||Array[gf]||function(t){try{Object.defineProperty(dy,gf,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(WC()),lc=new pk,{hasOwnProperty:JC}=Object.prototype,Bp=Array.from||function(t){const e=[];return t.forEach(n=>e.push(n)),e};function qp(t){const{unsubscribe:e}=t;typeof e=="function"&&(t.unsubscribe=void 0,e())}const Ks=[],GC=100;function Co(t,e){if(!t)throw new Error(e||"assertion failure")}function mk(t,e){const n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function gk(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function yk(t){return t.slice(0)}class uc{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++uc.count}peek(){if(this.value.length===1&&!Cr(this))return hy(this),this.value[0]}recompute(e){return Co(!this.recomputing,"already recomputing"),hy(this),Cr(this)?KC(this,e):gk(this.value)}setDirty(){this.dirty||(this.dirty=!0,vk(this),qp(this))}dispose(){this.setDirty(),Ek(this),Up(this,(e,n)=>{e.setDirty(),xk(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Ks.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(Bp(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),Ks.push(this.deps),this.deps=null)}}uc.count=0;function hy(t){const e=lc.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),Cr(t)?kk(e,t):Sk(e,t),e}function KC(t,e){return Ek(t),lc.withValue(t,YC,[t,e]),ZC(t,e)&&XC(t),gk(t.value)}function YC(t,e){t.recomputing=!0;const{normalizeResult:n}=t;let r;n&&t.value.length===1&&(r=yk(t.value)),t.value.length=0;try{if(t.value[0]=t.fn.apply(null,e),n&&r&&!mk(r,t.value))try{t.value[0]=n(t.value[0],r[0])}catch{}}catch(i){t.value[1]=i}t.recomputing=!1}function Cr(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function XC(t){t.dirty=!1,!Cr(t)&&wk(t)}function vk(t){Up(t,kk)}function wk(t){Up(t,Sk)}function Up(t,e){const n=t.parents.size;if(n){const r=Bp(t.parents);for(let i=0;i<n;++i)e(r[i],t)}}function kk(t,e){Co(t.childValues.has(e)),Co(Cr(e));const n=!Cr(t);if(!t.dirtyChildren)t.dirtyChildren=Ks.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&vk(t)}function Sk(t,e){Co(t.childValues.has(e)),Co(!Cr(e));const n=t.childValues.get(e);n.length===0?t.childValues.set(e,yk(e.value)):mk(n,e.value)||t.setDirty(),bk(t,e),!Cr(t)&&wk(t)}function bk(t,e){const n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&(Ks.length<GC&&Ks.push(n),t.dirtyChildren=null))}function Ek(t){t.childValues.size>0&&t.childValues.forEach((e,n)=>{xk(t,n)}),t.forgetDeps(),Co(t.dirtyChildren===null)}function xk(t,e){e.parents.delete(t),t.childValues.delete(e),bk(t,e)}function ZC(t,e){if(typeof t.subscribe=="function")try{qp(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}const eN={setDirty:!0,dispose:!0,forget:!0};function Tk(t){const e=new Map;function n(r){const i=lc.getValue();if(i){let o=e.get(r);o||e.set(r,o=new Set),i.dependOn(o)}}return n.dirty=function(i,o){const s=e.get(i);if(s){const a=o&&JC.call(eN,o)?o:"setDirty";Bp(s).forEach(l=>l[a]()),e.delete(i),qp(s)}},n}let py;function tN(...t){return(py||(py=new Vp(typeof WeakMap=="function"))).lookupArray(t)}const yf=new Set;function Ys(t,{max:e=Math.pow(2,16),keyArgs:n,makeCacheKey:r=tN,normalizeResult:i,subscribe:o,cache:s=Jd}=Object.create(null)){const a=typeof s=="function"?new s(e,d=>d.dispose()):s,l=function(){const d=r.apply(null,n?n.apply(null,arguments):arguments);if(d===void 0)return t.apply(null,arguments);let h=a.get(d);h||(a.set(d,h=new uc(t)),h.normalizeResult=i,h.subscribe=o,h.forget=()=>a.delete(d));const p=h.recompute(Array.prototype.slice.call(arguments));return a.set(d,h),yf.add(a),lc.hasValue()||(yf.forEach(v=>v.clean()),yf.clear()),p};Object.defineProperty(l,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:e,keyArgs:n,makeCacheKey:r,normalizeResult:i,subscribe:o,cache:a});function u(d){const h=d&&a.get(d);h&&h.setDirty()}l.dirtyKey=u,l.dirty=function(){u(r.apply(null,arguments))};function c(d){const h=d&&a.get(d);if(h)return h.peek()}l.peekKey=c,l.peek=function(){return c(r.apply(null,arguments))};function f(d){return d?a.delete(d):!1}return l.forgetKey=f,l.forget=function(){return f(r.apply(null,arguments))},l.makeCacheKey=r,l.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(l)}function nN(t){return t}var Ok=function(){function t(e,n){n===void 0&&(n=Object.create(null)),this.resultCache=ak?new WeakSet:new Set,this.transform=e,n.getCacheKey&&(this.getCacheKey=n.getCacheKey),this.cached=n.cache!==!1,this.resetCache()}return t.prototype.getCacheKey=function(e){return[e]},t.identity=function(){return new t(nN,{cache:!1})},t.split=function(e,n,r){return r===void 0&&(r=t.identity()),Object.assign(new t(function(i){var o=e(i)?n:r;return o.transformDocument(i)},{cache:!1}),{left:n,right:r})},t.prototype.resetCache=function(){var e=this;if(this.cached){var n=new jo($o);this.performWork=Ys(t.prototype.performWork.bind(this),{makeCacheKey:function(r){var i=e.getCacheKey(r);if(i)return B(Array.isArray(i),69),n.lookupArray(i)},max:Mn["documentTransform.cache"],cache:fu})}},t.prototype.performWork=function(e){return va(e),this.transform(e)},t.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var n=this.performWork(e);return this.resultCache.add(n),n},t.prototype.concat=function(e){var n=this;return Object.assign(new t(function(r){return e.transformDocument(n.transformDocument(r))},{cache:!1}),{left:this,right:e})},t}(),bs,cc=Object.assign(function(t){var e=bs.get(t);return e||(e=KO(t),bs.set(t,e)),e},{reset:function(){bs=new zp(Mn.print||2e3)}});cc.reset();globalThis.__DEV__!==!1&&jp("print",function(){return bs?bs.size:0});var Ce=Array.isArray;function Yt(t){return Array.isArray(t)&&t.length>0}var my={kind:F.FIELD,name:{kind:F.NAME,value:"__typename"}};function Ck(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===F.FRAGMENT_SPREAD&&Ck(e[n.name.value],e)})}function rN(t){return Ck(wa(t)||$C(t),ic(ac(t)))?null:t}function iN(t){var e=new Map,n=new Map;return t.forEach(function(r){r&&(r.name?e.set(r.name,r):r.test&&n.set(r.test,r))}),function(r){var i=e.get(r.name.value);return!i&&n.size&&n.forEach(function(o,s){s(r)&&(i=o)}),i}}function gy(t){var e=new Map;return function(r){r===void 0&&(r=t);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function Nk(t,e){va(e);for(var n=gy(""),r=gy(""),i=function(m){for(var g=0,y=void 0;g<m.length&&(y=m[g]);++g)if(!Ce(y)){if(y.kind===F.OPERATION_DEFINITION)return n(y.name&&y.name.value);if(y.kind===F.FRAGMENT_DEFINITION)return r(y.name.value)}return globalThis.__DEV__!==!1&&B.error(86),null},o=0,s=e.definitions.length-1;s>=0;--s)e.definitions[s].kind===F.OPERATION_DEFINITION&&++o;var a=iN(t),l=function(m){return Yt(m)&&m.map(a).some(function(g){return g&&g.remove})},u=new Map,c=!1,f={enter:function(m){if(l(m.directives))return c=!0,null}},d=Wn(e,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(m,g,y,k,S){var b=i(S);b&&b.variables.add(m.name.value)}},FragmentSpread:{enter:function(m,g,y,k,S){if(l(m.directives))return c=!0,null;var b=i(S);b&&b.fragmentSpreads.add(m.name.value)}},FragmentDefinition:{enter:function(m,g,y,k){u.set(JSON.stringify(k),m)},leave:function(m,g,y,k){var S=u.get(JSON.stringify(k));if(m===S)return m;if(o>0&&m.selectionSet.selections.every(function(b){return b.kind===F.FIELD&&b.name.value==="__typename"}))return r(m.name.value).removed=!0,c=!0,null}},Directive:{leave:function(m){if(a(m))return c=!0,null}}});if(!c)return e;var h=function(m){return m.transitiveVars||(m.transitiveVars=new Set(m.variables),m.removed||m.fragmentSpreads.forEach(function(g){h(r(g)).transitiveVars.forEach(function(y){m.transitiveVars.add(y)})})),m},p=new Set;d.definitions.forEach(function(m){m.kind===F.OPERATION_DEFINITION?h(n(m.name&&m.name.value)).fragmentSpreads.forEach(function(g){p.add(g)}):m.kind===F.FRAGMENT_DEFINITION&&o===0&&!r(m.name.value).removed&&p.add(m.name.value)}),p.forEach(function(m){h(r(m)).fragmentSpreads.forEach(function(g){p.add(g)})});var v=function(m){return!!(!p.has(m)||r(m).removed)},w={enter:function(m){if(v(m.name.value))return null}};return rN(Wn(d,{FragmentSpread:w,FragmentDefinition:w,OperationDefinition:{leave:function(m){if(m.variableDefinitions){var g=h(n(m.name&&m.name.value)).transitiveVars;if(g.size<m.variableDefinitions.length)return E(E({},m),{variableDefinitions:m.variableDefinitions.filter(function(y){return g.has(y.variable.name.value)})})}}}}))}var Qp=Object.assign(function(t){return Wn(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===F.OPERATION_DEFINITION)){var i=e.selections;if(i){var o=i.some(function(a){return Or(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!o){var s=r;if(!(Or(s)&&s.directives&&s.directives.some(function(a){return a.name.value==="export"})))return E(E({},e),{selections:Ot(Ot([],i,!0),[my],!1)})}}}}}})},{added:function(t){return t===my}});function oN(t){var e=ka(t),n=e.operation;if(n==="query")return t;var r=Wn(t,{OperationDefinition:{enter:function(i){return E(E({},i),{operation:"query"})}}});return r}function _k(t){va(t);var e=Nk([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}var sN=Object.prototype.hasOwnProperty;function yy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fc(t)}function fc(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new Nr,i=1;i<n;++i)e=r.merge(e,t[i]);return e}var aN=function(t,e,n){return this.merge(t[n],e[n])},Nr=function(){function t(e){e===void 0&&(e=aN),this.reconciler=e,this.isObject=Oe,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return Oe(n)&&Oe(e)?(Object.keys(n).forEach(function(s){if(sN.call(e,s)){var a=e[s];if(n[s]!==a){var l=r.reconciler.apply(r,Ot([e,n,s],i,!1));l!==a&&(e=r.shallowCopyForMerge(e),e[s]=l)}}else e=r.shallowCopyForMerge(e),e[s]=n[s]}),e):n},t.prototype.shallowCopyForMerge=function(e){return Oe(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=E({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function lN(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=uN(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uN(t,e){if(t){if(typeof t=="string")return vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vy(t,e)}}function vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wp(t,e,n){return e&&wy(t.prototype,e),n&&wy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Hp=function(){return typeof Symbol=="function"},Jp=function(t){return Hp()&&!!Symbol[t]},Gp=function(t){return Jp(t)?Symbol[t]:"@@"+t};Hp()&&!Jp("observable")&&(Symbol.observable=Symbol("observable"));var cN=Gp("iterator"),eh=Gp("observable"),Mk=Gp("species");function du(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function Zo(t){var e=t.constructor;return e!==void 0&&(e=e[Mk],e===null&&(e=void 0)),e!==void 0?e:de}function fN(t){return t instanceof de}function No(t){No.log?No.log(t):setTimeout(function(){throw t})}function kl(t){Promise.resolve().then(function(){try{t()}catch(e){No(e)}})}function Ik(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=du(e,"unsubscribe");n&&n.call(e)}}catch(r){No(r)}}function th(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function dN(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(Ak(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function Ak(t,e,n){t._state="running";var r=t._observer;try{var i=du(r,e);switch(e){case"next":i&&i.call(r,n);break;case"error":if(th(t),i)i.call(r,n);else throw n;break;case"complete":th(t),i&&i.call(r);break}}catch(o){No(o)}t._state==="closed"?Ik(t):t._state==="running"&&(t._state="ready")}function vf(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],kl(function(){return dN(t)});return}Ak(t,e,n)}}var hN=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var i=new pN(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(th(this),Ik(this))},Wp(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),pN=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){vf(this._subscription,"next",r)},e.error=function(r){vf(this._subscription,"error",r)},e.complete=function(){vf(this._subscription,"complete")},Wp(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),de=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new hN(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(o,s){if(typeof r!="function"){s(new TypeError(r+" is not a function"));return}function a(){l.unsubscribe(),o()}var l=i.subscribe({next:function(u){try{r(u,a)}catch(c){s(c),l.unsubscribe()}},error:s,complete:o})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=Zo(this);return new o(function(s){return i.subscribe({next:function(a){try{a=r(a)}catch(l){return s.error(l)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=Zo(this);return new o(function(s){return i.subscribe({next:function(a){try{if(!r(a))return}catch(l){return s.error(l)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=Zo(this),s=arguments.length>1,a=!1,l=arguments[1],u=l;return new o(function(c){return i.subscribe({next:function(f){var d=!a;if(a=!0,!d||s)try{u=r(u,f)}catch(h){return c.error(h)}else u=f},error:function(f){c.error(f)},complete:function(){if(!a&&!s)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(u),c.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=Zo(this);return new a(function(l){var u,c=0;function f(d){u=d.subscribe({next:function(h){l.next(h)},error:function(h){l.error(h)},complete:function(){c===o.length?(u=void 0,l.complete()):f(a.from(o[c++]))}})}return f(r),function(){u&&(u.unsubscribe(),u=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=Zo(this);return new o(function(s){var a=[],l=i.subscribe({next:function(c){if(r)try{c=r(c)}catch(d){return s.error(d)}var f=o.from(c).subscribe({next:function(d){s.next(d)},error:function(d){s.error(d)},complete:function(){var d=a.indexOf(f);d>=0&&a.splice(d,1),u()}});a.push(f)},error:function(c){s.error(c)},complete:function(){u()}});function u(){l.closed&&a.length===0&&s.complete()}return function(){a.forEach(function(c){return c.unsubscribe()}),l.unsubscribe()}})},e[eh]=function(){return this},t.from=function(r){var i=typeof this=="function"?this:t;if(r==null)throw new TypeError(r+" is not an object");var o=du(r,eh);if(o){var s=o.call(r);if(Object(s)!==s)throw new TypeError(s+" is not an object");return fN(s)&&s.constructor===i?s:new i(function(a){return s.subscribe(a)})}if(Jp("iterator")&&(o=du(r,cN),o))return new i(function(a){kl(function(){if(!a.closed){for(var l=lN(o.call(r)),u;!(u=l()).done;){var c=u.value;if(a.next(c),a.closed)return}a.complete()}})});if(Array.isArray(r))return new i(function(a){kl(function(){if(!a.closed){for(var l=0;l<r.length;++l)if(a.next(r[l]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=typeof this=="function"?this:t;return new s(function(a){kl(function(){if(!a.closed){for(var l=0;l<i.length;++l)if(a.next(i[l]),a.closed)return;a.complete()}})})},Wp(t,null,[{key:Mk,get:function(){return this}}]),t}();Hp()&&Object.defineProperty(de,Symbol("extensions"),{value:{symbol:eh,hostReportError:No},configurable:!0});function mN(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var Fi;typeof self<"u"?Fi=self:typeof window<"u"?Fi=window:typeof global<"u"?Fi=global:typeof Lh<"u"?Fi=Lh:Fi=Function("return this")();mN(Fi);var ky=de.prototype,Sy="@@observable";ky[Sy]||(ky[Sy]=function(){return this});var gN=Object.prototype.toString;function Pk(t){return nh(t)}function nh(t,e){switch(gN.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(i,o){n[o]=nh(i,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(i){r[i]=nh(t[i],e)}),r}default:return t}}function yN(t){var e=new Set([t]);return e.forEach(function(n){Oe(n)&&vN(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){Oe(n[r])&&e.add(n[r])})}),t}function vN(t){if(globalThis.__DEV__!==!1&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function Xs(t){return globalThis.__DEV__!==!1&&yN(t),t}function Es(t,e,n){var r=[];t.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](n)})}function wf(t,e,n){return new de(function(r){var i={then:function(l){return new Promise(function(u){return u(l())})}};function o(l,u){return function(c){if(l){var f=function(){return r.closed?0:l(c)};i=i.then(f,f).then(function(d){return r.next(d)},function(d){return r.error(d)})}else r[u](c)}}var s={next:o(e,"next"),error:o(n,"error"),complete:function(){i.then(function(){return r.complete()})}},a=t.subscribe(s);return function(){return a.unsubscribe()}})}function Rk(t){function e(n){Object.defineProperty(t,n,{value:de})}return Fp&&Symbol.species&&e(Symbol.species),e("@@species"),t}function by(t){return t&&typeof t.then=="function"}var zi=function(t){An(e,t);function e(n){var r=t.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,o){r.resolve=i,r.reject=o}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),Es(r.observers,"next",i))},error:function(i){var o=r.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),Es(r.observers,"error",i))},complete:function(){var i=r,o=i.sub,s=i.sources,a=s===void 0?[]:s;if(o!==null){var l=a.shift();l?by(l)?l.then(function(u){return r.sub=u.subscribe(r.handlers)},r.handlers.error):r.sub=l.subscribe(r.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Es(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.error(i)},r.promise.catch(function(i){}),typeof n=="function"&&(n=[new de(n)]),by(n)?n.then(function(i){return r.start(i)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],i=n[r];i&&i.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(o){return o(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(i,o){r||(r=!0,n(i,o))})},e}(de);Rk(zi);function ho(t){return"incremental"in t}function wN(t){return"hasNext"in t&&"data"in t}function kN(t){return ho(t)||wN(t)}function SN(t){return Oe(t)&&"payload"in t}function Dk(t,e){var n=t,r=new Nr;return ho(e)&&Yt(e.incremental)&&e.incremental.forEach(function(i){for(var o=i.data,s=i.path,a=s.length-1;a>=0;--a){var l=s[a],u=!isNaN(+l),c=u?[]:{};c[l]=o,o=c}n=r.merge(n,o)}),n}function Sl(t){var e=rh(t);return Yt(e)}function rh(t){var e=Yt(t.errors)?t.errors.slice(0):[];return ho(t)&&Yt(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function Ei(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){r&&Object.keys(r).forEach(function(i){var o=r[i];o!==void 0&&(n[i]=o)})}),n}function bl(t,e){return Ei(t,e,e.variables&&{variables:Ei(E(E({},t&&t.variables),e.variables))})}function kf(t){return new de(function(e){e.error(t)})}var Lk=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function bN(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(e.indexOf(i)<0)throw pt(44,i)}return t}function EN(t,e){var n=E({},t),r=function(o){typeof o=="function"?n=E(E({},n),o(n)):n=E(E({},n),o)},i=function(){return E({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function xN(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?Zd(e.query)||void 0:""),e}function TN(t,e){var n=E({},t),r=new Set(Object.keys(t));return Wn(e,{Variable:function(i,o,s){s&&s.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(function(i){delete n[i]}),n}function Ey(t,e){return e?e(t):de.of()}function es(t){return typeof t=="function"?new Sa(t):t}function Ya(t){return t.request.length<=1}var Sa=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return de.of()})},t.from=function(e){return e.length===0?t.empty():e.map(es).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var i=es(n),o=es(r||new t(Ey)),s;return Ya(i)&&Ya(o)?s=new t(function(a){return e(a)?i.request(a)||de.of():o.request(a)||de.of()}):s=new t(function(a,l){return e(a)?i.request(a,l)||de.of():o.request(a,l)||de.of()}),Object.assign(s,{left:i,right:o})},t.execute=function(e,n){return e.request(EN(n.context,xN(bN(n))))||de.of()},t.concat=function(e,n){var r=es(e);if(Ya(r))return globalThis.__DEV__!==!1&&B.warn(36,r),r;var i=es(n),o;return Ya(i)?o=new t(function(s){return r.request(s,function(a){return i.request(a)||de.of()})||de.of()}):o=new t(function(s,a){return r.request(s,function(l){return i.request(l,a)||de.of()})||de.of()}),Object.assign(o,{left:r,right:i})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(Ey)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw pt(37)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),ih=Sa.execute;function ON(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function CN(t){var e=null,n=null,r=!1,i=[],o=[];function s(f){if(!n){if(o.length){var d=o.shift();if(Array.isArray(d)&&d[0])return d[0]({value:f,done:!1})}i.push(f)}}function a(f){n=f;var d=o.slice();d.forEach(function(h){h[1](f)}),!e||e()}function l(){r=!0;var f=o.slice();f.forEach(function(d){d[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",s),t.removeListener("error",a),t.removeListener("end",l),t.removeListener("finish",l),t.removeListener("close",l)},t.on("data",s),t.on("error",a),t.on("end",l),t.on("finish",l),t.on("close",l);function u(){return new Promise(function(f,d){if(n)return d(n);if(i.length)return f({value:i.shift(),done:!1});if(r)return f({value:void 0,done:!0});o.push([f,d])})}var c={next:function(){return u()}};return rc&&(c[Symbol.asyncIterator]=function(){return this}),c}function NN(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){t.then(function(o){r({value:o,done:!1})}).catch(i)}))}};return rc&&(n[Symbol.asyncIterator]=function(){return this}),n}function xy(t){var e={next:function(){return t.read()}};return rc&&(e[Symbol.asyncIterator]=function(){return this}),e}function _N(t){return!!t.body}function MN(t){return!!t.getReader}function IN(t){return!!(rc&&t[Symbol.asyncIterator])}function AN(t){return!!t.stream}function PN(t){return!!t.arrayBuffer}function RN(t){return!!t.pipe}function DN(t){var e=t;if(_N(t)&&(e=t.body),IN(e))return ON(e);if(MN(e))return xy(e.getReader());if(AN(e))return xy(e.stream().getReader());if(PN(e))return NN(e.arrayBuffer());if(RN(e))return CN(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Kp=Symbol();function LN(t){return t.extensions?Array.isArray(t.extensions[Kp]):!1}function Fk(t){return t.hasOwnProperty("graphQLErrors")}var FN=function(t){var e=Ot(Ot(Ot([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&e.push(t.networkError),e.map(function(n){return Oe(n)&&n.message||"Error message not found."}).join(`
`)},Ln=function(t){An(e,t);function e(n){var r=n.graphQLErrors,i=n.protocolErrors,o=n.clientErrors,s=n.networkError,a=n.errorMessage,l=n.extraInfo,u=t.call(this,a)||this;return u.name="ApolloError",u.graphQLErrors=r||[],u.protocolErrors=i||[],u.clientErrors=o||[],u.networkError=s||null,u.message=a||FN(u),u.extraInfo=l,u.cause=Ot(Ot(Ot([s],r||[],!0),i||[],!0),o||[],!0).find(function(c){return!!c})||null,u.__proto__=e.prototype,u}return e}(Error),Ty=Object.prototype.hasOwnProperty;function zN(t,e){return er(this,void 0,void 0,function(){var n,r,i,o,s,a,l,u,c,f,d,h,p,v,w,m,g,y,k,S,b,x,T,D;return tr(this,function(P){switch(P.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),r=(D=t.headers)===null||D===void 0?void 0:D.get("content-type"),i="boundary=",o=r!=null&&r.includes(i)?r==null?void 0:r.substring((r==null?void 0:r.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s=`\r
--`.concat(o),a="",l=DN(t),u=!0,P.label=1;case 1:return u?[4,l.next()]:[3,3];case 2:for(c=P.sent(),f=c.value,d=c.done,h=typeof f=="string"?f:n.decode(f),p=a.length-s.length+1,u=!d,a+=h,v=a.indexOf(s,p);v>-1;){if(w=void 0,x=[a.slice(0,v),a.slice(v+s.length)],w=x[0],a=x[1],m=w.indexOf(`\r
\r
`),g=jN(w.slice(0,m)),y=g["content-type"],y&&y.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(k=w.slice(m),k){if(S=zk(t,k),Object.keys(S).length>1||"data"in S||"incremental"in S||"errors"in S||"payload"in S)if(SN(S)){if(b={},"payload"in S){if(Object.keys(S).length===1&&S.payload===null)return[2];b=E({},S.payload)}"errors"in S&&(b=E(E({},b),{extensions:E(E({},"extensions"in b?b.extensions:null),(T={},T[Kp]=S.errors,T))})),e(b)}else e(S);else if(Object.keys(S).length===1&&"hasNext"in S&&!S.hasNext)return[2]}v=a.indexOf(s)}return[3,1];case 3:return[2]}})})}function jN(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var i=n.slice(0,r).trim().toLowerCase(),o=n.slice(r+1).trim();e[i]=o}}),e}function zk(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};Lk(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function $N(t,e){t.result&&t.result.errors&&t.result.data&&e.next(t.result),e.error(t)}function VN(t){return function(e){return e.text().then(function(n){return zk(e,n)}).then(function(n){return!Array.isArray(n)&&!Ty.call(n,"data")&&!Ty.call(n,"errors")&&Lk(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var oh=function(t,e){var n;try{n=JSON.stringify(t)}catch(i){var r=pt(40,e,i.message);throw r.parseError=i,r}return n},BN={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},qN={accept:"*/*","content-type":"application/json"},UN={method:"POST"},QN={http:BN,headers:qN,options:UN},WN=function(t,e){return e(t)};function HN(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach(function(f){i=E(E(E({},i),f.options),{headers:E(E({},i.headers),f.headers)}),f.credentials&&(i.credentials=f.credentials),o=E(E({},o),f.http)}),i.headers&&(i.headers=JN(i.headers,o.preserveHeaderCase));var s=t.operationName,a=t.extensions,l=t.variables,u=t.query,c={operationName:s,variables:l};return o.includeExtensions&&(c.extensions=a),o.includeQuery&&(c.query=e(u,cc)),{options:i,body:c}}function JN(t,e){if(!e){var n={};return Object.keys(Object(t)).forEach(function(o){n[o.toLowerCase()]=t[o]}),n}var r={};Object.keys(Object(t)).forEach(function(o){r[o.toLowerCase()]={originalName:o,value:t[o]}});var i={};return Object.keys(r).forEach(function(o){i[r[o].originalName]=r[o].value}),i}var GN=function(t){if(!t&&typeof fetch>"u")throw pt(38)},KN=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function YN(t,e){var n=[],r=function(f,d){n.push("".concat(f,"=").concat(encodeURIComponent(d)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=oh(e.variables,"Variables map")}catch(f){return{parseError:f}}r("variables",i)}if(e.extensions){var o=void 0;try{o=oh(e.extensions,"Extensions map")}catch(f){return{parseError:f}}r("extensions",o)}var s="",a=t,l=t.indexOf("#");l!==-1&&(s=t.substr(l),a=t.substr(0,l));var u=a.indexOf("?")===-1?"?":"&",c=a+u+n.join("&")+s;return{newURI:c}}var Oy=ln(function(){return fetch}),XN=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,i=t.print,o=i===void 0?WN:i,s=t.includeExtensions,a=t.preserveHeaderCase,l=t.useGETForQueries,u=t.includeUnusedVariables,c=u===void 0?!1:u,f=pn(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&GN(r||Oy);var d={http:{includeExtensions:s,preserveHeaderCase:a},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new Sa(function(h){var p=KN(h,n),v=h.getContext(),w={};if(v.clientAwareness){var m=v.clientAwareness,g=m.name,y=m.version;g&&(w["apollographql-client-name"]=g),y&&(w["apollographql-client-version"]=y)}var k=E(E({},w),v.headers),S={http:v.http,options:v.fetchOptions,credentials:v.credentials,headers:k};if(Gs(["client"],h.query)){var b=_k(h.query);if(!b)return kf(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));h.query=b}var x=HN(h,o,QN,d,S),T=x.options,D=x.body;D.variables&&!c&&(D.variables=TN(D.variables,h.query));var P;!T.signal&&typeof AbortController<"u"&&(P=new AbortController,T.signal=P.signal);var Ee=function(R){return R.kind==="OperationDefinition"&&R.operation==="mutation"},N=function(R){return R.kind==="OperationDefinition"&&R.operation==="subscription"},O=N(ka(h.query)),I=Gs(["defer"],h.query);if(l&&!h.query.definitions.some(Ee)&&(T.method="GET"),I||O){T.headers=T.headers||{};var W="multipart/mixed;";O&&I&&globalThis.__DEV__!==!1&&B.warn(39),O?W+="boundary=graphql;subscriptionSpec=1.0,application/json":I&&(W+="deferSpec=20220824,application/json"),T.headers.accept=W}if(T.method==="GET"){var V=YN(p,D),ee=V.newURI,M=V.parseError;if(M)return kf(M);p=ee}else try{T.body=oh(D,"Payload")}catch(R){return kf(R)}return new de(function(R){var U=r||ln(function(){return fetch})||Oy,re=R.next.bind(R);return U(p,T).then(function(ie){var nt;h.setContext({response:ie});var wn=(nt=ie.headers)===null||nt===void 0?void 0:nt.get("content-type");return wn!==null&&/^multipart\/mixed/i.test(wn)?zN(ie,re):VN(h)(ie).then(re)}).then(function(){P=void 0,R.complete()}).catch(function(ie){P=void 0,$N(ie,R)}),function(){P&&P.abort()}})})},jk=function(t){An(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,XN(n).request)||this;return r.options=n,r}return e}(Sa);const{toString:Cy,hasOwnProperty:ZN}=Object.prototype,Ny=Function.prototype.toString,sh=new Map;function fe(t,e){try{return ah(t,e)}finally{sh.clear()}}function ah(t,e){if(t===e)return!0;const n=Cy.call(t),r=Cy.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(My(t,e))return!0;const i=_y(t),o=_y(e),s=i.length;if(s!==o.length)return!1;for(let a=0;a<s;++a)if(!ZN.call(e,i[a]))return!1;for(let a=0;a<s;++a){const l=i[a];if(!ah(t[l],e[l]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(My(t,e))return!0;const i=t.entries(),o=n==="[object Map]";for(;;){const s=i.next();if(s.done)break;const[a,l]=s.value;if(!e.has(a)||o&&!ah(l,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const i=Ny.call(t);return i!==Ny.call(e)?!1:!n_(i,t_)}}return!1}function _y(t){return Object.keys(t).filter(e_,t)}function e_(t){return this[t]!==void 0}const t_="{ [native code] }";function n_(t,e){const n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function My(t,e){let n=sh.get(t);if(n){if(n.has(e))return!0}else sh.set(t,n=new Set);return n.add(e),!1}function $k(t,e,n,r){var i=e.data,o=pn(e,["data"]),s=n.data,a=pn(n,["data"]);return fe(o,a)&&El(ka(t).selectionSet,i,s,{fragmentMap:ic(ac(t)),variables:r})}function El(t,e,n,r){if(e===n)return!0;var i=new Set;return t.selections.every(function(o){if(i.has(o)||(i.add(o),!ya(o,r.variables))||Iy(o))return!0;if(Or(o)){var s=Tr(o),a=e&&e[s],l=n&&n[s],u=o.selectionSet;if(!u)return fe(a,l);var c=Array.isArray(a),f=Array.isArray(l);if(c!==f)return!1;if(c&&f){var d=a.length;if(l.length!==d)return!1;for(var h=0;h<d;++h)if(!El(u,a[h],l[h],r))return!1;return!0}return El(u,a,l,r)}else{var p=oc(o,r.fragmentMap);if(p)return Iy(p)?!0:El(p.selectionSet,e,n,r)}})}function Iy(t){return!!t.directives&&t.directives.some(r_)}function r_(t){return t.name.value==="nonreactive"}var Vk=function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=Ys(uC,{max:Mn["cache.fragmentQueryDocuments"]||1e3,cache:fu})}return t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(n)},r),i},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(E(E({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.watchFragment=function(e){var n=this,r=e.fragment,i=e.fragmentName,o=e.from,s=e.optimistic,a=s===void 0?!0:s,l=pn(e,["fragment","fragmentName","from","optimistic"]),u=this.getFragmentDoc(r,i),c=E(E({},l),{returnPartialData:!0,id:typeof o>"u"||typeof o=="string"?o:this.identify(o),query:u,optimistic:a}),f;return new de(function(d){return n.watch(E(E({},c),{immediate:!0,callback:function(h){if(!(f&&$k(u,{data:f==null?void 0:f.result},{data:h.result}))){var p={data:h.result,complete:!!h.complete};h.missing&&(p.missing=fc(h.missing.map(function(v){return v.missing}))),f=h,d.next(p)}}}))})},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(E(E({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,i=pn(e,["id","data"]);return this.write(Object.assign(i,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,i=e.fragment,o=e.fragmentName,s=pn(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var i=r.readQuery(e),o=n(i);return o==null?i:(r.writeQuery(E(E({},e),{data:o})),o)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var i=r.readFragment(e),o=n(i);return o==null?i:(r.writeFragment(E(E({},e),{data:o})),o)}})},t}();globalThis.__DEV__!==!1&&(Vk.prototype.getMemoryInternals=kC);var Bk=function(t){An(e,t);function e(n,r,i,o){var s,a=t.call(this,n)||this;if(a.message=n,a.path=r,a.query=i,a.variables=o,Array.isArray(a.path)){a.missing=a.message;for(var l=a.path.length-1;l>=0;--l)a.missing=(s={},s[a.path[l]]=a.missing,s)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error),$e=Object.prototype.hasOwnProperty;function ts(t){return t==null}function qk(t,e){var n=t.__typename,r=t.id,i=t._id;if(typeof n=="string"&&(e&&(e.keyObject=ts(r)?ts(i)?void 0:{_id:i}:{id:r}),ts(r)&&!ts(i)&&(r=i),!ts(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var Uk={dataIdFromObject:qk,addTypename:!0,resultCaching:!0,canonizeResults:!1};function i_(t){return Ei(Uk,t)}function Qk(t){var e=t.canonizeResults;return e===void 0?Uk.canonizeResults:e}function o_(t,e){return ae(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var Wk=/^[_a-z][_0-9a-z]*/i;function _r(t){var e=t.match(Wk);return e?e[0]:t}function lh(t,e,n){return Oe(e)?Ce(e)?e.every(function(r){return lh(t,r,n)}):t.selections.every(function(r){if(Or(r)&&ya(r,n)){var i=Tr(r);return $e.call(e,i)&&(!r.selectionSet||lh(r.selectionSet,e[i],n))}return!0}):!1}function to(t){return Oe(t)&&!ae(t)&&!Ce(t)}function s_(){return new Nr}function Hk(t,e){var n=ic(ac(t));return{fragmentMap:n,lookupFragment:function(r){var i=n[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var xl=Object.create(null),Sf=function(){return xl},Ay=Object.create(null),Zs=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return Xs(ae(i)?r.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return ae(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return fo(i);if(ae(i))return i;var s=r.policies.identify(i)[0];if(s){var a=fo(s);return o&&r.merge(s,i),a}}}return t.prototype.toObject=function(){return E({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),$e.call(this.data,e)){var r=this.data[e];if(r&&$e.call(r,n))return r[n]}if(n==="__typename"&&$e.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Yn)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),$e.call(this.data,e))return this.data[e];if(this instanceof Yn)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,i;ae(e)&&(e=e.__ref),ae(n)&&(n=n.__ref);var o=typeof e=="string"?this.lookup(i=e):e,s=typeof n=="string"?this.lookup(i=n):n;if(s){B(typeof i=="string",1);var a=new Nr(l_).merge(o,s);if(this.data[i]=a,a!==o&&(delete this.refs[i],this.group.caching)){var l=Object.create(null);o||(l.__exists=1),Object.keys(s).forEach(function(u){if(!o||o[u]!==a[u]){l[u]=1;var c=_r(u);c!==u&&!r.policies.hasKeyArgs(a.__typename,c)&&(l[c]=1),a[u]===void 0&&!(r instanceof Yn)&&delete a[u]}}),l.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete l.__typename,Object.keys(l).forEach(function(u){return r.group.dirty(i,u)})}}},t.prototype.modify=function(e,n){var r=this,i=this.lookup(e);if(i){var o=Object.create(null),s=!1,a=!0,l={DELETE:xl,INVALIDATE:Ay,isReference:ae,toReference:this.toReference,canRead:this.canRead,readField:function(u,c){return r.policies.readField(typeof u=="string"?{fieldName:u,from:c||fo(e)}:u,{store:r})}};if(Object.keys(i).forEach(function(u){var c=_r(u),f=i[u];if(f!==void 0){var d=typeof n=="function"?n:n[u]||n[c];if(d){var h=d===Sf?xl:d(Xs(f),E(E({},l),{fieldName:c,storeFieldName:u,storage:r.getStorage(e,u)}));if(h===Ay)r.group.dirty(e,u);else if(h===xl&&(h=void 0),h!==f&&(o[u]=h,s=!0,f=h,globalThis.__DEV__!==!1)){var p=function(S){if(r.lookup(S.__ref)===void 0)return globalThis.__DEV__!==!1&&B.warn(2,S),!0};if(ae(h))p(h);else if(Array.isArray(h))for(var v=!1,w=void 0,m=0,g=h;m<g.length;m++){var y=g[m];if(ae(y)){if(v=!0,p(y))break}else if(typeof y=="object"&&y){var k=r.policies.identify(y)[0];k&&(w=y)}if(v&&w!==void 0){globalThis.__DEV__!==!1&&B.warn(3,w);break}}}}f!==void 0&&(a=!1)}}),s)return this.merge(e,o),a&&(this instanceof Yn?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var i,o=this.lookup(e);if(o){var s=this.getFieldValue(o,"__typename"),a=n&&r?this.policies.getStoreFieldName({typename:s,fieldName:n,args:r}):n;return this.modify(e,a?(i={},i[a]=Sf,i):Sf)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&($e.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof Yn&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){$e.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(o){e&&$e.call(e,o)||n.delete(o)}),e){var r=e.__META,i=pn(e,["__META"]);Object.keys(i).forEach(function(o){n.merge(o,i[o])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Yn?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(s){$e.call(r,s)&&(Object.keys(e.findChildRefIds(s)).forEach(n.add,n),delete r[s])});var i=Object.keys(r);if(i.length){for(var o=this;o instanceof Yn;)o=o.parent;i.forEach(function(s){return o.delete(s)})}return i},t.prototype.findChildRefIds=function(e){if(!$e.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var i=new Set([r]);i.forEach(function(o){ae(o)&&(n[o.__ref]=!0),Oe(o)&&Object.keys(o).forEach(function(s){var a=o[s];Oe(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),Jk=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?Tk():null,this.keyMaker=new jo($o)},t.prototype.depend=function(e,n){if(this.d){this.d(bf(e,n));var r=_r(n);r!==n&&this.d(bf(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(bf(e,n),n==="__exists"?"forget":"setDirty")},t}();function bf(t,e){return e+"#"+t}function Py(t,e){xs(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){An(r,n);function r(i){var o=i.policies,s=i.resultCaching,a=s===void 0?!0:s,l=i.seed,u=n.call(this,o,new Jk(a))||this;return u.stump=new a_(u),u.storageTrie=new jo($o),l&&u.replace(l),u}return r.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(Zs||(Zs={}));var Yn=function(t){An(e,t);function e(n,r,i,o){var s=t.call(this,r.policies,o)||this;return s.id=n,s.parent=r,s.replay=i,s.group=o,i(s),s}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,i=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var s=r.data[o],a=i.lookup(o);a?s?s!==a&&Object.keys(s).forEach(function(l){fe(s[l],a[l])||r.group.dirty(o,l)}):(r.group.dirty(o,"__exists"),Object.keys(a).forEach(function(l){r.group.dirty(o,l)})):r.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return E(E({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return $e.call(this.data,n)?E(E({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(Zs),a_=function(t){An(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new Jk(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(n,r){return this.parent.merge(n,r)},e}(Yn);function l_(t,e,n){var r=t[n],i=e[n];return fe(r,i)?r:i}function xs(t){return!!(t instanceof Zs&&t.group.caching)}function u_(t){return Oe(t)?Ce(t)?t.slice(0):E({__proto__:Object.getPrototypeOf(t)},t):t}var Ry=function(){function t(){this.known=new(ak?WeakSet:Set),this.pool=new jo($o),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return Oe(e)&&this.known.has(e)},t.prototype.pass=function(e){if(Oe(e)){var n=u_(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(Oe(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var o=e.map(this.admit,this),s=this.pool.lookupArray(o);return s.array||(this.known.add(s.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),s.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),l=[a],u=this.sortedKeys(e);l.push(u.json);var c=l.length;u.sorted.forEach(function(h){l.push(n.admit(e[h]))});var s=this.pool.lookupArray(l);if(!s.object){var f=s.object=Object.create(a);this.known.add(f),u.sorted.forEach(function(h,p){f[h]=l[c+p]}),globalThis.__DEV__!==!1&&Object.freeze(f)}return s.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var i=JSON.stringify(n);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:n,json:i})}return r.keys},t}();function Dy(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var c_=function(){function t(e){var n=this;this.knownResults=new($o?WeakMap:Map),this.config=Ei(e,{addTypename:e.addTypename!==!1,canonizeResults:Qk(e)}),this.canon=e.canon||new Ry,this.executeSelectionSet=Ys(function(r){var i,o=r.context.canonizeResults,s=Dy(r);s[3]=!o;var a=(i=n.executeSelectionSet).peek.apply(i,s);return a?o?E(E({},a),{result:n.canon.admit(a.result)}):a:(Py(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize||Mn["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Dy,makeCacheKey:function(r,i,o,s){if(xs(o.store))return o.store.makeCacheKey(r,ae(i)?i.__ref:i,o.varString,s)}}),this.executeSubSelectedArray=Ys(function(r){return Py(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize||Mn["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(r){var i=r.field,o=r.array,s=r.context;if(xs(s.store))return s.store.makeCacheKey(i,o,s.varString)}})}return t.prototype.resetCanon=function(){this.canon=new Ry},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,i=e.rootId,o=i===void 0?"ROOT_QUERY":i,s=e.variables,a=e.returnPartialData,l=a===void 0?!0:a,u=e.canonizeResults,c=u===void 0?this.config.canonizeResults:u,f=this.config.cache.policies;s=E(E({},$p(hk(r))),s);var d=fo(o),h=this.executeSelectionSet({selectionSet:ka(r).selectionSet,objectOrReference:d,enclosingRef:d,context:E({store:n,query:r,policies:f,variables:s,varString:Sr(s),canonizeResults:c},Hk(r,this.config.fragments))}),p;if(h.missing&&(p=[new Bk(f_(h.missing),h.missing,r,s)],!l))throw p[0];return{result:h.result,complete:!p,missing:p}},t.prototype.isFresh=function(e,n,r,i){if(xs(i.store)&&this.knownResults.get(e)===r){var o=this.executeSelectionSet.peek(r,n,i,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,s=e.context;if(ae(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=s.variables,l=s.policies,u=s.store,c=u.getFieldValue(i,"__typename"),f=[],d,h=new Nr;this.config.addTypename&&typeof c=="string"&&!l.rootIdsByTypename[c]&&f.push({__typename:c});function p(y,k){var S;return y.missing&&(d=h.merge(d,(S={},S[k]=y.missing,S))),y.result}var v=new Set(r.selections);v.forEach(function(y){var k,S;if(ya(y,a))if(Or(y)){var b=l.readField({fieldName:y.name.value,field:y,variables:s.variables,from:i},s),x=Tr(y);b===void 0?Qp.added(y)||(d=h.merge(d,(k={},k[x]="Can't find field '".concat(y.name.value,"' on ").concat(ae(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),k))):Ce(b)?b.length>0&&(b=p(n.executeSubSelectedArray({field:y,array:b,enclosingRef:o,context:s}),x)):y.selectionSet?b!=null&&(b=p(n.executeSelectionSet({selectionSet:y.selectionSet,objectOrReference:b,enclosingRef:ae(b)?b:o,context:s}),x)):s.canonizeResults&&(b=n.canon.pass(b)),b!==void 0&&f.push((S={},S[x]=b,S))}else{var T=oc(y,s.lookupFragment);if(!T&&y.kind===F.FRAGMENT_SPREAD)throw pt(9,y.name.value);T&&l.fragmentMatches(T,c)&&T.selectionSet.selections.forEach(v.add,v)}});var w=fc(f),m={result:w,missing:d},g=s.canonizeResults?this.canon.admit(m):Xs(m);return g.result&&this.knownResults.set(g.result,r),g},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,i=e.array,o=e.enclosingRef,s=e.context,a,l=new Nr;function u(c,f){var d;return c.missing&&(a=l.merge(a,(d={},d[f]=c.missing,d))),c.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(c,f){return c===null?null:Ce(c)?u(n.executeSubSelectedArray({field:r,array:c,enclosingRef:o,context:s}),f):r.selectionSet?u(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:c,enclosingRef:ae(c)?c:o,context:s}),f):(globalThis.__DEV__!==!1&&d_(s.store,r,c),c)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function f_(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function d_(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(i){Oe(i)&&(B(!ae(i),10,o_(t,i),e.name.value),Object.values(i).forEach(r.add,r))})}}var Yp=new pk,Ly=new WeakMap;function Ts(t){var e=Ly.get(t);return e||Ly.set(t,e={vars:new Set,dep:Tk()}),e}function Fy(t){Ts(t).vars.forEach(function(e){return e.forgetCache(t)})}function h_(t){Ts(t).vars.forEach(function(e){return e.attachCache(t)})}function p_(t){var e=new Set,n=new Set,r=function(o){if(arguments.length>0){if(t!==o){t=o,e.forEach(function(l){Ts(l).dep.dirty(r),m_(l)});var s=Array.from(n);n.clear(),s.forEach(function(l){return l(t)})}}else{var a=Yp.getValue();a&&(i(a),Ts(a).dep(r))}return t};r.onNextChange=function(o){return n.add(o),function(){n.delete(o)}};var i=r.attachCache=function(o){return e.add(o),Ts(o).vars.add(r),r};return r.forgetCache=function(o){return e.delete(o)},r}function m_(t){t.broadcastWatches&&t.broadcastWatches()}var zy=Object.create(null);function Xp(t){var e=JSON.stringify(t);return zy[e]||(zy[e]=Object.create(null))}function jy(t){var e=Xp(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var i=function(s,a){return r.readField(a,s)},o=r.keyObject=Zp(t,function(s){var a=po(r.storeObject,s,i);return a===void 0&&n!==r.storeObject&&$e.call(n,s[0])&&(a=po(n,s,Kk)),B(a!==void 0,4,s.join("."),n),a});return"".concat(r.typename,":").concat(JSON.stringify(o))})}function $y(t){var e=Xp(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var i=r.field,o=r.variables,s=r.fieldName,a=Zp(t,function(u){var c=u[0],f=c.charAt(0);if(f==="@"){if(i&&Yt(i.directives)){var d=c.slice(1),h=i.directives.find(function(m){return m.name.value===d}),p=h&&sc(h,o);return p&&po(p,u.slice(1))}return}if(f==="$"){var v=c.slice(1);if(o&&$e.call(o,v)){var w=u.slice(0);return w[0]=v,po(o,w)}return}if(n)return po(n,u)}),l=JSON.stringify(a);return(n||l!=="{}")&&(s+=":"+l),s})}function Zp(t,e){var n=new Nr;return Gk(t).reduce(function(r,i){var o,s=e(i);if(s!==void 0){for(var a=i.length-1;a>=0;--a)s=(o={},o[i[a]]=s,o);r=n.merge(r,s)}return r},Object.create(null))}function Gk(t){var e=Xp(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(i,o){Ce(i)?(Gk(i).forEach(function(s){return n.push(r.concat(s))}),r.length=0):(r.push(i),Ce(t[o+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function Kk(t,e){return t[e]}function po(t,e,n){return n=n||Kk,Yk(e.reduce(function r(i,o){return Ce(i)?i.map(function(s){return r(s,o)}):i&&n(i,o)},t))}function Yk(t){return Oe(t)?Ce(t)?t.map(Yk):Zp(Object.keys(t).sort(),function(e){return po(t,e)}):t}function uh(t){return t.args!==void 0?t.args:t.field?sc(t.field,t.variables):null}var g_=function(){},Vy=function(t,e){return e.fieldName},By=function(t,e,n){var r=n.mergeObjects;return r(t,e)},qy=function(t,e){return e},y_=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=E({dataIdFromObject:qk},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,i=this,o=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s=n&&n.storeObject||e,a=E(E({},n),{typename:o,storeObject:s,readField:n&&n.readField||function(){var d=em(arguments,s);return i.readField(d,{store:i.cache.data,variables:d.variables})}}),l,u=o&&this.getTypePolicy(o),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var f=c(E(E({},e),s),a);if(Ce(f))c=jy(f);else{l=f;break}}return l=l?String(l):void 0,a.keyObject?[l,a.keyObject]:[l]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var i=e[r],o=i.queryType,s=i.mutationType,a=i.subscriptionType,l=pn(i,["queryType","mutationType","subscriptionType"]);o&&n.setRootTypename("Query",r),s&&n.setRootTypename("Mutation",r),a&&n.setRootTypename("Subscription",r),$e.call(n.toBeAdded,r)?n.toBeAdded[r].push(l):n.toBeAdded[r]=[l]})},t.prototype.updateTypePolicy=function(e,n){var r=this,i=this.getTypePolicy(e),o=n.keyFields,s=n.fields;function a(l,u){l.merge=typeof u=="function"?u:u===!0?By:u===!1?qy:l.merge}a(i,n.merge),i.keyFn=o===!1?g_:Ce(o)?jy(o):typeof o=="function"?o:i.keyFn,s&&Object.keys(s).forEach(function(l){var u=r.getFieldPolicy(e,l,!0),c=s[l];if(typeof c=="function")u.read=c;else{var f=c.keyArgs,d=c.read,h=c.merge;u.keyFn=f===!1?Vy:Ce(f)?$y(f):typeof f=="function"?f:u.keyFn,typeof d=="function"&&(u.read=d),a(u,h)}u.read&&u.merge&&(u.keyFn=u.keyFn||Vy)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];n!==i&&(B(!i||i===e,5,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(i){n.getSupertypeSet(i,!0).add(r);var o=i.match(Wk);(!o||o[0]!==i)&&n.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!$e.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(s,a){if(s.test(e)){var l=n.supertypeMap.get(a);l&&l.forEach(function(u){return i.add(u)})}})),i&&i.size&&i.forEach(function(s){var a=n.getTypePolicy(s),l=a.fields,u=pn(a,["fields"]);Object.assign(r,u),Object.assign(r.fields,l)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(s){n.updateTypePolicy(e,s)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var i=this.getTypePolicy(e).fields;return i[n]||r&&(i[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,i){var o=this;if(!e.typeCondition)return!0;if(!n)return!1;var s=e.typeCondition.name.value;if(n===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(n,!0),l=[a],u=function(p){var v=o.getSupertypeSet(p,!1);v&&v.size&&l.indexOf(v)<0&&l.push(v)},c=!!(r&&this.fuzzySubtypes.size),f=!1,d=0;d<l.length;++d){var h=l[d];if(h.has(s))return a.has(s)||(f&&globalThis.__DEV__!==!1&&B.warn(6,n,s),a.add(s)),!0;h.forEach(u),c&&d===l.length-1&&lh(e.selectionSet,r,i)&&(c=!1,f=!0,this.fuzzySubtypes.forEach(function(p,v){var w=n.match(p);w&&w[0]===n&&u(v)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o,s=i&&i.keyFn;if(s&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},l=uh(e);s;){var u=s(l,a);if(Ce(u))s=$y(u);else{o=u||r;break}}return o===void 0&&(o=e.field?FC(e.field,e.variables):dk(r,uh(e))),o===!1?r:r===_r(o)?o:r+":"+o},t.prototype.readField=function(e,n){var r=e.from;if(r){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var o=n.store.getFieldValue(r,"__typename");o&&(e.typename=o)}var s=this.getStoreFieldName(e),a=_r(s),l=n.store.getFieldValue(r,s),u=this.getFieldPolicy(e.typename,a,!1),c=u&&u.read;if(c){var f=Uy(this,r,e,n,n.store.getStorage(ae(r)?r.__ref:r,s));return Yp.withValue(this.cache,c,[l,f])}return l}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var i=this.getFieldPolicy(e,n,!1),o=i&&i.merge;return!o&&r&&(i=this.getTypePolicy(r),o=i&&i.merge),o},t.prototype.runMergeFunction=function(e,n,r,i,o){var s=r.field,a=r.typename,l=r.merge;return l===By?Xk(i.store)(e,n):l===qy?n:(i.overwrite&&(e=void 0),l(e,n,Uy(this,void 0,{typename:a,fieldName:s.name.value,field:s,variables:i.variables},i,o||Object.create(null))))},t}();function Uy(t,e,n,r,i){var o=t.getStoreFieldName(n),s=_r(o),a=n.variables||r.variables,l=r.store,u=l.toReference,c=l.canRead;return{args:uh(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:ae,toReference:u,storage:i,cache:t.cache,canRead:c,readField:function(){return t.readField(em(arguments,e,a),r)},mergeObjects:Xk(r.store)}}function em(t,e,n){var r=t[0],i=t[1],o=t.length,s;return typeof r=="string"?s={fieldName:r,from:o>1?i:e}:(s=E({},r),$e.call(s,"from")||(s.from=e)),globalThis.__DEV__!==!1&&s.from===void 0&&globalThis.__DEV__!==!1&&B.warn(7,H1(Array.from(t))),s.variables===void 0&&(s.variables=n),s}function Xk(t){return function(n,r){if(Ce(n)||Ce(r))throw pt(8);if(Oe(n)&&Oe(r)){var i=t.getFieldValue(n,"__typename"),o=t.getFieldValue(r,"__typename"),s=i&&o&&i!==o;if(s)return r;if(ae(n)&&to(r))return t.merge(n.__ref,r),n;if(to(n)&&ae(r))return t.merge(n,r.__ref),r;if(to(n)&&to(r))return E(E({},n),r)}return r}}function Ef(t,e,n){var r="".concat(e).concat(n),i=t.flavors.get(r);return i||t.flavors.set(r,i=t.clientOnly===e&&t.deferred===n?t:E(E({},t),{clientOnly:e,deferred:n})),i}var v_=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,i=n.query,o=n.result,s=n.dataId,a=n.variables,l=n.overwrite,u=wa(i),c=s_();a=E(E({},$p(u)),a);var f=E(E({store:e,written:Object.create(null),merge:function(h,p){return c.merge(h,p)},variables:a,varString:Sr(a)},Hk(i,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),d=this.processSelectionSet({result:o||Object.create(null),dataId:s,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!ae(d))throw pt(11,o);return f.incomingById.forEach(function(h,p){var v=h.storeObject,w=h.mergeTree,m=h.fieldNodeSet,g=fo(p);if(w&&w.map.size){var y=r.applyMerges(w,g,v,f);if(ae(y))return;v=y}if(globalThis.__DEV__!==!1&&!f.overwrite){var k=Object.create(null);m.forEach(function(x){x.selectionSet&&(k[x.name.value]=!0)});var S=function(x){return k[_r(x)]===!0},b=function(x){var T=w&&w.map.get(x);return!!(T&&T.info&&T.info.merge)};Object.keys(v).forEach(function(x){S(x)&&!b(x)&&w_(g,v,x,f.store)})}e.merge(p,v)}),e.retain(d.__ref),d},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,i=e.result,o=e.selectionSet,s=e.context,a=e.mergeTree,l=this.cache.policies,u=Object.create(null),c=r&&l.rootTypenamesById[r]||Xd(i,o,s.fragmentMap)||r&&s.store.get(r,"__typename");typeof c=="string"&&(u.__typename=c);var f=function(){var y=em(arguments,u,s.variables);if(ae(y.from)){var k=s.incomingById.get(y.from.__ref);if(k){var S=l.readField(E(E({},y),{from:k.storeObject}),s);if(S!==void 0)return S}}return l.readField(y,s)},d=new Set;this.flattenFields(o,i,s,c).forEach(function(y,k){var S,b=Tr(k),x=i[b];if(d.add(k),x!==void 0){var T=l.getStoreFieldName({typename:c,fieldName:k.name.value,field:k,variables:y.variables}),D=Qy(a,T),P=n.processFieldValue(x,k,k.selectionSet?Ef(y,!1,!1):y,D),Ee=void 0;k.selectionSet&&(ae(P)||to(P))&&(Ee=f("__typename",P));var N=l.getMergeFunction(c,k.name.value,Ee);N?D.info={field:k,typename:c,merge:N}:Wy(a,T),u=y.merge(u,(S={},S[T]=P,S))}else globalThis.__DEV__!==!1&&!y.clientOnly&&!y.deferred&&!Qp.added(k)&&!l.getReadFunction(c,k.name.value)&&globalThis.__DEV__!==!1&&B.error(12,Tr(k),i)});try{var h=l.identify(i,{typename:c,selectionSet:o,fragmentMap:s.fragmentMap,storeObject:u,readField:f}),p=h[0],v=h[1];r=r||p,v&&(u=s.merge(u,v))}catch(y){if(!r)throw y}if(typeof r=="string"){var w=fo(r),m=s.written[r]||(s.written[r]=[]);if(m.indexOf(o)>=0||(m.push(o),this.reader&&this.reader.isFresh(i,w,o,s)))return w;var g=s.incomingById.get(r);return g?(g.storeObject=s.merge(g.storeObject,u),g.mergeTree=ch(g.mergeTree,a),d.forEach(function(y){return g.fieldNodeSet.add(y)})):s.incomingById.set(r,{storeObject:u,mergeTree:hu(a)?void 0:a,fieldNodeSet:d}),w}return u},t.prototype.processFieldValue=function(e,n,r,i){var o=this;return!n.selectionSet||e===null?globalThis.__DEV__!==!1?Pk(e):e:Ce(e)?e.map(function(s,a){var l=o.processFieldValue(s,n,r,Qy(i,a));return Wy(i,a),l}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:i})},t.prototype.flattenFields=function(e,n,r,i){i===void 0&&(i=Xd(n,e,r.fragmentMap));var o=new Map,s=this.cache.policies,a=new jo(!1);return function l(u,c){var f=a.lookup(u,c.clientOnly,c.deferred);f.visited||(f.visited=!0,u.selections.forEach(function(d){if(ya(d,r.variables)){var h=c.clientOnly,p=c.deferred;if(!(h&&p)&&Yt(d.directives)&&d.directives.forEach(function(m){var g=m.name.value;if(g==="client"&&(h=!0),g==="defer"){var y=sc(m,r.variables);(!y||y.if!==!1)&&(p=!0)}}),Or(d)){var v=o.get(d);v&&(h=h&&v.clientOnly,p=p&&v.deferred),o.set(d,Ef(r,h,p))}else{var w=oc(d,r.lookupFragment);if(!w&&d.kind===F.FRAGMENT_SPREAD)throw pt(13,d.name.value);w&&s.fragmentMatches(w,i,n,r.variables)&&l(w.selectionSet,Ef(r,h,p))}}}))}(e,r),o},t.prototype.applyMerges=function(e,n,r,i,o){var s,a=this;if(e.map.size&&!ae(r)){var l=!Ce(r)&&(ae(n)||to(n))?n:void 0,u=r;l&&!o&&(o=[ae(l)?l.__ref:l]);var c,f=function(d,h){return Ce(d)?typeof h=="number"?d[h]:void 0:i.store.getFieldValue(d,String(h))};e.map.forEach(function(d,h){var p=f(l,h),v=f(u,h);if(v!==void 0){o&&o.push(h);var w=a.applyMerges(d,p,v,i,o);w!==v&&(c=c||new Map,c.set(h,w)),o&&B(o.pop()===h)}}),c&&(r=Ce(u)?u.slice(0):E({},u),c.forEach(function(d,h){r[h]=d}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,i,o&&(s=i.store).getStorage.apply(s,o)):r},t}(),Zk=[];function Qy(t,e){var n=t.map;return n.has(e)||n.set(e,Zk.pop()||{map:new Map}),n.get(e)}function ch(t,e){if(t===e||!e||hu(e))return t;if(!t||hu(t))return e;var n=t.info&&e.info?E(E({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,i=r?new Map:t.map.size?t.map:e.map,o={info:n,map:i};if(r){var s=new Set(e.map.keys());t.map.forEach(function(a,l){o.map.set(l,ch(a,e.map.get(l))),s.delete(l)}),s.forEach(function(a){o.map.set(a,ch(e.map.get(a),t.map.get(a)))})}return o}function hu(t){return!t||!(t.info||t.map.size)}function Wy(t,e){var n=t.map,r=n.get(e);r&&hu(r)&&(Zk.push(r),n.delete(e))}var Hy=new Set;function w_(t,e,n,r){var i=function(f){var d=r.getFieldValue(f,n);return typeof d=="object"&&d},o=i(t);if(o){var s=i(e);if(s&&!ae(o)&&!fe(o,s)&&!Object.keys(o).every(function(f){return r.getFieldValue(s,f)!==void 0})){var a=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),l=_r(n),u="".concat(a,".").concat(l);if(!Hy.has(u)){Hy.add(u);var c=[];!Ce(o)&&!Ce(s)&&[o,s].forEach(function(f){var d=r.getFieldValue(f,"__typename");typeof d=="string"&&!c.includes(d)&&c.push(d)}),globalThis.__DEV__!==!1&&B.warn(14,l,a,c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"",u,E({},o),E({},s))}}}}var eS=function(t){An(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new Ok(Qp),r.assumeImmutableResults=!0,r.makeVar=p_,r.txCount=0,r.config=i_(n),r.addTypename=!!r.config.addTypename,r.policies=new y_({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new Zs.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,i=this.storeReader,o=this.config.fragments;this.storeWriter=new v_(this,this.storeReader=new c_({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Qk(this.config),canon:n?void 0:i&&i.canon,fragments:o}),o),this.maybeBroadcastWatch=Ys(function(s,a){return r.broadcastWatch(s,a)},{max:this.config.resultCacheMaxSize||Mn["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(s){var a=s.optimistic?r.optimisticData:r.data;if(xs(a)){var l=s.optimistic,u=s.id,c=s.variables;return a.makeCacheKey(s.query,s.callback,Sr({optimistic:l,id:u,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(E(E({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof Bk)return null;throw o}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if($e.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(E(E({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||h_(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&Fy(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){var r;Sr.reset(),cc.reset(),this.addTypenameTransform.resetCache(),(r=this.config.fragments)===null||r===void 0||r.resetCaches();var i=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),i},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(ae(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){globalThis.__DEV__!==!1&&B.warn(r)}},e.prototype.evict=function(n){if(!n.id){if($e.call(n,"id"))return!1;n=E(E({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),Sr.reset(),n&&n.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),Fy(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,i=n.update,o=n.optimistic,s=o===void 0?!0:o,a=n.removeOptimistic,l=n.onWatchUpdated,u,c=function(d){var h=r,p=h.data,v=h.optimisticData;++r.txCount,d&&(r.data=r.optimisticData=d);try{return u=i(r)}finally{--r.txCount,r.data=p,r.optimisticData=v}},f=new Set;return l&&!this.txCount&&this.broadcastWatches(E(E({},n),{onWatchUpdated:function(d){return f.add(d),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,c):s===!1?c(this.data):c(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),l&&f.size?(this.broadcastWatches(E(E({},n),{onWatchUpdated:function(d,h){var p=l.call(this,d,h);return p!==!1&&f.delete(d),p}})),f.size&&f.forEach(function(d){return r.maybeBroadcastWatch.dirty(d)})):this.broadcastWatches(n),u},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){return this.addTypenameToDocument(this.addFragmentsToDocument(n))},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,n)})},e.prototype.addFragmentsToDocument=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.addTypenameToDocument=function(n){return this.addTypename?this.addTypenameTransform.transformDocument(n):n},e.prototype.broadcastWatch=function(n,r){var i=n.lastDiff,o=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(o.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,o,i)===!1)||(!i||!fe(i.result,o.result))&&n.callback(n.lastDiff=o,i)},e}(Vk);globalThis.__DEV__!==!1&&(eS.prototype.getMemoryInternals=wC);var te;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(te||(te={}));function ea(t){return t?t<7:!1}var Jy=Object.assign,k_=Object.hasOwnProperty,fh=function(t){An(e,t);function e(n){var r=n.queryManager,i=n.queryInfo,o=n.options,s=t.call(this,function(w){try{var m=w._subscription._observer;m&&!m.error&&(m.error=S_)}catch{}var g=!s.observers.size;s.observers.add(w);var y=s.last;return y&&y.error?w.error&&w.error(y.error):y&&y.result&&w.next&&w.next(y.result),g&&s.reobserve().catch(function(){}),function(){s.observers.delete(w)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=i,s.queryManager=r,s.waitForOwnResult=xf(o.fetchPolicy),s.isTornDown=!1,s.subscribeToMore=s.subscribeToMore.bind(s);var a=r.defaultOptions.watchQuery,l=a===void 0?{}:a,u=l.fetchPolicy,c=u===void 0?"cache-first":u,f=o.fetchPolicy,d=f===void 0?c:f,h=o.initialFetchPolicy,p=h===void 0?d==="standby"?c:d:h;s.options=E(E({},o),{initialFetchPolicy:p,fetchPolicy:d}),s.queryId=i.queryId||r.generateQueryId();var v=wa(s.query);return s.queryName=v&&v.name&&v.name.value,s}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,i){var o={next:function(a){r(a),n.observers.delete(o),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=n.subscribe(o)})},e.prototype.resetDiff=function(){this.queryInfo.resetDiff()},e.prototype.getCurrentResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||te.ready,o=E(E({},r),{loading:ea(i),networkStatus:i}),s=this.options.fetchPolicy,a=s===void 0?"cache-first":s;if(!(xf(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(o.data=l.result),fe(o.data,{})&&(o.data=void 0),l.complete?(delete o.partial,l.complete&&o.networkStatus===te.loading&&(a==="cache-first"||a==="cache-only")&&(o.networkStatus=te.ready,o.loading=!1)):o.partial=!0,globalThis.__DEV__!==!1&&!l.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&nS(l.missing)}return n&&this.updateLastResult(o),o},e.prototype.isDifferentFromLastResult=function(n,r){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!$k(this.query,this.last.result,n,this.variables):!fe(this.last.result,n);return i||r&&!fe(this.last.variables,r)},e.prototype.getLast=function(n,r){var i=this.last;if(i&&i[n]&&(!r||fe(i.variables,this.variables)))return i[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="cache-and-network"?i.fetchPolicy=o:o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&n&&k_.call(n,"variables")){var s=hk(this.query),a=s.variableDefinitions;(!a||!a.some(function(l){return l.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&B.warn(20,n,((r=s.name)===null||r===void 0?void 0:r.value)||s)}return n&&!fe(this.options.variables,n)&&(i.variables=this.options.variables=E(E({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(i,te.refetch)},e.prototype.fetchMore=function(n){var r=this,i=E(E({},n.query?n:E(E(E(E({},this.options),{query:this.options.query}),n),{variables:E(E({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var o=this.queryManager.generateQueryId();this.lastQuery=n.query?this.transformDocument(this.options.query):i.query;var s=this.queryInfo,a=s.networkStatus;s.networkStatus=te.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var l=new Set,u=n==null?void 0:n.updateQuery,c=this.options.fetchPolicy!=="no-cache";return c||B(u,21),this.queryManager.fetchQuery(o,i,te.fetchMore).then(function(f){if(r.queryManager.removeQuery(o),s.networkStatus===te.fetchMore&&(s.networkStatus=a),c)r.queryManager.cache.batch({update:function(p){var v=n.updateQuery;v?p.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(w){return v(w,{fetchMoreResult:f.data,variables:i.variables})}):p.writeQuery({query:i.query,variables:i.variables,data:f.data})},onWatchUpdated:function(p){l.add(p.query)}});else{var d=r.getLast("result"),h=u(d.data,{fetchMoreResult:f.data,variables:i.variables});r.reportResult(E(E({},d),{data:h}),r.variables)}return f}).finally(function(){c&&!l.has(r.query)&&tS(r)})},e.prototype.subscribeToMore=function(n){var r=this,i=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(o){var s=n.updateQuery;s&&r.updateQuery(function(a,l){var u=l.variables;return s(a,{subscriptionData:o,variables:u})})},error:function(o){if(n.onError){n.onError(o);return}globalThis.__DEV__!==!1&&B.error(22,o)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.silentSetOptions=function(n){var r=Ei(this.options,n||{});Jy(this.options,r)},e.prototype.setVariables=function(n){return fe(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},te.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,o=n(i,{variables:this.variables});o&&(r.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,o=i===void 0?"cache-first":i,s=r.initialFetchPolicy,a=s===void 0?o:s;o==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(o,{reason:n,options:r,observable:this,initialFetchPolicy:a}):n==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,n,r,i)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,o=r.options.pollInterval;if(!o||!this.hasObservers()){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){B(o,23);var s=i||(this.pollingInfo={});s.interval=o;var a=function(){var u,c;n.pollingInfo&&(!ea(n.queryInfo.networkStatus)&&!(!((c=(u=n.options).skipPollAttempt)===null||c===void 0)&&c.call(u))?n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},te.poll).then(l,l):l())},l=function(){var u=n.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(a,u.interval))};l()}}},e.prototype.updateLastResult=function(n,r){r===void 0&&(r=this.variables);var i=this.getLastError();return i&&this.last&&!fe(r,this.last.variables)&&(i=void 0),this.last=E({result:this.queryManager.assumeImmutableResults?n:Pk(n),variables:r},i?{error:i}:null)},e.prototype.reobserveAsConcast=function(n,r){var i=this;this.isTornDown=!1;var o=r===te.refetch||r===te.fetchMore||r===te.poll,s=this.options.variables,a=this.options.fetchPolicy,l=Ei(this.options,n||{}),u=o?l:Jy(this.options,l),c=this.transformDocument(u.query);this.lastQuery=c,o||(this.updatePolling(),n&&n.variables&&!fe(n.variables,s)&&u.fetchPolicy!=="standby"&&(u.fetchPolicy===a||typeof u.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",u),r===void 0&&(r=te.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=xf(u.fetchPolicy));var f=function(){i.concast===p&&(i.waitForOwnResult=!1)},d=u.variables&&E({},u.variables),h=this.fetch(u,r,c),p=h.concast,v=h.fromLink,w={next:function(m){fe(i.variables,d)&&(f(),i.reportResult(m,d))},error:function(m){fe(i.variables,d)&&(Fk(m)||(m=new Ln({networkError:m})),f(),i.reportError(m,d))}};return!o&&(v||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=p,this.observer=w),p.addObserver(w),p},e.prototype.reobserve=function(n,r){return this.reobserveAsConcast(n,r).promise},e.prototype.resubscribeAfterError=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this.last;this.resetLastResults();var o=this.subscribe.apply(this,n);return this.last=i,o},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var i=this.getLastError(),o=this.isDifferentFromLastResult(n,r);(i||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),(i||o)&&Es(this.observers,"next",n)},e.prototype.reportError=function(n,r){var i=E(E({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:te.error,loading:!1});this.updateLastResult(i,r),Es(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(n){return this.queryManager.transform(n)},e}(de);Rk(fh);function tS(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(i,o){return this.nextFetchPolicy=r,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(i,o):n}}):t.reobserve()}function S_(t){globalThis.__DEV__!==!1&&B.error(24,t.message,t.stack)}function nS(t){globalThis.__DEV__!==!1&&t&&globalThis.__DEV__!==!1&&B.debug(25,t)}function xf(t){return t==="network-only"||t==="no-cache"||t==="standby"}var no=new($o?WeakMap:Map);function Tf(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return no.set(t,(no.get(t)+1)%1e15),n.apply(this,arguments)})}function Gy(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Of=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;no.has(r)||(no.set(r,0),Tf(r,"evict"),Tf(r,"modify"),Tf(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||te.loading;return this.variables&&this.networkStatus!==te.loading&&!fe(this.variables,e.variables)&&(n=te.setVariables),fe(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){Gy(this),this.dirty=!1},t.prototype.resetDiff=function(){this.lastDiff=void 0},t.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&fe(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var n=this.observableQuery;if(n&&n.options.fetchPolicy==="no-cache")return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r,i=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(!((r=this.observableQuery)===null||r===void 0)&&r.getLastError())||(this.updateLastDiff(e),!this.dirty&&!fe(i&&i.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0))))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():tS(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;Gy(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(ea(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel;var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=E(E({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return n.setDiff(o)}});(!this.lastWatch||!fe(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===no.get(this.cache)&&fe(n,r.variables)&&fe(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,i){var o=this,s=new Nr,a=Yt(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Yt(e.incremental)){var l=Dk(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=s.merge(u.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(dh(e,r.errorPolicy)?this.cache.performTransaction(function(c){if(o.shouldWrite(e,r.variables))c.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:i===1}),o.lastWrite={result:e,variables:r.variables,dmCount:no.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var f=o.getDiffOptions(r.variables),d=c.diff(f);!o.stopped&&fe(o.variables,r.variables)&&o.updateWatch(r.variables),o.updateLastDiff(d,f),d.complete&&(e.data=d.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=te.ready},t.prototype.markError=function(e){return this.networkStatus=te.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function dh(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!Sl(t);return!r&&n&&t.data&&(r=!0),r}var b_=Object.prototype.hasOwnProperty,Ky=Object.create(null),E_=function(){function t(e){var n=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new zp(Mn["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new jo(!1);var r=new Ok(function(o){return n.cache.transformDocument(o)},{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults;var i=e.documentTransform;this.documentTransform=i?r.concat(i).concat(r):r,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(pt(26))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){return er(this,arguments,void 0,function(n){var r,i,o,s,a,l,u,c=n.mutation,f=n.variables,d=n.optimisticResponse,h=n.updateQueries,p=n.refetchQueries,v=p===void 0?[]:p,w=n.awaitRefetchQueries,m=w===void 0?!1:w,g=n.update,y=n.onQueryUpdated,k=n.fetchPolicy,S=k===void 0?((l=this.defaultOptions.mutate)===null||l===void 0?void 0:l.fetchPolicy)||"network-only":k,b=n.errorPolicy,x=b===void 0?((u=this.defaultOptions.mutate)===null||u===void 0?void 0:u.errorPolicy)||"none":b,T=n.keepRootFields,D=n.context;return tr(this,function(P){switch(P.label){case 0:return B(c,27),B(S==="network-only"||S==="no-cache",28),r=this.generateMutationId(),c=this.cache.transformForLink(this.transform(c)),i=this.getDocumentInfo(c).hasClientExports,f=this.getVariables(c,f),i?[4,this.localState.addExportedVariables(c,f,D)]:[3,2];case 1:f=P.sent(),P.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[r]={mutation:c,variables:f,loading:!0,error:null}),s=d&&this.markMutationOptimistic(d,{mutationId:r,document:c,variables:f,fetchPolicy:S,errorPolicy:x,context:D,updateQueries:h,update:g,keepRootFields:T}),this.broadcastQueries(),a=this,[2,new Promise(function(Ee,N){return wf(a.getObservableFromLink(c,E(E({},D),{optimisticResponse:s?d:void 0}),f,{},!1),function(O){if(Sl(O)&&x==="none")throw new Ln({graphQLErrors:rh(O)});o&&(o.loading=!1,o.error=null);var I=E({},O);return typeof v=="function"&&(v=v(I)),x==="ignore"&&Sl(I)&&delete I.errors,a.markMutationResult({mutationId:r,result:I,document:c,variables:f,fetchPolicy:S,errorPolicy:x,context:D,update:g,updateQueries:h,awaitRefetchQueries:m,refetchQueries:v,removeOptimistic:s?r:void 0,onQueryUpdated:y,keepRootFields:T})}).subscribe({next:function(O){a.broadcastQueries(),(!("hasNext"in O)||O.hasNext===!1)&&Ee(O)},error:function(O){o&&(o.loading=!1,o.error=O),s&&a.cache.removeOptimistic(r),a.broadcastQueries(),N(O instanceof Ln?O:new Ln({networkError:O}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var i=e.result,o=[],s=e.fetchPolicy==="no-cache";if(!s&&dh(i,e.errorPolicy)){if(ho(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),ho(i)&&Yt(i.incremental)){var a=n.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),l=void 0;a.result&&(l=Dk(a.result,i)),typeof l<"u"&&(i.data=l,o.push({result:l,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach(function(f,d){var h=f.observableQuery,p=h&&h.queryName;if(!(!p||!b_.call(u,p))){var v=u[p],w=r.queries.get(d),m=w.document,g=w.variables,y=n.diff({query:m,variables:g,returnPartialData:!0,optimistic:!1}),k=y.result,S=y.complete;if(S&&k){var b=v(k,{mutationResult:i,queryName:m&&Zd(m)||void 0,queryVariables:g});b&&o.push({result:b,dataId:"ROOT_QUERY",query:m,variables:g})}}})}if(o.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(f){s||o.forEach(function(v){return f.write(v)});var d=e.update,h=!kN(i)||ho(i)&&!i.hasNext;if(d){if(!s){var p=f.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});p.complete&&(i=E(E({},i),{data:p.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}h&&d(f,i,{context:e.context,variables:e.variables})}!s&&!e.keepRootFields&&h&&f.modify({id:"ROOT_MUTATION",fields:function(v,w){var m=w.fieldName,g=w.DELETE;return m==="__typename"?v:g}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(f){return c.push(f)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,n){var r=this,i=typeof e=="function"?e(n.variables,{IGNORE:Ky}):e;return i===Ky?!1:(this.cache.recordOptimisticTransaction(function(o){try{r.markMutationResult(E(E({},n),{result:{data:i}}),o)}catch(s){globalThis.__DEV__!==!1&&B.error(s)}},n.mutationId),!0)},t.prototype.fetchQuery=function(e,n,r){return this.fetchConcastWithInfo(e,n,r).concast.promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},t.prototype.getDocumentInfo=function(e){var n=this.transformCache;if(!n.has(e)){var r={hasClientExports:ZO(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:Gs(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:Nk([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:$p(wa(e)),asQuery:E(E({},e),{definitions:e.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?E(E({},i),{operation:"query"}):i})})};n.set(e,r)}return n.get(e)},t.prototype.getVariables=function(e,n){return E(E({},this.getDocumentInfo(e).defaultVars),n)},t.prototype.watchQuery=function(e){var n=this.transform(e.query);e=E(E({},e),{variables:this.getVariables(n,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var r=new Of(this),i=new fh({queryManager:this,queryInfo:r,options:e});return i.lastQuery=n,this.queries.set(i.queryId,r),r.init({document:n,observableQuery:i,variables:i.variables}),i},t.prototype.query=function(e,n){var r=this;return n===void 0&&(n=this.generateQueryId()),B(e.query,29),B(e.query.kind==="Document",30),B(!e.returnPartialData,31),B(!e.pollInterval,32),this.fetchQuery(n,E(E({},e),{query:this.transform(e.query)})).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(pt(33)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=te.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,i=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(s){typeof s=="string"?i.set(s,!1):CC(s)?i.set(n.transform(s),!1):Oe(s)&&s.query&&o.add(s)}),this.queries.forEach(function(s,a){var l=s.observableQuery,u=s.document;if(l){if(e==="all"){r.set(a,l);return}var c=l.queryName,f=l.options.fetchPolicy;if(f==="standby"||e==="active"&&!l.hasObservers())return;(e==="active"||c&&i.has(c)||u&&i.has(u))&&(r.set(a,l),c&&i.set(c,!0),u&&i.set(u,!0))}}),o.size&&o.forEach(function(s){var a=Ud("legacyOneTimeQuery"),l=n.getQuery(a).init({document:s.query,variables:s.variables}),u=new fh({queryManager:n,queryInfo:l,options:E(E({},s),{fetchPolicy:"network-only"})});B(u.queryId===a),l.setObservableQuery(u),r.set(a,u)}),globalThis.__DEV__!==!1&&i.size&&i.forEach(function(s,a){s||globalThis.__DEV__!==!1&&B.warn(typeof a=="string"?34:35,a)}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(e||s!=="standby"&&s!=="cache-only")&&r.push(i.refetch()),n.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,i=e.fetchPolicy,o=e.errorPolicy,s=o===void 0?"none":o,a=e.variables,l=e.context,u=l===void 0?{}:l,c=e.extensions,f=c===void 0?{}:c;r=this.transform(r),a=this.getVariables(r,a);var d=function(p){return n.getObservableFromLink(r,u,p,f).map(function(v){i!=="no-cache"&&(dh(v,s)&&n.cache.write({query:r,result:v.data,dataId:"ROOT_SUBSCRIPTION",variables:p}),n.broadcastQueries());var w=Sl(v),m=LN(v);if(w||m){var g={};if(w&&(g.graphQLErrors=v.errors),m&&(g.protocolErrors=v.extensions[Kp]),s==="none"||m)throw new Ln(g)}return s==="ignore"&&delete v.errors,v})};if(this.getDocumentInfo(r).hasClientExports){var h=this.localState.addExportedVariables(r,a,u).then(d);return new de(function(p){var v=null;return h.then(function(w){return v=w.subscribe(p)},p.error),function(){return v&&v.unsubscribe()}})}return d(a)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,i,o){var s=this,a;o===void 0&&(o=(a=n==null?void 0:n.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var l,u=this.getDocumentInfo(e),c=u.serverQuery,f=u.clientQuery;if(c){var d=this,h=d.inFlightLinkObservables,p=d.link,v={query:c,variables:r,operationName:Zd(c)||void 0,context:this.prepareContext(E(E({},n),{forceFetch:!o})),extensions:i};if(n=v.context,o){var w=cc(c),m=Sr(r),g=h.lookup(w,m);if(l=g.observable,!l){var y=new zi([ih(p,v)]);l=g.observable=y,y.beforeNext(function(){h.remove(w,m)})}}else l=new zi([ih(p,v)])}else l=new zi([de.of({data:{}})]),n=this.prepareContext(n);return f&&(l=wf(l,function(k){return s.localState.runResolvers({document:f,remoteResult:k,context:n,variables:r})})),l},t.prototype.getResultsFromLink=function(e,n,r){var i=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(r.query);return wf(this.getObservableFromLink(o,r.context,r.variables),function(s){var a=rh(s),l=a.length>0,u=r.errorPolicy;if(i>=e.lastRequestId){if(l&&u==="none")throw e.markError(new Ln({graphQLErrors:a}));e.markResult(s,o,r,n),e.markReady()}var c={data:s.data,loading:!1,networkStatus:te.ready};return l&&u==="none"&&(c.data=void 0),l&&u!=="ignore"&&(c.errors=a,c.networkStatus=te.error),c},function(s){var a=Fk(s)?s:new Ln({networkError:s});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchConcastWithInfo=function(e,n,r,i){var o=this;r===void 0&&(r=te.loading),i===void 0&&(i=n.query);var s=this.getVariables(i,n.variables),a=this.getQuery(e),l=this.defaultOptions.watchQuery,u=n.fetchPolicy,c=u===void 0?l&&l.fetchPolicy||"cache-first":u,f=n.errorPolicy,d=f===void 0?l&&l.errorPolicy||"none":f,h=n.returnPartialData,p=h===void 0?!1:h,v=n.notifyOnNetworkStatusChange,w=v===void 0?!1:v,m=n.context,g=m===void 0?{}:m,y=Object.assign({},n,{query:i,variables:s,fetchPolicy:c,errorPolicy:d,returnPartialData:p,notifyOnNetworkStatusChange:w,context:g}),k=function(D){y.variables=D;var P=o.fetchQueryByPolicy(a,y,r);return y.fetchPolicy!=="standby"&&P.sources.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",n),P},S=function(){return o.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(D){S(),setTimeout(function(){return b.cancel(D)})});var b,x;if(this.getDocumentInfo(y.query).hasClientExports)b=new zi(this.localState.addExportedVariables(y.query,y.variables,y.context).then(k).then(function(D){return D.sources})),x=!0;else{var T=k(y.variables);x=T.fromLink,b=new zi(T.sources)}return b.promise.then(S,S),{concast:b,fromLink:x}},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,i=e.include,o=e.optimistic,s=o===void 0?!1:o,a=e.removeOptimistic,l=a===void 0?s?Ud("refetchQueries"):void 0:a,u=e.onQueryUpdated,c=new Map;i&&this.getObservableQueries(i).forEach(function(d,h){c.set(h,{oq:d,lastDiff:n.getQuery(h).getDiff()})});var f=new Map;return r&&this.cache.batch({update:r,optimistic:s&&l||!1,removeOptimistic:l,onWatchUpdated:function(d,h,p){var v=d.watcher instanceof Of&&d.watcher.observableQuery;if(v){if(u){c.delete(v.queryId);var w=u(v,h,p);return w===!0&&(w=v.refetch()),w!==!1&&f.set(v,w),w}u!==null&&c.set(v.queryId,{oq:v,lastDiff:p,diff:h})}}}),c.size&&c.forEach(function(d,h){var p=d.oq,v=d.lastDiff,w=d.diff,m;if(u){if(!w){var g=p.queryInfo;g.reset(),w=g.getDiff()}m=u(p,w,v)}(!u||m===!0)&&(m=p.refetch()),m!==!1&&f.set(p,m),h.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(h)}),l&&this.cache.removeOptimistic(l),f},t.prototype.fetchQueryByPolicy=function(e,n,r){var i=this,o=n.query,s=n.variables,a=n.fetchPolicy,l=n.refetchWritePolicy,u=n.errorPolicy,c=n.returnPartialData,f=n.context,d=n.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:o,variables:s,networkStatus:r});var p=function(){return e.getDiff()},v=function(k,S){S===void 0&&(S=e.networkStatus||te.loading);var b=k.result;globalThis.__DEV__!==!1&&!c&&!fe(b,{})&&nS(k.missing);var x=function(T){return de.of(E({data:T,loading:ea(S),networkStatus:S},k.complete?null:{partial:!0}))};return b&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:b},context:f,variables:s,onlyRunForcedResolvers:!0}).then(function(T){return x(T.data||void 0)}):u==="none"&&S===te.refetch&&Array.isArray(k.missing)?x(void 0):x(b)},w=a==="no-cache"?0:r===te.refetch&&l!=="merge"?1:2,m=function(){return i.getResultsFromLink(e,w,{query:o,variables:s,context:f,fetchPolicy:a,errorPolicy:u})},g=d&&typeof h=="number"&&h!==r&&ea(r);switch(a){default:case"cache-first":{var y=p();return y.complete?{fromLink:!1,sources:[v(y,e.markReady())]}:c||g?{fromLink:!0,sources:[v(y),m()]}:{fromLink:!0,sources:[m()]}}case"cache-and-network":{var y=p();return y.complete||c||g?{fromLink:!0,sources:[v(y),m()]}:{fromLink:!0,sources:[m()]}}case"cache-only":return{fromLink:!1,sources:[v(p(),e.markReady())]};case"network-only":return g?{fromLink:!0,sources:[v(p()),m()]}:{fromLink:!0,sources:[m()]};case"no-cache":return g?{fromLink:!0,sources:[v(e.getDiff()),m()]}:{fromLink:!0,sources:[m()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Of(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return E(E(E({},this.defaultContext),n),{clientAwareness:this.clientAwareness})},t}(),x_=function(){function t(e){var n=e.cache,r=e.client,i=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=yy(n.resolvers,r)}):this.resolvers=yy(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){return er(this,arguments,void 0,function(n){var r=n.document,i=n.remoteResult,o=n.context,s=n.variables,a=n.onlyRunForcedResolvers,l=a===void 0?!1:a;return tr(this,function(u){return r?[2,this.resolveDocument(r,i.data,o,s,this.fragmentMatcher,l).then(function(c){return E(E({},i),{data:c.result})})]:[2,i]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return Gs(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return _k(e)},t.prototype.prepareContext=function(e){var n=this.cache;return E(E({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e){return er(this,arguments,void 0,function(n,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),tr(this,function(o){return n?[2,this.resolveDocument(n,this.buildRootValueFromCache(n,r)||{},this.prepareContext(i),r).then(function(s){return E(E({},r),s.exportedVariables)})]:[2,E({},r)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return Wn(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),n))return Lp}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:oN(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n){return er(this,arguments,void 0,function(r,i,o,s,a,l){var u,c,f,d,h,p,v,w,m,g,y;return o===void 0&&(o={}),s===void 0&&(s={}),a===void 0&&(a=function(){return!0}),l===void 0&&(l=!1),tr(this,function(k){return u=ka(r),c=ac(r),f=ic(c),d=this.collectSelectionsToResolve(u,f),h=u.operation,p=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",v=this,w=v.cache,m=v.client,g={fragmentMap:f,context:E(E({},o),{cache:w,client:m}),variables:s,fragmentMatcher:a,defaultOperationType:p,exportedVariables:{},selectionsToResolve:d,onlyRunForcedResolvers:l},y=!1,[2,this.resolveSelectionSet(u.selectionSet,y,i,g).then(function(S){return{result:S,exportedVariables:g.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,i){return er(this,void 0,void 0,function(){var o,s,a,l,u,c=this;return tr(this,function(f){return o=i.fragmentMap,s=i.context,a=i.variables,l=[r],u=function(d){return er(c,void 0,void 0,function(){var h,p;return tr(this,function(v){return!n&&!i.selectionsToResolve.has(d)?[2]:ya(d,a)?Or(d)?[2,this.resolveField(d,n,r,i).then(function(w){var m;typeof w<"u"&&l.push((m={},m[Tr(d)]=w,m))})]:(jC(d)?h=d:(h=o[d.name.value],B(h,18,d.name.value)),h&&h.typeCondition&&(p=h.typeCondition.name.value,i.fragmentMatcher(r,p,s))?[2,this.resolveSelectionSet(h.selectionSet,n,r,i).then(function(w){l.push(w)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(u)).then(function(){return fc(l)})]})})},t.prototype.resolveField=function(e,n,r,i){return er(this,void 0,void 0,function(){var o,s,a,l,u,c,f,d,h,p=this;return tr(this,function(v){return r?(o=i.variables,s=e.name.value,a=Tr(e),l=s!==a,u=r[a]||r[s],c=Promise.resolve(u),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(f=r.__typename||i.defaultOperationType,d=this.resolvers&&this.resolvers[f],d&&(h=d[l?s:a],h&&(c=Promise.resolve(Yp.withValue(this.cache,h,[r,sc(e,o),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,c.then(function(w){var m,g;if(w===void 0&&(w=u),e.directives&&e.directives.forEach(function(k){k.name.value==="export"&&k.arguments&&k.arguments.forEach(function(S){S.name.value==="as"&&S.value.kind==="StringValue"&&(i.exportedVariables[S.value.value]=w)})}),!e.selectionSet||w==null)return w;var y=(g=(m=e.directives)===null||m===void 0?void 0:m.some(function(k){return k.name.value==="client"}))!==null&&g!==void 0?g:!1;if(Array.isArray(w))return p.resolveSubSelectedArray(e,n||y,w,i);if(e.selectionSet)return p.resolveSelectionSet(e.selectionSet,n||y,w,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,i){var o=this;return Promise.all(r.map(function(s){if(s===null)return null;if(Array.isArray(s))return o.resolveSubSelectedArray(e,n,s,i);if(e.selectionSet)return o.resolveSelectionSet(e.selectionSet,n,s,i)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(s){return!Array.isArray(s)},i=this.selectionsToResolveCache;function o(s){if(!i.has(s)){var a=new Set;i.set(s,a),Wn(s,{Directive:function(l,u,c,f,d){l.name.value==="client"&&d.forEach(function(h){r(h)&&ay(h)&&a.add(h)})},FragmentSpread:function(l,u,c,f,d){var h=n[l.name.value];B(h,19,l.name.value);var p=o(h);p.size>0&&(d.forEach(function(v){r(v)&&ay(v)&&a.add(v)}),a.add(l),p.forEach(function(v){a.add(v)}))}})}return i.get(s)}return o(e)},t}(),Yy=!1,rS=function(){function t(e){var n=this,r;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw pt(15);var i=e.uri,o=e.credentials,s=e.headers,a=e.cache,l=e.documentTransform,u=e.ssrMode,c=u===void 0?!1:u,f=e.ssrForceFetchDelay,d=f===void 0?0:f,h=e.connectToDevTools,p=e.queryDeduplication,v=p===void 0?!0:p,w=e.defaultOptions,m=e.defaultContext,g=e.assumeImmutableResults,y=g===void 0?a.assumeImmutableResults:g,k=e.resolvers,S=e.typeDefs,b=e.fragmentMatcher,x=e.name,T=e.version,D=e.devtools,P=e.link;P||(P=i?new jk({uri:i,credentials:o,headers:s}):Sa.empty()),this.link=P,this.cache=a,this.disableNetworkFetches=c||d>0,this.queryDeduplication=v,this.defaultOptions=w||Object.create(null),this.typeDefs=S,this.devtoolsConfig=E(E({},D),{enabled:(r=D==null?void 0:D.enabled)!==null&&r!==void 0?r:h}),this.devtoolsConfig.enabled===void 0&&(this.devtoolsConfig.enabled=globalThis.__DEV__!==!1),d&&setTimeout(function(){return n.disableNetworkFetches=!1},d),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=Ip,this.localState=new x_({cache:a,client:this,resolvers:k,fragmentMatcher:b}),this.queryManager=new E_({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:m,documentTransform:l,queryDeduplication:v,ssrMode:c,clientAwareness:{name:x,version:T},localState:this.localState,assumeImmutableResults:y,onBroadcast:this.devtoolsConfig.enabled?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return t.prototype.connectToDevTools=function(){if(!(typeof window>"u")){var e=window,n=Symbol.for("apollo.devtools");(e[n]=e[n]||[]).push(this),e.__APOLLO_CLIENT__=this,!Yy&&globalThis.__DEV__!==!1&&(Yy=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout(function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var r=window.navigator,i=r&&r.userAgent,o=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&B.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))}},Object.defineProperty(t.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=bl(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=E(E({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=bl(this.defaultOptions.query,e)),B(e.fetchPolicy!=="cache-and-network",16),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=E(E({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=bl(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.watchFragment=function(e){return this.cache.watchFragment(e)},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){var n=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.writeFragment=function(e){var n=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return ih(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],i=[];n.forEach(function(s,a){r.push(a),i.push(s)});var o=Promise.all(i);return o.queries=r,o.results=i,o.catch(function(s){globalThis.__DEV__!==!1&&B.debug(17,s)}),o},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(t.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),t}();globalThis.__DEV__!==!1&&(rS.prototype.getMemoryInternals=vC);var Tl=new Map,hh=new Map,iS=!0,pu=!1;function oS(t){return t.replace(/[\s,]+/g," ").trim()}function T_(t){return oS(t.source.body.substring(t.start,t.end))}function O_(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,o=T_(r.loc),s=hh.get(i);s&&!s.has(o)?iS&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||hh.set(i,s=new Set),s.add(o),e.has(o)||(e.add(o),n.push(r))}else n.push(r)}),E(E({},t),{definitions:n})}function C_(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var o=r[i];o&&typeof o=="object"&&e.add(o)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function N_(t){var e=oS(t);if(!Tl.has(e)){var n=qO(t,{experimentalFragmentVariables:pu,allowLegacyFragmentVariables:pu});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");Tl.set(e,C_(O_(n)))}return Tl.get(e)}function _o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(i,o){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=t[o+1]}),N_(r)}function __(){Tl.clear(),hh.clear()}function M_(){iS=!1}function I_(){pu=!0}function A_(){pu=!1}var ns={gql:_o,resetCaches:__,disableFragmentWarnings:M_,enableExperimentalFragmentVariables:I_,disableExperimentalFragmentVariables:A_};(function(t){t.gql=ns.gql,t.resetCaches=ns.resetCaches,t.disableFragmentWarnings=ns.disableFragmentWarnings,t.enableExperimentalFragmentVariables=ns.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=ns.disableExperimentalFragmentVariables})(_o||(_o={}));_o.default=_o;var sS={exports:{}};(function(t){t.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=void 0,t.exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,t.exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,Object.assign(t.exports,bt)})(sS);var Pe=sS.exports;const P_=A0(Pe),aS=OE({__proto__:null,default:P_},[Pe]);var Xy=Fp?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function tm(){B("createContext"in aS,46);var t=Pe.createContext[Xy];return t||(Object.defineProperty(Pe.createContext,Xy,{value:t=Pe.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var R_=function(t){var e=t.client,n=t.children,r=tm(),i=Pe.useContext(r),o=Pe.useMemo(function(){return E(E({},i),{client:e||i.client})},[i,e]);return B(o.client,47),Pe.createElement(r.Provider,{value:o},n)};function lS(t){var e=Pe.useContext(tm()),n=t||e.client;return B(!!n,50),n}var Zy=!1,D_="useSyncExternalStore",L_=aS[D_],F_=L_||function(t,e,n){var r=e();globalThis.__DEV__!==!1&&!Zy&&r!==e()&&(Zy=!0,globalThis.__DEV__!==!1&&B.error(60));var i=Pe.useState({inst:{value:r,getSnapshot:e}}),o=i[0].inst,s=i[1];return lC?Pe.useLayoutEffect(function(){Object.assign(o,{value:r,getSnapshot:e}),Cf(o)&&s({inst:o})},[t,r,e]):Object.assign(o,{value:r,getSnapshot:e}),Pe.useEffect(function(){return Cf(o)&&s({inst:o}),t(function(){Cf(o)&&s({inst:o})})},[t]),r};function Cf(t){var e=t.value,n=t.getSnapshot;try{return e!==n()}catch{return!0}}var $n;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})($n||($n={}));var ei;function ev(t){var e;switch(t){case $n.Query:e="Query";break;case $n.Mutation:e="Mutation";break;case $n.Subscription:e="Subscription";break}return e}function uS(t){ei||(ei=new zp(Mn.parser||1e3));var e=ei.get(t);if(e)return e;var n,r,i;B(!!t&&!!t.kind,62,t);for(var o=[],s=[],a=[],l=[],u=0,c=t.definitions;u<c.length;u++){var f=c[u];if(f.kind==="FragmentDefinition"){o.push(f);continue}if(f.kind==="OperationDefinition")switch(f.operation){case"query":s.push(f);break;case"mutation":a.push(f);break;case"subscription":l.push(f);break}}B(!o.length||s.length||a.length||l.length,63),B(s.length+a.length+l.length<=1,64,t,s.length,l.length,a.length),r=s.length?$n.Query:$n.Mutation,!s.length&&!a.length&&(r=$n.Subscription);var d=s.length?s:a.length?a:l;B(d.length===1,65,t,d.length);var h=d[0];n=h.variableDefinitions||[],h.name&&h.name.kind==="Name"?i=h.name.value:i="data";var p={name:i,type:r,variables:n};return ei.set(t,p),p}uS.resetCache=function(){ei=void 0};globalThis.__DEV__!==!1&&jp("parser",function(){return ei?ei.size:0});function z_(t,e){var n=uS(t),r=ev(e),i=ev(n.type);B(n.type===e,66,r,r,i)}var j_=Symbol.for("apollo.hook.wrappers");function $_(t,e,n){var r=n.queryManager,i=r&&r[j_],o=i&&i[t];return o?o(e):e}var V_=Object.prototype.hasOwnProperty;function tv(){}var Ol=Symbol();function B_(t,e){return e===void 0&&(e=Object.create(null)),$_("useQuery",q_,lS(e&&e.client))(t,e)}function q_(t,e){var n=Q_(t,e),r=n.result,i=n.obsQueryFields;return Pe.useMemo(function(){return E(E({},r),i)},[r,i])}function U_(t,e,n,r,i){function o(f){var d;z_(e,$n.Query);var h={client:t,query:e,observable:r&&r.getSSRObservable(i())||t.watchQuery(cS(void 0,t,n,i())),resultData:{previousData:(d=f==null?void 0:f.resultData.current)===null||d===void 0?void 0:d.data}};return h}var s=Pe.useState(o),a=s[0],l=s[1];function u(f){var d,h;Object.assign(a.observable,(d={},d[Ol]=f,d));var p=a.resultData;l(E(E({},a),{query:f.query,resultData:Object.assign(p,{previousData:((h=p.current)===null||h===void 0?void 0:h.data)||p.previousData,current:void 0})}))}if(t!==a.client||e!==a.query){var c=o(a);return l(c),[c,u]}return[a,u]}function Q_(t,e){var n=lS(e.client),r=Pe.useContext(tm()).renderPromises,i=!!r,o=n.disableNetworkFetches,s=e.ssr!==!1&&!e.skip,a=e.partialRefetch,l=G_(n,t,e,i),u=U_(n,t,e,r,l),c=u[0],f=c.observable,d=c.resultData,h=u[1],p=l(f);J_(d,f,n,e,p);var v=Pe.useMemo(function(){return Z_(f)},[f]);H_(f,r,s);var w=W_(d,f,n,e,p,o,a,i,{onCompleted:e.onCompleted||tv,onError:e.onError||tv});return{result:w,obsQueryFields:v,observable:f,resultData:d,client:n,onQueryExecuted:h}}function W_(t,e,n,r,i,o,s,a,l){var u=Pe.useRef(l);Pe.useEffect(function(){u.current=l});var c=(a||o)&&r.ssr===!1&&!r.skip?dS:r.skip||i.fetchPolicy==="standby"?hS:void 0,f=t.previousData,d=Pe.useMemo(function(){return c&&fS(c,f,e,n)},[n,e,c,f]);return F_(Pe.useCallback(function(h){if(a)return function(){};var p=function(){var m=t.current,g=e.getCurrentResult();m&&m.loading===g.loading&&m.networkStatus===g.networkStatus&&fe(m.data,g.data)||ph(g,t,e,n,s,h,u.current)},v=function(m){if(w.current.unsubscribe(),w.current=e.resubscribeAfterError(p,v),!V_.call(m,"graphQLErrors"))throw m;var g=t.current;(!g||g&&g.loading||!fe(m,g.error))&&ph({data:g&&g.data,error:m,loading:!1,networkStatus:te.error},t,e,n,s,h,u.current)},w={current:e.subscribe(p,v)};return function(){setTimeout(function(){return w.current.unsubscribe()})}},[o,a,e,t,s,n]),function(){return d||nv(t,e,u.current,s,n)},function(){return d||nv(t,e,u.current,s,n)})}function H_(t,e,n){e&&n&&(e.registerSSRObservable(t),t.getCurrentResult().loading&&e.addObservableQueryPromise(t))}function J_(t,e,n,r,i){var o;e[Ol]&&!fe(e[Ol],i)&&(e.reobserve(cS(e,n,r,i)),t.previousData=((o=t.current)===null||o===void 0?void 0:o.data)||t.previousData,t.current=void 0),e[Ol]=i}function G_(t,e,n,r){n===void 0&&(n={});var i=n.skip;n.ssr,n.onCompleted,n.onError;var o=n.defaultOptions,s=pn(n,["skip","ssr","onCompleted","onError","defaultOptions"]);return function(a){var l=Object.assign(s,{query:e});return r&&(l.fetchPolicy==="network-only"||l.fetchPolicy==="cache-and-network")&&(l.fetchPolicy="cache-first"),l.variables||(l.variables={}),i?(l.initialFetchPolicy=l.initialFetchPolicy||l.fetchPolicy||rv(o,t.defaultOptions),l.fetchPolicy="standby"):l.fetchPolicy||(l.fetchPolicy=(a==null?void 0:a.options.initialFetchPolicy)||rv(o,t.defaultOptions)),l}}function cS(t,e,n,r){var i=[],o=e.defaultOptions.watchQuery;return o&&i.push(o),n.defaultOptions&&i.push(n.defaultOptions),i.push(Ei(t&&t.options,r)),i.reduce(bl)}function ph(t,e,n,r,i,o,s){var a=e.current;a&&a.data&&(e.previousData=a.data),!t.error&&Yt(t.errors)&&(t.error=new Ln({graphQLErrors:t.errors})),e.current=fS(X_(t,n,i),e.previousData,n,r),o(),K_(t,a==null?void 0:a.networkStatus,s)}function K_(t,e,n){if(!t.loading){var r=Y_(t);Promise.resolve().then(function(){r?n.onError(r):t.data&&e!==t.networkStatus&&t.networkStatus===te.ready&&n.onCompleted(t.data)}).catch(function(i){globalThis.__DEV__!==!1&&B.warn(i)})}}function nv(t,e,n,r,i){return t.current||ph(e.getCurrentResult(),t,e,i,r,function(){},n),t.current}function rv(t,e){var n;return(t==null?void 0:t.fetchPolicy)||((n=e==null?void 0:e.watchQuery)===null||n===void 0?void 0:n.fetchPolicy)||"cache-first"}function Y_(t){return Yt(t.errors)?new Ln({graphQLErrors:t.errors}):t.error}function fS(t,e,n,r){var i=t.data;t.partial;var o=pn(t,["data","partial"]),s=E(E({data:i},o),{client:r,observable:n,variables:n.variables,called:t!==dS&&t!==hS,previousData:e});return s}function X_(t,e,n){return t.partial&&n&&!t.loading&&(!t.data||Object.keys(t.data).length===0)&&e.options.fetchPolicy!=="cache-only"?(e.refetch(),E(E({},t),{loading:!0,networkStatus:te.refetch})):t}var dS=Xs({loading:!0,data:void 0,error:void 0,networkStatus:te.loading}),hS=Xs({loading:!1,data:void 0,error:void 0,networkStatus:te.ready});function Z_(t){return{refetch:t.refetch.bind(t),reobserve:t.reobserve.bind(t),fetchMore:t.fetchMore.bind(t),updateQuery:t.updateQuery.bind(t),startPolling:t.startPolling.bind(t),stopPolling:t.stopPolling.bind(t),subscribeToMore:t.subscribeToMore.bind(t)}}var pS=(t=>(t[t.ANONYMOUS=0]="ANONYMOUS",t))(pS||{});const eM="https://pu-course-staging.hasura.app/v1/graphql",tM=t=>({"x-hasura-role":t===0?"anonymous":"admin"}),nM=t=>new jk({uri:eM,headers:tM(t)}),rM=t=>new rS({link:nM(t),cache:new eS});var iM=!1;function oM(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function sM(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var aM=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!iM:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sM(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=oM(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ot="-ms-",mu="-moz-",oe="-webkit-",mS="comm",nm="rule",rm="decl",lM="@import",gS="@keyframes",uM="@layer",cM=Math.abs,dc=String.fromCharCode,fM=Object.assign;function dM(t,e){return Ye(t,0)^45?(((e<<2^Ye(t,0))<<2^Ye(t,1))<<2^Ye(t,2))<<2^Ye(t,3):0}function yS(t){return t.trim()}function hM(t,e){return(t=e.exec(t))?t[0]:t}function se(t,e,n){return t.replace(e,n)}function mh(t,e){return t.indexOf(e)}function Ye(t,e){return t.charCodeAt(e)|0}function ta(t,e,n){return t.slice(e,n)}function xn(t){return t.length}function im(t){return t.length}function Xa(t,e){return e.push(t),t}function pM(t,e){return t.map(e).join("")}var hc=1,Mo=1,vS=0,Nt=0,Ie=0,Vo="";function pc(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:hc,column:Mo,length:s,return:""}}function rs(t,e){return fM(pc("",null,null,"",null,null,0),t,{length:-t.length},e)}function mM(){return Ie}function gM(){return Ie=Nt>0?Ye(Vo,--Nt):0,Mo--,Ie===10&&(Mo=1,hc--),Ie}function Lt(){return Ie=Nt<vS?Ye(Vo,Nt++):0,Mo++,Ie===10&&(Mo=1,hc++),Ie}function _n(){return Ye(Vo,Nt)}function Cl(){return Nt}function ba(t,e){return ta(Vo,t,e)}function na(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wS(t){return hc=Mo=1,vS=xn(Vo=t),Nt=0,[]}function kS(t){return Vo="",t}function Nl(t){return yS(ba(Nt-1,gh(t===91?t+2:t===40?t+1:t)))}function yM(t){for(;(Ie=_n())&&Ie<33;)Lt();return na(t)>2||na(Ie)>3?"":" "}function vM(t,e){for(;--e&&Lt()&&!(Ie<48||Ie>102||Ie>57&&Ie<65||Ie>70&&Ie<97););return ba(t,Cl()+(e<6&&_n()==32&&Lt()==32))}function gh(t){for(;Lt();)switch(Ie){case t:return Nt;case 34:case 39:t!==34&&t!==39&&gh(Ie);break;case 40:t===41&&gh(t);break;case 92:Lt();break}return Nt}function wM(t,e){for(;Lt()&&t+Ie!==57;)if(t+Ie===84&&_n()===47)break;return"/*"+ba(e,Nt-1)+"*"+dc(t===47?t:Lt())}function kM(t){for(;!na(_n());)Lt();return ba(t,Nt)}function SM(t){return kS(_l("",null,null,null,[""],t=wS(t),0,[0],t))}function _l(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,d=0,h=0,p=0,v=1,w=1,m=1,g=0,y="",k=i,S=o,b=r,x=y;w;)switch(p=g,g=Lt()){case 40:if(p!=108&&Ye(x,f-1)==58){mh(x+=se(Nl(g),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:x+=Nl(g);break;case 9:case 10:case 13:case 32:x+=yM(p);break;case 92:x+=vM(Cl()-1,7);continue;case 47:switch(_n()){case 42:case 47:Xa(bM(wM(Lt(),Cl()),e,n),l);break;default:x+="/"}break;case 123*v:a[u++]=xn(x)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:w=0;case 59+c:m==-1&&(x=se(x,/\f/g,"")),h>0&&xn(x)-f&&Xa(h>32?ov(x+";",r,n,f-1):ov(se(x," ","")+";",r,n,f-2),l);break;case 59:x+=";";default:if(Xa(b=iv(x,e,n,u,c,i,a,y,k=[],S=[],f),o),g===123)if(c===0)_l(x,e,b,b,k,o,f,a,S);else switch(d===99&&Ye(x,3)===110?100:d){case 100:case 108:case 109:case 115:_l(t,b,b,r&&Xa(iv(t,b,b,0,0,i,a,y,i,k=[],f),S),i,S,f,a,r?k:S);break;default:_l(x,b,b,b,[""],S,0,a,S)}}u=c=h=0,v=m=1,y=x="",f=s;break;case 58:f=1+xn(x),h=p;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&gM()==125)continue}switch(x+=dc(g),g*v){case 38:m=c>0?1:(x+="\f",-1);break;case 44:a[u++]=(xn(x)-1)*m,m=1;break;case 64:_n()===45&&(x+=Nl(Lt())),d=_n(),c=f=xn(y=x+=kM(Cl())),g++;break;case 45:p===45&&xn(x)==2&&(v=0)}}return o}function iv(t,e,n,r,i,o,s,a,l,u,c){for(var f=i-1,d=i===0?o:[""],h=im(d),p=0,v=0,w=0;p<r;++p)for(var m=0,g=ta(t,f+1,f=cM(v=s[p])),y=t;m<h;++m)(y=yS(v>0?d[m]+" "+g:se(g,/&\f/g,d[m])))&&(l[w++]=y);return pc(t,e,n,i===0?nm:a,l,u,c)}function bM(t,e,n){return pc(t,e,n,mS,dc(mM()),ta(t,2,-2),0)}function ov(t,e,n,r){return pc(t,e,n,rm,ta(t,0,r),ta(t,r+1,-1),r)}function mo(t,e){for(var n="",r=im(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function EM(t,e,n,r){switch(t.type){case uM:if(t.children.length)break;case lM:case rm:return t.return=t.return||t.value;case mS:return"";case gS:return t.return=t.value+"{"+mo(t.children,r)+"}";case nm:t.value=t.props.join(",")}return xn(n=mo(t.children,r))?t.return=t.value+"{"+n+"}":""}function xM(t){var e=im(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function TM(t){return function(e){e.root||(e=e.return)&&t(e)}}function OM(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var CM=function(e,n,r){for(var i=0,o=0;i=o,o=_n(),i===38&&o===12&&(n[r]=1),!na(o);)Lt();return ba(e,Nt)},NM=function(e,n){var r=-1,i=44;do switch(na(i)){case 0:i===38&&_n()===12&&(n[r]=1),e[r]+=CM(Nt-1,n,r);break;case 2:e[r]+=Nl(i);break;case 4:if(i===44){e[++r]=_n()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=dc(i)}while(i=Lt());return e},_M=function(e,n){return kS(NM(wS(e),n))},sv=new WeakMap,MM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!sv.get(r))&&!i){sv.set(e,!0);for(var o=[],s=_M(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},IM=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function SS(t,e){switch(dM(t,e)){case 5103:return oe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return oe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return oe+t+mu+t+ot+t+t;case 6828:case 4268:return oe+t+ot+t+t;case 6165:return oe+t+ot+"flex-"+t+t;case 5187:return oe+t+se(t,/(\w+).+(:[^]+)/,oe+"box-$1$2"+ot+"flex-$1$2")+t;case 5443:return oe+t+ot+"flex-item-"+se(t,/flex-|-self/,"")+t;case 4675:return oe+t+ot+"flex-line-pack"+se(t,/align-content|flex-|-self/,"")+t;case 5548:return oe+t+ot+se(t,"shrink","negative")+t;case 5292:return oe+t+ot+se(t,"basis","preferred-size")+t;case 6060:return oe+"box-"+se(t,"-grow","")+oe+t+ot+se(t,"grow","positive")+t;case 4554:return oe+se(t,/([^-])(transform)/g,"$1"+oe+"$2")+t;case 6187:return se(se(se(t,/(zoom-|grab)/,oe+"$1"),/(image-set)/,oe+"$1"),t,"")+t;case 5495:case 3959:return se(t,/(image-set\([^]*)/,oe+"$1$`$1");case 4968:return se(se(t,/(.+:)(flex-)?(.*)/,oe+"box-pack:$3"+ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+oe+t+t;case 4095:case 3583:case 4068:case 2532:return se(t,/(.+)-inline(.+)/,oe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xn(t)-1-e>6)switch(Ye(t,e+1)){case 109:if(Ye(t,e+4)!==45)break;case 102:return se(t,/(.+:)(.+)-([^]+)/,"$1"+oe+"$2-$3$1"+mu+(Ye(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~mh(t,"stretch")?SS(se(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ye(t,e+1)!==115)break;case 6444:switch(Ye(t,xn(t)-3-(~mh(t,"!important")&&10))){case 107:return se(t,":",":"+oe)+t;case 101:return se(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+oe+(Ye(t,14)===45?"inline-":"")+"box$3$1"+oe+"$2$3$1"+ot+"$2box$3")+t}break;case 5936:switch(Ye(t,e+11)){case 114:return oe+t+ot+se(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return oe+t+ot+se(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return oe+t+ot+se(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return oe+t+ot+t+t}return t}var AM=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case rm:e.return=SS(e.value,e.length);break;case gS:return mo([rs(e,{value:se(e.value,"@","@"+oe)})],i);case nm:if(e.length)return pM(e.props,function(o){switch(hM(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mo([rs(e,{props:[se(o,/:(read-\w+)/,":"+mu+"$1")]})],i);case"::placeholder":return mo([rs(e,{props:[se(o,/:(plac\w+)/,":"+oe+"input-$1")]}),rs(e,{props:[se(o,/:(plac\w+)/,":"+mu+"$1")]}),rs(e,{props:[se(o,/:(plac\w+)/,ot+"input-$1")]})],i)}return""})}},PM=[AM],RM=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var w=v.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||PM,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var w=v.getAttribute("data-emotion").split(" "),m=1;m<w.length;m++)o[w[m]]=!0;a.push(v)});var l,u=[MM,IM];{var c,f=[EM,TM(function(v){c.insert(v)})],d=xM(u.concat(i,f)),h=function(w){return mo(SM(w),d)};l=function(w,m,g,y){c=g,h(w?w+"{"+m.styles+"}":m.styles),y&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new aM({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function DM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var LM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},FM=!1,zM=/[A-Z]|^ms/g,jM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bS=function(e){return e.charCodeAt(1)===45},av=function(e){return e!=null&&typeof e!="boolean"},Nf=OM(function(t){return bS(t)?t:t.replace(zM,"-$&").toLowerCase()}),lv=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(jM,function(r,i,o){return fr={name:i,styles:o,next:fr},i})}return LM[e]!==1&&!bS(e)&&typeof n=="number"&&n!==0?n+"px":n},$M="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function gu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return fr={name:i.name,styles:i.styles,next:fr},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)fr={name:s.name,styles:s.styles,next:fr},s=s.next;var a=o.styles+";";return a}return VM(t,e,n)}}var l=n;if(e==null)return l;var u=e[l];return u!==void 0?u:l}function VM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=gu(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":av(a)&&(r+=Nf(o)+":"+lv(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&FM)throw new Error($M);if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)av(s[l])&&(r+=Nf(o)+":"+lv(o,s[l])+";");else{var u=gu(t,e,s);switch(o){case"animation":case"animationName":{r+=Nf(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var uv=/label:\s*([^\s;{]+)\s*(;|$)/g,fr;function Ml(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";fr=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=gu(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=gu(n,e,t[a]),r){var l=o;i+=l[a]}uv.lastIndex=0;for(var u="",c;(c=uv.exec(i))!==null;)u+="-"+c[1];var f=DM(i)+u;return{name:f,styles:i,next:fr}}function ES(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var BM=function(e,n,r){var i=e.key+"-"+n.name;e.registered[i]===void 0&&(e.registered[i]=n.styles)},qM=function(e,n,r){BM(e,n);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function cv(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function fv(t,e,n){var r=[],i=ES(t,r,n);return r.length<2?n:i+e(r)}var UM=function(e){var n=RM(e);n.sheet.speedy=function(a){this.isSpeedy=a},n.compat=!0;var r=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var f=Ml(u,n.registered,void 0);return qM(n,f),n.key+"-"+f.name},i=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var f=Ml(u,n.registered),d="animation-"+f.name;return cv(n,{name:f.name,styles:"@keyframes "+d+"{"+f.styles+"}"}),d},o=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var f=Ml(u,n.registered);cv(n,f)},s=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return fv(n.registered,r,QM(u))};return{css:r,cx:s,injectGlobal:o,keyframes:i,hydrate:function(l){l.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:ES.bind(null,n.registered),merge:fv.bind(null,n.registered,r)}},QM=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(i!=null){var o=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))o=t(i);else{o="";for(var s in i)i[s]&&s&&(o&&(o+=" "),o+=s)}break}default:o=i}o&&(n&&(n+=" "),n+=o)}}return n},WM=UM({key:"css"}),be=WM.css;be({display:"flex",width:"100%"});const HM=be({display:"flex",flexDirection:"column",flex:1}),xS=bt.createContext(void 0),JM=({children:t,course:e})=>{const[n,r]=bt.useState({activeLecture:e.content[0].items[0],course:e,sidebarOpen:!0}),i=o=>{r(s=>({...s,activeLecture:o,course:(s==null?void 0:s.course)||e}))};return H.jsx(xS.Provider,{value:{state:n,onSelectLecture:i},children:t})},Ea=()=>{const t=bt.useContext(xS);if(t===void 0)throw new Error("useCourse must be used within a CourseProvider");return t},GM=be({}),KM=()=>H.jsx("div",{className:GM,children:"discussion"}),YM=be({maxHeight:"600px",overflowY:"auto",maxWidth:"600px",backgroundColor:"#fff",overflow:"hidden",minWidth:320}),TS=be({borderBottom:"1px solid #ddd"}),XM=be({cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"normal",width:"100%",gap:"0.5rem",backgroundColor:"#f5f5f5",border:0,minHeight:40,padding:"8px 12px"}),ZM=be({display:"grid",gap:"0.25rem",width:"100%"}),eI=be({fontWeight:"bold",textAlign:"left",fontSize:"0.9rem"}),tI=be({textAlign:"left",fontSize:"0.85rem"}),nI=be({backgroundColor:"#fff"}),rI=be({listStyleType:"none",margin:0,padding:0,paddingLeft:0}),OS=be({margin:0,padding:0}),iI=be([{display:"flex",gap:"0.25rem",width:"100%",border:0,cursor:"pointer",padding:"8px 12px"}]);be({marginRight:8});const oI=be({display:"flex",alignItems:"center",width:"100%",padding:0}),sI=be({display:"grid",gap:"0.25rem",width:"100%"}),aI=be({textAlign:"left"}),dv={bold:be({fontWeight:"bold"}),normal:be({})},lI=({isActive:t})=>{const e=t?dv.bold:dv.normal;return[aI,e]};be({textAlign:"left"});const uI=({item:t})=>{const{onSelectLecture:e,state:n}=Ea(),r=t.id===(n==null?void 0:n.activeLecture.id);return H.jsx("li",{className:oI,"data-active":r?"true":"false",children:H.jsx("button",{className:iI,onClick:()=>e(t),children:H.jsx("div",{className:sI,children:H.jsx("div",{className:be(lI({isActive:r})),children:t.title})})})})};function cI(...t){return t.map(e=>typeof e=="string"?e:typeof e=="object"?Object.keys(e).filter(n=>e[n]).join(" "):"").filter(Boolean).join(" ")}const fI=()=>H.jsxs("section",{className:TS,children:[H.jsx("div",{children:"Course Content"}),H.jsx(hI,{})]}),dI=({title:t,items:e})=>{const[n,r]=bt.useState(!1),i=`toggle-${t.replace(/\s+/g,"-")}`;return H.jsxs("li",{className:cI(TS,rI),children:[H.jsxs("button",{className:XM,onClick:()=>r(!n),"aria-expanded":n,"aria-controls":i,children:[H.jsxs("div",{className:ZM,children:[H.jsx("div",{className:eI,children:t}),H.jsx("div",{className:tI,children:"meta"})]}),H.jsx("span",{children:n?"":""})]}),H.jsxs("div",{id:i,className:nI,"aria-hidden":!n,style:{display:n?"block":"none"},children:[e.length===0&&H.jsx("p",{children:"No content available"}),e.length>0&&H.jsx("ul",{className:OS,children:e.map((o,s)=>H.jsx(uI,{item:o},s))})]})]})},hI=()=>{var e;const t=Ea();return H.jsx("div",{className:YM,children:H.jsx("ul",{className:OS,children:(e=t.state)==null?void 0:e.course.content.map((n,r)=>H.jsx(dI,{title:n.title,items:n.items},r))})})};var CS={exports:{}},ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He=typeof Symbol=="function"&&Symbol.for,om=He?Symbol.for("react.element"):60103,sm=He?Symbol.for("react.portal"):60106,mc=He?Symbol.for("react.fragment"):60107,gc=He?Symbol.for("react.strict_mode"):60108,yc=He?Symbol.for("react.profiler"):60114,vc=He?Symbol.for("react.provider"):60109,wc=He?Symbol.for("react.context"):60110,am=He?Symbol.for("react.async_mode"):60111,kc=He?Symbol.for("react.concurrent_mode"):60111,Sc=He?Symbol.for("react.forward_ref"):60112,bc=He?Symbol.for("react.suspense"):60113,pI=He?Symbol.for("react.suspense_list"):60120,Ec=He?Symbol.for("react.memo"):60115,xc=He?Symbol.for("react.lazy"):60116,mI=He?Symbol.for("react.block"):60121,gI=He?Symbol.for("react.fundamental"):60117,yI=He?Symbol.for("react.responder"):60118,vI=He?Symbol.for("react.scope"):60119;function Vt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case om:switch(t=t.type,t){case am:case kc:case mc:case yc:case gc:case bc:return t;default:switch(t=t&&t.$$typeof,t){case wc:case Sc:case xc:case Ec:case vc:return t;default:return e}}case sm:return e}}}function NS(t){return Vt(t)===kc}ue.AsyncMode=am;ue.ConcurrentMode=kc;ue.ContextConsumer=wc;ue.ContextProvider=vc;ue.Element=om;ue.ForwardRef=Sc;ue.Fragment=mc;ue.Lazy=xc;ue.Memo=Ec;ue.Portal=sm;ue.Profiler=yc;ue.StrictMode=gc;ue.Suspense=bc;ue.isAsyncMode=function(t){return NS(t)||Vt(t)===am};ue.isConcurrentMode=NS;ue.isContextConsumer=function(t){return Vt(t)===wc};ue.isContextProvider=function(t){return Vt(t)===vc};ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===om};ue.isForwardRef=function(t){return Vt(t)===Sc};ue.isFragment=function(t){return Vt(t)===mc};ue.isLazy=function(t){return Vt(t)===xc};ue.isMemo=function(t){return Vt(t)===Ec};ue.isPortal=function(t){return Vt(t)===sm};ue.isProfiler=function(t){return Vt(t)===yc};ue.isStrictMode=function(t){return Vt(t)===gc};ue.isSuspense=function(t){return Vt(t)===bc};ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mc||t===kc||t===yc||t===gc||t===bc||t===pI||typeof t=="object"&&t!==null&&(t.$$typeof===xc||t.$$typeof===Ec||t.$$typeof===vc||t.$$typeof===wc||t.$$typeof===Sc||t.$$typeof===gI||t.$$typeof===yI||t.$$typeof===vI||t.$$typeof===mI)};ue.typeOf=Vt;CS.exports=ue;var wI=CS.exports,_S=wI,kI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},SI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},MS={};MS[_S.ForwardRef]=kI;MS[_S.Memo]=SI;function yn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ml(e)}const bI=t=>yn({paddingTop:t}),EI=t=>yn({paddingTop:t}),xI=t=>yn({paddingTop:t}),TI=t=>yn({paddingTop:t}),OI=t=>yn({paddingTop:t}),CI=t=>yn({paddingTop:t,paddingBottom:t}),NI=t=>yn({paddingLeft:t,paddingRight:t}),_I=t=>yn({display:t}),MI=t=>yn({gap:t}),II=t=>yn({flexDirection:t}),AI=t=>yn({width:t}),PI={paddingTop:bI,paddingBottom:EI,paddingRight:xI,paddingLeft:TI,padding:OI,paddingY:CI,paddingX:NI,display:_I,gap:MI,flexDirection:II,width:AI},RI=t=>{const e=Object.keys(t).map(n=>{const r=PI[n],i=t[n];return r?r(i):void 0});return be(e)},DI=be({backgroundColor:"black",width:"100%",height:"100%",flex:1});/*! @vimeo/player v2.24.0 | (c) 2024 Vimeo | MIT License | https://github.com/vimeo/player.js */function hv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hv(Object(n),!0).forEach(function(r){Il(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ct(){ct=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(N,O,I){N[O]=I.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(N,O,I){return Object.defineProperty(N,O,{value:I,enumerable:!0,configurable:!0,writable:!0}),N[O]}try{l({},"")}catch{l=function(O,I,W){return O[I]=W}}function u(N,O,I,W){var V=O&&O.prototype instanceof d?O:d,ee=Object.create(V.prototype),M=new D(W||[]);return r(ee,"_invoke",{value:S(N,I,M)}),ee}function c(N,O,I){try{return{type:"normal",arg:N.call(O,I)}}catch(W){return{type:"throw",arg:W}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var v={};l(v,o,function(){return this});var w=Object.getPrototypeOf,m=w&&w(w(P([])));m&&m!==e&&n.call(m,o)&&(v=m);var g=p.prototype=d.prototype=Object.create(v);function y(N){["next","throw","return"].forEach(function(O){l(N,O,function(I){return this._invoke(O,I)})})}function k(N,O){function I(V,ee,M,R){var U=c(N[V],N,ee);if(U.type!=="throw"){var re=U.arg,ie=re.value;return ie&&typeof ie=="object"&&n.call(ie,"__await")?O.resolve(ie.__await).then(function(nt){I("next",nt,M,R)},function(nt){I("throw",nt,M,R)}):O.resolve(ie).then(function(nt){re.value=nt,M(re)},function(nt){return I("throw",nt,M,R)})}R(U.arg)}var W;r(this,"_invoke",{value:function(V,ee){function M(){return new O(function(R,U){I(V,ee,R,U)})}return W=W?W.then(M,M):M()}})}function S(N,O,I){var W="suspendedStart";return function(V,ee){if(W==="executing")throw new Error("Generator is already running");if(W==="completed"){if(V==="throw")throw ee;return Ee()}for(I.method=V,I.arg=ee;;){var M=I.delegate;if(M){var R=b(M,I);if(R){if(R===f)continue;return R}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(W==="suspendedStart")throw W="completed",I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);W="executing";var U=c(N,O,I);if(U.type==="normal"){if(W=I.done?"completed":"suspendedYield",U.arg===f)continue;return{value:U.arg,done:I.done}}U.type==="throw"&&(W="completed",I.method="throw",I.arg=U.arg)}}}function b(N,O){var I=O.method,W=N.iterator[I];if(W===void 0)return O.delegate=null,I==="throw"&&N.iterator.return&&(O.method="return",O.arg=void 0,b(N,O),O.method==="throw")||I!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+I+"' method")),f;var V=c(W,N.iterator,O.arg);if(V.type==="throw")return O.method="throw",O.arg=V.arg,O.delegate=null,f;var ee=V.arg;return ee?ee.done?(O[N.resultName]=ee.value,O.next=N.nextLoc,O.method!=="return"&&(O.method="next",O.arg=void 0),O.delegate=null,f):ee:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,f)}function x(N){var O={tryLoc:N[0]};1 in N&&(O.catchLoc=N[1]),2 in N&&(O.finallyLoc=N[2],O.afterLoc=N[3]),this.tryEntries.push(O)}function T(N){var O=N.completion||{};O.type="normal",delete O.arg,N.completion=O}function D(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(x,this),this.reset(!0)}function P(N){if(N){var O=N[o];if(O)return O.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var I=-1,W=function V(){for(;++I<N.length;)if(n.call(N,I))return V.value=N[I],V.done=!1,V;return V.value=void 0,V.done=!0,V};return W.next=W}}return{next:Ee}}function Ee(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(N){var O=typeof N=="function"&&N.constructor;return!!O&&(O===h||(O.displayName||O.name)==="GeneratorFunction")},t.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,p):(N.__proto__=p,l(N,a,"GeneratorFunction")),N.prototype=Object.create(g),N},t.awrap=function(N){return{__await:N}},y(k.prototype),l(k.prototype,s,function(){return this}),t.AsyncIterator=k,t.async=function(N,O,I,W,V){V===void 0&&(V=Promise);var ee=new k(u(N,O,I,W),V);return t.isGeneratorFunction(O)?ee:ee.next().then(function(M){return M.done?M.value:ee.next()})},y(g),l(g,a,"Generator"),l(g,o,function(){return this}),l(g,"toString",function(){return"[object Generator]"}),t.keys=function(N){var O=Object(N),I=[];for(var W in O)I.push(W);return I.reverse(),function V(){for(;I.length;){var ee=I.pop();if(ee in O)return V.value=ee,V.done=!1,V}return V.done=!0,V}},t.values=P,D.prototype={constructor:D,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!N)for(var O in this)O.charAt(0)==="t"&&n.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var O=this;function I(U,re){return ee.type="throw",ee.arg=N,O.next=U,re&&(O.method="next",O.arg=void 0),!!re}for(var W=this.tryEntries.length-1;W>=0;--W){var V=this.tryEntries[W],ee=V.completion;if(V.tryLoc==="root")return I("end");if(V.tryLoc<=this.prev){var M=n.call(V,"catchLoc"),R=n.call(V,"finallyLoc");if(M&&R){if(this.prev<V.catchLoc)return I(V.catchLoc,!0);if(this.prev<V.finallyLoc)return I(V.finallyLoc)}else if(M){if(this.prev<V.catchLoc)return I(V.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return I(V.finallyLoc)}}}},abrupt:function(N,O){for(var I=this.tryEntries.length-1;I>=0;--I){var W=this.tryEntries[I];if(W.tryLoc<=this.prev&&n.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var V=W;break}}V&&(N==="break"||N==="continue")&&V.tryLoc<=O&&O<=V.finallyLoc&&(V=null);var ee=V?V.completion:{};return ee.type=N,ee.arg=O,V?(this.method="next",this.next=V.finallyLoc,f):this.complete(ee)},complete:function(N,O){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&O&&(this.next=O),f},finish:function(N){for(var O=this.tryEntries.length-1;O>=0;--O){var I=this.tryEntries[O];if(I.finallyLoc===N)return this.complete(I.completion,I.afterLoc),T(I),f}},catch:function(N){for(var O=this.tryEntries.length-1;O>=0;--O){var I=this.tryEntries[O];if(I.tryLoc===N){var W=I.completion;if(W.type==="throw"){var V=W.arg;T(I)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(N,O,I){return this.delegate={iterator:P(N),resultName:O,nextLoc:I},this.method==="next"&&(this.arg=void 0),f}},t}function mv(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(u){n(u);return}a.done?e(l):Promise.resolve(l).then(r,i)}function Hr(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){mv(o,r,i,s,a,"next",l)}function a(l){mv(o,r,i,s,a,"throw",l)}s(void 0)})}}function IS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RS(r.key),r)}}function AS(t,e,n){return e&&LI(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Il(t,e,n){return e=RS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ia(t,e)}function ra(t){return ra=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ra(t)}function ia(t,e){return ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ia(t,e)}function PS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Al(t,e,n){return PS()?Al=Reflect.construct.bind():Al=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),u=new l;return s&&ia(u,s.prototype),u},Al.apply(null,arguments)}function zI(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function yh(t){var e=typeof Map=="function"?new Map:void 0;return yh=function(r){if(r===null||!zI(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Al(r,arguments,ra(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ia(i,r)},yh(t)}function Pl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jI(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pl(t)}function $I(t){var e=PS();return function(){var r=ra(t),i;if(e){var o=ra(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return jI(this,i)}}function VI(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RS(t){var e=VI(t,"string");return typeof e=="symbol"?e:String(e)}var DS=typeof global<"u"&&{}.toString.call(global)==="[object global]";function gv(t,e){return t.indexOf(e.toLowerCase())===0?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function BI(t){return!!(t&&t.nodeType===1&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView)}function qI(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function xi(t){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(t)}function LS(t){var e=/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/;return e.test(t)}function UI(t){for(var e=(t||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),n=(e&&e[1]||"").replace("player.",""),r=[".videoji.hk",".vimeo.work",".videoji.cn"],i=0,o=r;i<o.length;i++){var s=o[i];if(n.endsWith(s))return n}return"vimeo.com"}function FS(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.id,n=t.url,r=e||n;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(qI(r))return"https://vimeo.com/".concat(r);if(xi(r))return r.replace("http:","https:");throw e?new TypeError("".concat(e," is not a valid video id.")):new TypeError("".concat(r," is not a vimeo.com url."))}var yv=function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",s=typeof n=="string"?[n]:n;return s.forEach(function(a){e[i](a,r)}),{cancel:function(){return s.forEach(function(l){return e[o](l,r)})}}},QI=typeof Array.prototype.indexOf<"u",WI=typeof window<"u"&&typeof window.postMessage<"u";if(!DS&&(!QI||!WI))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function HI(t,e){return e={exports:{}},t(e,e.exports),e.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(t){if(t.WeakMap)return;var e=Object.prototype.hasOwnProperty,n=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),r=function(o,s,a){n?Object.defineProperty(o,s,{configurable:!0,writable:!0,value:a}):o[s]=a};t.WeakMap=function(){function o(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",a("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(o.prototype,"delete",function(u){if(s(this,"delete"),!i(u))return!1;var c=u[this._id];return c&&c[0]===u?(delete u[this._id],!0):!1}),r(o.prototype,"get",function(u){if(s(this,"get"),!!i(u)){var c=u[this._id];if(c&&c[0]===u)return c[1]}}),r(o.prototype,"has",function(u){if(s(this,"has"),!i(u))return!1;var c=u[this._id];return!!(c&&c[0]===u)}),r(o.prototype,"set",function(u,c){if(s(this,"set"),!i(u))throw new TypeError("Invalid value used as weak map key");var f=u[this._id];return f&&f[0]===u?(f[1]=c,this):(r(u,this._id,[u,c]),this)});function s(u,c){if(!i(u)||!e.call(u,"_id"))throw new TypeError(c+" method called on incompatible receiver "+typeof u)}function a(u){return u+"_"+l()+"."+l()}function l(){return Math.random().toString().substring(2)}return r(o,"_polyfill",!0),o}();function i(o){return Object(o)===o}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:go);var qt=HI(function(t){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,r,i){r[n]=r[n]||i(),t.exports&&(t.exports=r[n])})("Promise",go,function(){var n,r,i,o=Object.prototype.toString,s=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(y,k,S,b){return Object.defineProperty(y,k,{value:S,writable:!0,configurable:b!==!1})}}catch{n=function(k,S,b){return k[S]=b,k}}i=function(){var y,k,S;function b(x,T){this.fn=x,this.self=T,this.next=void 0}return{add:function(T,D){S=new b(T,D),k?k.next=S:y=S,k=S,S=void 0},drain:function(){var T=y;for(y=k=r=void 0;T;)T.fn.call(T.self),T=T.next}}}();function a(g,y){i.add(g,y),r||(r=s(i.drain))}function l(g){var y,k=typeof g;return g!=null&&(k=="object"||k=="function")&&(y=g.then),typeof y=="function"?y:!1}function u(){for(var g=0;g<this.chain.length;g++)c(this,this.state===1?this.chain[g].success:this.chain[g].failure,this.chain[g]);this.chain.length=0}function c(g,y,k){var S,b;try{y===!1?k.reject(g.msg):(y===!0?S=g.msg:S=y.call(void 0,g.msg),S===k.promise?k.reject(TypeError("Promise-chain cycle")):(b=l(S))?b.call(S,k.resolve,k.reject):k.resolve(S))}catch(x){k.reject(x)}}function f(g){var y,k=this;if(!k.triggered){k.triggered=!0,k.def&&(k=k.def);try{(y=l(g))?a(function(){var S=new p(k);try{y.call(g,function(){f.apply(S,arguments)},function(){d.apply(S,arguments)})}catch(b){d.call(S,b)}}):(k.msg=g,k.state=1,k.chain.length>0&&a(u,k))}catch(S){d.call(new p(k),S)}}}function d(g){var y=this;y.triggered||(y.triggered=!0,y.def&&(y=y.def),y.msg=g,y.state=2,y.chain.length>0&&a(u,y))}function h(g,y,k,S){for(var b=0;b<y.length;b++)(function(T){g.resolve(y[T]).then(function(P){k(T,P)},S)})(b)}function p(g){this.def=g,this.triggered=!1}function v(g){this.promise=g,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(g){if(typeof g!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var y=new v(this);this.then=function(S,b){var x={success:typeof S=="function"?S:!0,failure:typeof b=="function"?b:!1};return x.promise=new this.constructor(function(D,P){if(typeof D!="function"||typeof P!="function")throw TypeError("Not a function");x.resolve=D,x.reject=P}),y.chain.push(x),y.state!==0&&a(u,y),x.promise},this.catch=function(S){return this.then(void 0,S)};try{g.call(void 0,function(S){f.call(y,S)},function(S){d.call(y,S)})}catch(k){d.call(y,k)}}var m=n({},"constructor",w,!1);return w.prototype=m,n(m,"__NPO__",0,!1),n(w,"resolve",function(y){var k=this;return y&&typeof y=="object"&&y.__NPO__===1?y:new k(function(b,x){if(typeof b!="function"||typeof x!="function")throw TypeError("Not a function");b(y)})}),n(w,"reject",function(y){return new this(function(S,b){if(typeof S!="function"||typeof b!="function")throw TypeError("Not a function");b(y)})}),n(w,"all",function(y){var k=this;return o.call(y)!="[object Array]"?k.reject(TypeError("Not an array")):y.length===0?k.resolve([]):new k(function(b,x){if(typeof b!="function"||typeof x!="function")throw TypeError("Not a function");var T=y.length,D=Array(T),P=0;h(k,y,function(N,O){D[N]=O,++P===T&&b(D)},x)})}),n(w,"race",function(y){var k=this;return o.call(y)!="[object Array]"?k.reject(TypeError("Not an array")):new k(function(b,x){if(typeof b!="function"||typeof x!="function")throw TypeError("Not a function");h(k,y,function(D,P){b(P)},x)})}),w})}),Vn=new WeakMap;function is(t,e,n){var r=Vn.get(t.element)||{};e in r||(r[e]=[]),r[e].push(n),Vn.set(t.element,r)}function yu(t,e){var n=Vn.get(t.element)||{};return n[e]||[]}function vu(t,e,n){var r=Vn.get(t.element)||{};if(!r[e])return!0;if(!n)return r[e]=[],Vn.set(t.element,r),!0;var i=r[e].indexOf(n);return i!==-1&&r[e].splice(i,1),Vn.set(t.element,r),r[e]&&r[e].length===0}function JI(t,e){var n=yu(t,e);if(n.length<1)return!1;var r=n.shift();return vu(t,e,r),r}function GI(t,e){var n=Vn.get(t);Vn.set(e,n),Vn.delete(t)}function Tc(t){if(typeof t=="string")try{t=JSON.parse(t)}catch(e){return console.warn(e),{}}return t}function Br(t,e,n){if(!(!t.element.contentWindow||!t.element.contentWindow.postMessage)){var r={method:e};n!==void 0&&(r.value=n);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));i>=8&&i<10&&(r=JSON.stringify(r)),t.element.contentWindow.postMessage(r,t.origin)}}function KI(t,e){e=Tc(e);var n=[],r;if(e.event){if(e.event==="error"){var i=yu(t,e.data.method);i.forEach(function(s){var a=new Error(e.data.message);a.name=e.data.name,s.reject(a),vu(t,e.data.method,s)})}n=yu(t,"event:".concat(e.event)),r=e.data}else if(e.method){var o=JI(t,e.method);o&&(n.push(o),r=e.value)}n.forEach(function(s){try{if(typeof s=="function"){s.call(t,r);return}s.resolve(r)}catch{}})}var YI=["airplay","audio_tracks","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","play_button_position","playsinline","portrait","progress_bar","quality_selector","responsive","speed","start_time","texttrack","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function zS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return YI.reduce(function(n,r){var i=t.getAttribute("data-vimeo-".concat(r));return(i||i==="")&&(n[r]=i===""?1:i),n},e)}function lm(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(e.getAttribute("data-vimeo-initialized")!==null)return e.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,e.appendChild(r.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function jS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,i){if(!xi(t))throw new TypeError("".concat(t," is not a vimeo.com url."));var o=UI(t),s="https://".concat(o,"/api/oembed.json?url=").concat(encodeURIComponent(t));for(var a in e)e.hasOwnProperty(a)&&(s+="&".concat(a,"=").concat(encodeURIComponent(e[a])));var l="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;l.open("GET",s,!0),l.onload=function(){if(l.status===404){i(new Error("".concat(t," was not found.")));return}if(l.status===403){i(new Error("".concat(t," is not embeddable.")));return}try{var u=JSON.parse(l.responseText);if(u.domain_status_code===403){lm(u,n),i(new Error("".concat(t," is not embeddable.")));return}r(u)}catch(c){i(c)}},l.onerror=function(){var u=l.status?" (".concat(l.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(u,".")))},l.send()})}function XI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(i){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(i))};e.forEach(function(r){try{if(r.getAttribute("data-vimeo-defer")!==null)return;var i=zS(r),o=FS(i);jS(o,i,r).then(function(s){return lm(s,r)}).catch(n)}catch(s){n(s)}})}function ZI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(r){if(xi(r.origin)&&!(!r.data||r.data.event!=="spacechange")){for(var i=t.querySelectorAll("iframe"),o=0;o<i.length;o++)if(i[o].contentWindow===r.source){var s=i[o].parentElement;s.style.paddingBottom="".concat(r.data.data[0].bottom,"px");break}}};window.addEventListener("message",e)}}function eA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(r){if(xi(r.origin)){var i=Tc(r.data);if(!(!i||i.event!=="ready"))for(var o=t.querySelectorAll("iframe"),s=0;s<o.length;s++){var a=o[s],l=a.contentWindow===r.source;if(LS(a.src)&&l){var u=new um(a);u.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",e)}}function tA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var e=function(i){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(i))},n=function(i){if(xi(i.origin)){var o=Tc(i.data);if(!(!o||o.event!=="ready"))for(var s=t.querySelectorAll("iframe"),a=function(){var c=s[l],f=c.contentWindow===i.source;if(LS(c.src)&&f){var d=new um(c);d.getVideoId().then(function(h){var p=new RegExp("[?&]vimeo_t_".concat(h,"=([^&#]*)")).exec(window.location.href);if(p&&p[1]){var v=decodeURI(p[1]);d.setCurrentTime(v)}}).catch(e)}},l=0;l<s.length;l++)a()}};window.addEventListener("message",n)}}function nA(){var t=function(){for(var r,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,s=i.length,a={};o<s;o++)if(r=i[o],r&&r[1]in document){for(o=0;o<r.length;o++)a[i[0][o]]=r[o];return a}return!1}(),e={fullscreenchange:t.fullscreenchange,fullscreenerror:t.fullscreenerror},n={request:function(i){return new Promise(function(o,s){var a=function u(){n.off("fullscreenchange",u),o()};n.on("fullscreenchange",a),i=i||document.documentElement;var l=i[t.requestFullscreen]();l instanceof Promise&&l.then(a).catch(s)})},exit:function(){return new Promise(function(i,o){if(!n.isFullscreen){i();return}var s=function l(){n.off("fullscreenchange",l),i()};n.on("fullscreenchange",s);var a=document[t.exitFullscreen]();a instanceof Promise&&a.then(s).catch(o)})},on:function(i,o){var s=e[i];s&&document.addEventListener(s,o)},off:function(i,o){var s=e[i];s&&document.removeEventListener(s,o)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return!!document[t.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[t.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[t.fullscreenEnabled]}}}),n}var rA={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},iA=function(t){FI(n,t);var e=$I(n);function n(r,i){var o,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;return IS(this,n),o=e.call(this),Il(Pl(o),"logger",void 0),Il(Pl(o),"speedAdjustment",0),Il(Pl(o),"adjustSpeed",function(){var l=Hr(ct().mark(function u(c,f){var d;return ct().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(o.speedAdjustment!==f){p.next=2;break}return p.abrupt("return");case 2:return p.next=4,c.getPlaybackRate();case 4:return p.t0=p.sent,p.t1=o.speedAdjustment,p.t2=p.t0-p.t1,p.t3=f,d=p.t2+p.t3,o.log("New playbackRate:  ".concat(d)),p.next=12,c.setPlaybackRate(d);case 12:o.speedAdjustment=f;case 13:case"end":return p.stop()}},u)}));return function(u,c){return l.apply(this,arguments)}}()),o.logger=a,o.init(i,r,pv(pv({},rA),s)),o}return AS(n,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:function(){var r=Hr(ct().mark(function o(s,a,l){var u=this,c,f,d;return ct().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.waitForTOReadyState(s,"open");case 2:if(l.role!=="viewer"){p.next=10;break}return p.next=5,this.updatePlayer(s,a,l);case 5:c=yv(s,"change",function(){return u.updatePlayer(s,a,l)}),f=this.maintainPlaybackPosition(s,a,l),this.addEventListener("disconnect",function(){f.cancel(),c.cancel()}),p.next=14;break;case 10:return p.next=12,this.updateTimingObject(s,a);case 12:d=yv(a,["seeked","play","pause","ratechange"],function(){return u.updateTimingObject(s,a)},"on","off"),this.addEventListener("disconnect",function(){return d.cancel()});case 14:case"end":return p.stop()}},o,this)}));function i(o,s,a){return r.apply(this,arguments)}return i}()},{key:"updateTimingObject",value:function(){var r=Hr(ct().mark(function o(s,a){return ct().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.t0=s,u.next=3,a.getCurrentTime();case 3:return u.t1=u.sent,u.next=6,a.getPaused();case 6:if(!u.sent){u.next=10;break}u.t2=0,u.next=13;break;case 10:return u.next=12,a.getPlaybackRate();case 12:u.t2=u.sent;case 13:u.t3=u.t2,u.t4={position:u.t1,velocity:u.t3},u.t0.update.call(u.t0,u.t4);case 16:case"end":return u.stop()}},o)}));function i(o,s){return r.apply(this,arguments)}return i}()},{key:"updatePlayer",value:function(){var r=Hr(ct().mark(function o(s,a,l){var u,c,f;return ct().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(u=s.query(),c=u.position,f=u.velocity,typeof c=="number"&&a.setCurrentTime(c),typeof f!="number"){h.next=25;break}if(f!==0){h.next=11;break}return h.next=6,a.getPaused();case 6:if(h.t0=h.sent,h.t0!==!1){h.next=9;break}a.pause();case 9:h.next=25;break;case 11:if(!(f>0)){h.next=25;break}return h.next=14,a.getPaused();case 14:if(h.t1=h.sent,h.t1!==!0){h.next=19;break}return h.next=18,a.play().catch(function(){var p=Hr(ct().mark(function v(w){return ct().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(w.name==="NotAllowedError"&&l.autoPlayMuted)){g.next=5;break}return g.next=3,a.setMuted(!0);case 3:return g.next=5,a.play().catch(function(y){return console.error("Couldn't play the video from TimingSrcConnector. Error:",y)});case 5:case"end":return g.stop()}},v)}));return function(v){return p.apply(this,arguments)}}());case 18:this.updatePlayer(s,a,l);case 19:return h.next=21,a.getPlaybackRate();case 21:if(h.t2=h.sent,h.t3=f,h.t2===h.t3){h.next=25;break}a.setPlaybackRate(f);case 25:case"end":return h.stop()}},o,this)}));function i(o,s,a){return r.apply(this,arguments)}return i}()},{key:"maintainPlaybackPosition",value:function(i,o,s){var a=this,l=s.allowedDrift,u=s.maxAllowedDrift,c=s.minCheckInterval,f=s.maxRateAdjustment,d=s.maxTimeToCatchUp,h=Math.min(d,Math.max(c,u))*1e3,p=function(){var w=Hr(ct().mark(function m(){var g,y,k,S,b;return ct().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(T.t0=i.query().velocity===0,T.t0){T.next=6;break}return T.next=4,o.getPaused();case 4:T.t1=T.sent,T.t0=T.t1===!0;case 6:if(!T.t0){T.next=8;break}return T.abrupt("return");case 8:return T.t2=i.query().position,T.next=11,o.getCurrentTime();case 11:if(T.t3=T.sent,g=T.t2-T.t3,y=Math.abs(g),a.log("Drift: ".concat(g)),!(y>u)){T.next=22;break}return T.next=18,a.adjustSpeed(o,0);case 18:o.setCurrentTime(i.query().position),a.log("Resync by currentTime"),T.next=29;break;case 22:if(!(y>l)){T.next=29;break}return k=y/d,S=f,b=k<S?(S-k)/2:S,T.next=28,a.adjustSpeed(o,b*Math.sign(g));case 28:a.log("Resync by playbackRate");case 29:case"end":return T.stop()}},m)}));return function(){return w.apply(this,arguments)}}(),v=setInterval(function(){return p()},h);return{cancel:function(){return clearInterval(v)}}}},{key:"log",value:function(i){var o;(o=this.logger)===null||o===void 0||o.call(this,"TimingSrcConnector: ".concat(i))}},{key:"waitForTOReadyState",value:function(i,o){return new Promise(function(s){var a=function l(){i.readyState===o?s():i.addEventListener("readystatechange",l,{once:!0})};a()})}}]),n}(yh(EventTarget)),Di=new WeakMap,_f=new WeakMap,wt={},um=function(){function t(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(IS(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),typeof document<"u"&&typeof e=="string"&&(e=document.getElementById(e)),!BI(e))throw new TypeError("You must pass either a valid element or a valid id.");if(e.nodeName!=="IFRAME"){var i=e.querySelector("iframe");i&&(e=i)}if(e.nodeName==="IFRAME"&&!xi(e.getAttribute("src")||""))throw new Error("The player element passed isnt a Vimeo embed.");if(Di.has(e))return Di.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var o=new qt(function(a,l){if(n._onMessage=function(f){if(!(!xi(f.origin)||n.element.contentWindow!==f.source)){n.origin==="*"&&(n.origin=f.origin);var d=Tc(f.data),h=d&&d.event==="error",p=h&&d.data&&d.data.method==="ready";if(p){var v=new Error(d.data.message);v.name=d.data.name,l(v);return}var w=d&&d.event==="ready",m=d&&d.method==="ping";if(w||m){n.element.setAttribute("data-ready","true"),a();return}KI(n,d)}},n._window.addEventListener("message",n._onMessage),n.element.nodeName!=="IFRAME"){var u=zS(e,r),c=FS(u);jS(c,u,e).then(function(f){var d=lm(f,e);return n.element=d,n._originalElement=e,GI(e,d),Di.set(n.element,n),f}).catch(l)}});if(_f.set(this,o),Di.set(this.element,this),this.element.nodeName==="IFRAME"&&Br(this,"ping"),wt.isEnabled){var s=function(){return wt.exit()};this.fullscreenchangeHandler=function(){wt.isFullscreen?is(n,"event:exitFullscreen",s):vu(n,"event:exitFullscreen",s),n.ready().then(function(){Br(n,"fullscreenchange",wt.isFullscreen)})},wt.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return AS(t,[{key:"callMethod",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new qt(function(o,s){return r.ready().then(function(){is(r,n,{resolve:o,reject:s}),Br(r,n,i)}).catch(s)})}},{key:"get",value:function(n){var r=this;return new qt(function(i,o){return n=gv(n,"get"),r.ready().then(function(){is(r,n,{resolve:i,reject:o}),Br(r,n)}).catch(o)})}},{key:"set",value:function(n,r){var i=this;return new qt(function(o,s){if(n=gv(n,"set"),r==null)throw new TypeError("There must be a value to set.");return i.ready().then(function(){is(i,n,{resolve:o,reject:s}),Br(i,n,r)}).catch(s)})}},{key:"on",value:function(n,r){if(!n)throw new TypeError("You must pass an event name.");if(!r)throw new TypeError("You must pass a callback function.");if(typeof r!="function")throw new TypeError("The callback must be a function.");var i=yu(this,"event:".concat(n));i.length===0&&this.callMethod("addEventListener",n).catch(function(){}),is(this,"event:".concat(n),r)}},{key:"off",value:function(n,r){if(!n)throw new TypeError("You must pass an event name.");if(r&&typeof r!="function")throw new TypeError("The callback must be a function.");var i=vu(this,"event:".concat(n),r);i&&this.callMethod("removeEventListener",n).catch(function(o){})}},{key:"loadVideo",value:function(n){return this.callMethod("loadVideo",n)}},{key:"ready",value:function(){var n=_f.get(this)||new qt(function(r,i){i(new Error("Unknown player. Probably unloaded."))});return qt.resolve(n)}},{key:"addCuePoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:n,data:r})}},{key:"removeCuePoint",value:function(n){return this.callMethod("removeCuePoint",n)}},{key:"enableTextTrack",value:function(n,r){if(!n)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:n,kind:r})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return wt.isEnabled?wt.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return wt.isEnabled?wt.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return wt.isEnabled?qt.resolve(wt.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var n=this;return new qt(function(r){if(_f.delete(n),Di.delete(n.element),n._originalElement&&(Di.delete(n._originalElement),n._originalElement.removeAttribute("data-vimeo-initialized")),n.element&&n.element.nodeName==="IFRAME"&&n.element.parentNode&&(n.element.parentNode.parentNode&&n._originalElement&&n._originalElement!==n.element.parentNode?n.element.parentNode.parentNode.removeChild(n.element.parentNode):n.element.parentNode.removeChild(n.element)),n.element&&n.element.nodeName==="DIV"&&n.element.parentNode){n.element.removeAttribute("data-vimeo-initialized");var i=n.element.querySelector("iframe");i&&i.parentNode&&(i.parentNode.parentNode&&n._originalElement&&n._originalElement!==i.parentNode?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i))}n._window.removeEventListener("message",n._onMessage),wt.isEnabled&&wt.off("fullscreenchange",n.fullscreenchangeHandler),r()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(n){return this.set("autopause",n)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(n){return this.set("cameraProps",n)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return qt.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(n){return this.set("color",n)}},{key:"setColors",value:function(n){if(!Array.isArray(n))return new qt(function(o,s){return s(new TypeError("Argument must be an array."))});var r=new qt(function(o){return o(null)}),i=[n[0]?this.set("colorOne",n[0]):r,n[1]?this.set("colorTwo",n[1]):r,n[2]?this.set("colorThree",n[2]):r,n[3]?this.set("colorFour",n[3]):r];return qt.all(i)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(n){return this.set("currentTime",n)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(n){return this.set("loop",n)}},{key:"setMuted",value:function(n){return this.set("muted",n)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(n){return this.set("playbackRate",n)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(n){return this.set("quality",n)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(n){return this.set("volume",n)}},{key:"setTimingSrc",value:function(){var e=Hr(ct().mark(function r(i,o){var s=this,a;return ct().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(i){u.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return u.next=4,this.ready();case 4:return a=new iA(this,i,o),Br(this,"notifyTimingObjectConnect"),a.addEventListener("disconnect",function(){return Br(s,"notifyTimingObjectDisconnect")}),u.abrupt("return",a);case 8:case"end":return u.stop()}},r,this)}));function n(r,i){return e.apply(this,arguments)}return n}()}]),t}();DS||(wt=nA(),XI(),ZI(),eA(),tA());const oA=({videoId:t,width:e})=>{const n=bt.useRef(null);return bt.useEffect(()=>{const r=new um(n.current||"",{id:t,width:e,portrait:!1,title:!1,byline:!1});let i;return r.on("playing",function(o){console.log("played the video",o)}),r.on("pause",function(o){console.log("pause the video",o)}),r.getCurrentTime().then(function(o){console.log("seconds for the video",o)}).catch(function(o){console.error("Error getting current time: ",o)}),i=setInterval(()=>{r.getCurrentTime().then(function(o){console.log("seconds for the video",o)}).catch(function(o){console.error("Error getting current time: ",o)})},5e3),()=>{clearInterval(i),r.destroy()}},[t,e]),H.jsx("div",{ref:n})},sA=()=>{const{state:t}=Ea(),[e,n]=bt.useState(0),r=bt.useRef(null),i=t==null?void 0:t.activeLecture;return bt.useEffect(()=>{const o=a=>{for(let l of a)n(l.contentRect.width)},s=new ResizeObserver(o);return s.observe(r.current),()=>s.disconnect()},[]),H.jsxs("div",{className:DI,ref:r,children:[e>0&&(i==null?void 0:i.url)&&H.jsx(oA,{videoId:i==null?void 0:i.url,width:e}),e>0&&!(i!=null&&i.url)&&H.jsx("div",{style:{width:e,height:"100%"},children:"loading"})]})};var vh=(t=>(t.Video="video",t.Article="article",t))(vh||{});class tn{constructor(e,n,r,i,o){this.kind=e,this.input=n,this.begin=r,this.end=i,this.file=o}getText(){return this.input.slice(this.begin,this.end)}getPosition(){let[e,n]=[1,1];for(let r=0;r<this.begin;r++)this.input[r]===`
`?(e++,n=1):n++;return[e,n]}size(){return this.end-this.begin}}class _i{liquidMethodMissing(e){}}const aA=Object.prototype.toString,vv=String.prototype.toLowerCase,cm=Object.hasOwnProperty;function Xt(t){return typeof t=="string"}function Fe(t){return typeof t=="function"}function lA(t){return t&&Fe(t.then)}function wu(t){return t&&Fe(t.next)&&Fe(t.throw)&&Fe(t.return)}function uA(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(t){return t=K(t),Xt(t)?t:Zt(t)?"":We(t)?t.map(e=>j(e)).join(""):String(t)}function fm(t){return t=K(t),We(t)?t:Xt(t)&&t.length>0?[t]:fA(t)?Array.from(t):Oc(t)?Object.keys(t).map(e=>[e,t[e]]):[]}function je(t){return t=K(t),Zt(t)?[]:We(t)?t:[t]}function K(t){return t instanceof _i&&Fe(t.valueOf)?t.valueOf():t}function wv(t){return t=Number(t),isNaN(t)?0:t}function dm(t){return typeof t=="number"}function $S(t){return t&&Fe(t.toLiquid)?$S(t.toLiquid()):t}function Zt(t){return t==null}function cA(t){return t===void 0}function We(t){return aA.call(t)==="[object Array]"}function fA(t){return Oc(t)&&Symbol.iterator in t}function kv(t,e){t=t||{};for(const n in t)if(cm.call(t,n)&&e(t[n],n,t)===!1)break;return t}function VS(t){return t[t.length-1]}function Oc(t){const e=typeof t;return t!==null&&(e==="object"||e==="function")}function BS(t,e,n=1){const r=[];for(let i=t;i<e;i+=n)r.push(i);return r}function oa(t,e,n=" "){return qS(t,e,n,(r,i)=>i+r)}function dA(t,e,n=" "){return qS(t,e,n,(r,i)=>r+i)}function qS(t,e,n,r){t=String(t);let i=e-t.length;for(;i-- >0;)t=r(t,n);return t}function US(t){return t}function hA(t){return[...t].some(n=>n>="a"&&n<="z")?t.toUpperCase():t.toLowerCase()}function pA(t,e){return t.length>e?t.slice(0,e-3)+"...":t}function Sv(t,e){return t==null&&e==null?0:t==null?1:e==null||(t=vv.call(t),e=vv.call(e),t<e)?-1:t>e?1:0}function Bt(t){return function(...e){return t.call(this,...e.map(K))}}function hm(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const bv="__liquidClass__";class Mi extends Error{constructor(e,n){super(typeof e=="string"?e:e.message),this.context="",typeof e!="string"&&Object.defineProperty(this,"originalError",{value:e,enumerable:!1}),Object.defineProperty(this,"token",{value:n,enumerable:!1}),Object.defineProperty(this,bv,{value:"LiquidError",enumerable:!1})}update(){Object.defineProperty(this,"context",{value:SA(this.token),enumerable:!1}),this.message=bA(this.message,this.token),this.stack=this.message+`
`+this.context+`
`+this.stack,this.originalError&&(this.stack+=`
From `+this.originalError.stack)}static is(e){return(e==null?void 0:e[bv])==="LiquidError"}}class mA extends Mi{constructor(e,n){super(e,n),this.name="TokenizationError",super.update()}}class gA extends Mi{constructor(e,n){super(e,n),this.name="ParseError",this.message=e.message,super.update()}}class yA extends Mi{constructor(e,n){super(e,n.token),this.name="RenderError",this.message=e.message,super.update()}static is(e){return e.name==="RenderError"}}class QS extends Mi{constructor(e){super(e[0],e[0].token),this.errors=e,this.name="LiquidErrors";const n=e.length>1?"s":"";this.message=`${e.length} error${n} found`,super.update()}static is(e){return e.name==="LiquidErrors"}}class vA extends Mi{constructor(e,n){super(e,n),this.name="UndefinedVariableError",this.message=e.message,super.update()}}class wA extends Error{constructor(e){super(`undefined variable: ${e}`),this.name="InternalUndefinedVariableError",this.variableName=e}}class kA extends Error{constructor(e){super(e),this.name="AssertionError",this.message=e+""}}function SA(t){const[e,n]=t.getPosition(),r=t.input.split(`
`),i=Math.max(e-2,1),o=Math.min(e+3,r.length);return BS(i,o+1).map(a=>{const l=a===e?">> ":"   ",u=oa(String(a),String(o).length);let c=`${l}${u}| `;const f=a===e?`
`+oa("^",n+c.length):"";return c+=r[a-1],c+=f,c}).join(`
`)}function bA(t,e){e.file&&(t+=`, file:${e.file}`);const[n,r]=e.getPosition();return t+=`, line:${n}, col:${r}`,t}const ce=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0],EA=1,Io=4,Ev=8,WS=16,xA=32,TA=64,OA=128;function Rl(t){const e=t.charCodeAt(0);return e>=128?!ce[e]:!!(ce[e]&EA)}ce[160]=ce[5760]=ce[6158]=ce[8192]=ce[8193]=ce[8194]=ce[8195]=ce[8196]=ce[8197]=ce[8198]=ce[8199]=ce[8200]=ce[8201]=ce[8202]=ce[8232]=ce[8233]=ce[8239]=ce[8287]=ce[12288]=Io;ce[8220]=ce[8221]=OA;function lt(t,e){if(!t){const n=typeof e=="function"?e():e||`expect ${t} to be true`;throw new kA(n)}}function ku(t,e=`unexpected ${JSON.stringify(t)}`){lt(!t,e)}class CA extends _i{equals(e){return Zt(K(e))}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return null}}class Cc extends _i{equals(e){return e instanceof Cc?!1:(e=K(e),Xt(e)||We(e)?e.length===0:Oc(e)?Object.keys(e).length===0:!1)}gt(){return!1}geq(){return!1}lt(){return!1}leq(){return!1}valueOf(){return""}}class NA extends Cc{equals(e){return e===!1||Zt(K(e))?!0:Xt(e)?/^\s*$/.test(e):super.equals(e)}}class pm extends _i{constructor(e,n,r){super(),this.i=0,this.length=e,this.name=`${r}-${n}`}next(){this.i++}index0(){return this.i}index(){return this.i+1}first(){return this.i===0}last(){return this.i===this.length-1}rindex(){return this.length-this.i}rindex0(){return this.length-this.i-1}valueOf(){return JSON.stringify(this)}}class xv extends _i{constructor(e=()=>""){super(),this.superBlockRender=e}super(){return this.superBlockRender()}}function bn(t){return t&&Fe(t.equals)&&Fe(t.gt)&&Fe(t.geq)&&Fe(t.lt)&&Fe(t.leq)}const Tv=new CA,HS={true:!0,false:!1,nil:Tv,null:Tv,empty:new Cc,blank:new NA};function Ov(t){const e={};for(const[n,r]of Object.entries(t)){let i=e;for(let o=0;o<n.length;o++){const s=n[o];i[s]=i[s]||{},o===n.length-1&&Rl(n[o])&&(i[s].needBoundary=!0),i=i[s]}i.data=r,i.end=!0}return e}var Su=function(){return Su=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Su.apply(this,arguments)};function un(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,[])).next())})}function ar(t){return un(this,void 0,void 0,function*(){if(!wu(t))return t;let e,n=!1,r="next";do{const i=t[r](e);n=i.done,e=i.value,r="next";try{wu(e)&&(e=ar(e)),lA(e)&&(e=yield e)}catch(o){r="throw",e=o}}while(!n);return e})}function lr(t){if(!wu(t))return t;let e,n=!1,r="next";do{const i=t[r](e);if(n=i.done,e=i.value,r="next",wu(e))try{e=lr(e)}catch(o){r="throw",e=o}}while(!n);return e}const _A=/%([-_0^#:]+)?(\d+)?([EO])?(.)/;function MA(t){return[31,IA(t)?29:28,31,30,31,30,31,31,30,31,30,31]}function JS(t){let e=0;for(let n=0;n<t.getMonth();++n)e+=MA(t)[n];return e+t.getDate()}function Cv(t,e){const n=JS(t)+(e-t.getDay()),i=7-new Date(t.getFullYear(),0,1).getDay()+e;return String(Math.floor((n-i)/7)+1)}function IA(t){const e=t.getFullYear();return!!(!(e&3)&&(e%100||e%400===0&&e))}function AA(t){const e=t.getDate();if([11,12,13].includes(e))return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function PA(t){return parseInt(t.getFullYear().toString().substring(0,2),10)}const RA={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},DA=new Set("aAbBceklpP");function Nv(t,e){const n=Math.abs(t.getTimezoneOffset()),r=Math.floor(n/60),i=n%60;return(t.getTimezoneOffset()>0?"-":"+")+oa(r,2,"0")+(e.flags[":"]?":":"")+oa(i,2,"0")}const wh={a:t=>t.getShortWeekdayName(),A:t=>t.getLongWeekdayName(),b:t=>t.getShortMonthName(),B:t=>t.getLongMonthName(),c:t=>t.toLocaleString(),C:t=>PA(t),d:t=>t.getDate(),e:t=>t.getDate(),H:t=>t.getHours(),I:t=>String(t.getHours()%12||12),j:t=>JS(t),k:t=>t.getHours(),l:t=>String(t.getHours()%12||12),L:t=>t.getMilliseconds(),m:t=>t.getMonth()+1,M:t=>t.getMinutes(),N:(t,e)=>{const n=Number(e.width)||9,r=String(t.getMilliseconds()).slice(0,n);return dA(r,n,"0")},p:t=>t.getHours()<12?"AM":"PM",P:t=>t.getHours()<12?"am":"pm",q:t=>AA(t),s:t=>Math.round(t.getTime()/1e3),S:t=>t.getSeconds(),u:t=>t.getDay()||7,U:t=>Cv(t,0),w:t=>t.getDay(),W:t=>Cv(t,1),x:t=>t.toLocaleDateString(),X:t=>t.toLocaleTimeString(),y:t=>t.getFullYear().toString().slice(2,4),Y:t=>t.getFullYear(),z:Nv,Z:(t,e)=>t.getTimeZoneName()||Nv(t,e),t:()=>"	",n:()=>`
`,"%":()=>"%"};wh.h=wh.b;function Dl(t,e){let n="",r=e,i;for(;i=_A.exec(r);)n+=r.slice(0,i.index),r=r.slice(i.index+i[0].length),n+=LA(t,i);return n+r}function LA(t,e){const[n,r="",i,o,s]=e,a=wh[s];if(!a)return n;const l={};for(const d of r)l[d]=!0;let u=String(a(t,{flags:l,width:i,modifier:o})),c=DA.has(s)?" ":"0",f=i||RA[s]||0;return l["^"]?u=u.toUpperCase():l["#"]&&(u=hA(u)),l._?c=" ":l[0]&&(c="0"),l["-"]&&(f=0),oa(u,f,c)}function GS(){return typeof Intl<"u"?Intl.DateTimeFormat:void 0}const FA=6e4,zA=/([zZ]|([+-])(\d{2}):(\d{2}))$/,KS=["January","February","March","April","May","June","July","August","September","October","November","December"],jA=KS.map(t=>t.slice(0,3)),YS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$A=YS.map(t=>t.slice(0,3));class cn{constructor(e,n,r){this.locale=n,this.DateTimeFormat=GS(),this.date=new Date(e),this.timezoneFixed=r!==void 0,r===void 0&&(r=this.date.getTimezoneOffset()),this.timezoneOffset=Xt(r)?cn.getTimezoneOffset(r,this.date):r,this.timezoneName=Xt(r)?r:"";const i=(this.date.getTimezoneOffset()-this.timezoneOffset)*FA,o=this.date.getTime()+i;this.displayDate=new Date(o)}getTime(){return this.displayDate.getTime()}getMilliseconds(){return this.displayDate.getMilliseconds()}getSeconds(){return this.displayDate.getSeconds()}getMinutes(){return this.displayDate.getMinutes()}getHours(){return this.displayDate.getHours()}getDay(){return this.displayDate.getDay()}getDate(){return this.displayDate.getDate()}getMonth(){return this.displayDate.getMonth()}getFullYear(){return this.displayDate.getFullYear()}toLocaleString(e,n){return n!=null&&n.timeZone?this.date.toLocaleString(e,n):this.displayDate.toLocaleString(e,n)}toLocaleTimeString(e){return this.displayDate.toLocaleTimeString(e)}toLocaleDateString(e){return this.displayDate.toLocaleDateString(e)}getTimezoneOffset(){return this.timezoneOffset}getTimeZoneName(){if(this.timezoneFixed)return this.timezoneName;if(this.DateTimeFormat)return this.DateTimeFormat().resolvedOptions().timeZone}getLongMonthName(){var e;return(e=this.format({month:"long"}))!==null&&e!==void 0?e:KS[this.getMonth()]}getShortMonthName(){var e;return(e=this.format({month:"short"}))!==null&&e!==void 0?e:jA[this.getMonth()]}getLongWeekdayName(){var e;return(e=this.format({weekday:"long"}))!==null&&e!==void 0?e:YS[this.displayDate.getDay()]}getShortWeekdayName(){var e;return(e=this.format({weekday:"short"}))!==null&&e!==void 0?e:$A[this.displayDate.getDay()]}valid(){return!isNaN(this.getTime())}format(e){return this.DateTimeFormat&&this.DateTimeFormat(this.locale,e).format(this.displayDate)}static createDateFixedToTimezone(e,n){const r=e.match(zA);if(r&&r[1]==="Z")return new cn(+new Date(e),n,0);if(r&&r[2]&&r[3]&&r[4]){const[,,i,o,s]=r,a=(i==="+"?-1:1)*(parseInt(o,10)*60+parseInt(s,10));return new cn(+new Date(e),n,a)}return new cn(e,n)}static getTimezoneOffset(e,n){const r=n.toLocaleString("en-US",{timeZone:e}),i=n.toLocaleString("en-US",{timeZone:"UTC"}),o=new Date(r);return(+new Date(i)-+o)/(60*1e3)}}class kh{constructor(e,n){this.base=0,this.message=`${e} limit exceeded`,this.limit=n}use(e){e=wv(e),lt(this.base+e<=this.limit,this.message),this.base+=e}check(e){e=wv(e),lt(e<=this.limit,this.message)}}class mm extends tn{constructor(e,[n,r],i,o,s,a,l,u){super(e,i,o,s,u),this.trimLeft=!1,this.trimRight=!1;const c=i[n]==="-",f=i[r-1]==="-";let d=c?n+1:n,h=f?r-1:r;for(;d<h&&ce[i.charCodeAt(d)]&Io;)d++;for(;h>d&&ce[i.charCodeAt(h-1)]&Io;)h--;this.contentRange=[d,h],this.trimLeft=c||a,this.trimRight=f||l}get content(){return this.input.slice(this.contentRange[0],this.contentRange[1])}}class _v extends mm{constructor(e,n,r,i,o){const{trimTagLeft:s,trimTagRight:a,tagDelimiterLeft:l,tagDelimiterRight:u}=i,[c,f]=[n+l.length,r-u.length];super(ye.Tag,[c,f],e,n,r,s,a,o),this.tokenizer=new Jn(e,i.operators,o,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal tag syntax, tag name expected"),this.tokenizer.skipBlank()}get args(){return this.tokenizer.input.slice(this.tokenizer.p,this.contentRange[1])}}class VA extends mm{constructor(e,n,r,i,o){const{trimOutputLeft:s,trimOutputRight:a,outputDelimiterLeft:l,outputDelimiterRight:u}=i,c=[n+l.length,r-u.length];super(ye.Output,c,e,n,r,s,a,o)}}class Mv extends tn{constructor(e,n,r,i){super(ye.HTML,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.trimLeft=0,this.trimRight=0}getContent(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)}}class BA extends tn{constructor(e,n,r,i){super(ye.Number,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=Number(this.getText())}}class Mf extends tn{constructor(e,n,r,i){super(ye.Word,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=this.getText()}}class qA extends tn{constructor(e,n,r,i){super(ye.Literal,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.literal=this.getText(),this.content=HS[this.literal]}}const Iv={"==":2,"!=":2,">":2,"<":2,">=":2,"<=":2,contains:2,not:1,and:0,or:0},UA={"==":0,"!=":0,">":0,"<":0,">=":0,"<=":0,contains:0,not:1,and:0,or:0};class QA extends tn{constructor(e,n,r,i){super(ye.Operator,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.operator=this.getText()}getPrecedence(){const e=this.getText();return e in Iv?Iv[e]:1}}class Av extends tn{constructor(e,n,r,i,o,s){super(ye.PropertyAccess,r,i,o,s),this.variable=e,this.props=n}}class XS extends tn{constructor(e,n,r,i,o,s){super(ye.Filter,r,i,o,s),this.name=e,this.args=n}}class WA extends tn{constructor(e,n,r,i,o,s){super(ye.Hash,e,n,r,s),this.input=e,this.begin=n,this.end=r,this.name=i,this.value=o,this.file=s}}const HA=/[\da-fA-F]/,Pv=/[0-7]/,Rv={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v"};function Dv(t){const e=t.charCodeAt(0);return e>=97?e-87:e>=65?e-55:e-48}function JA(t){let e="";for(let n=1;n<t.length-1;n++){if(t[n]!=="\\"){e+=t[n];continue}if(Rv[t[n+1]]!==void 0)e+=Rv[t[++n]];else if(t[n+1]==="u"){let r=0,i=n+2;for(;i<=n+5&&HA.test(t[i]);)r=r*16+Dv(t[i++]);n=i-1,e+=String.fromCharCode(r)}else if(!Pv.test(t[n+1]))e+=t[++n];else{let r=n+1,i=0;for(;r<=n+3&&Pv.test(t[r]);)i=i*8+Dv(t[r++]);n=r-1,e+=String.fromCharCode(i)}}return e}class GA extends tn{constructor(e,n,r,i){super(ye.Quoted,e,n,r,i),this.input=e,this.begin=n,this.end=r,this.file=i,this.content=JA(this.getText())}}class KA extends tn{constructor(e,n,r,i,o,s){super(ye.Range,e,n,r,s),this.input=e,this.begin=n,this.end=r,this.lhs=i,this.rhs=o,this.file=s}}class YA extends mm{constructor(e,n,r,i,o){super(ye.Tag,[n,r],e,n,r,!1,!1,o),this.tokenizer=new Jn(e,i.operators,o,this.contentRange),this.name=this.tokenizer.readTagName(),this.tokenizer.assert(this.name,"illegal liquid tag syntax"),this.tokenizer.skipBlank(),this.args=this.tokenizer.remaining()}}class XA extends tn{constructor(e,n,r,i,o,s){super(ye.FilteredValue,r,i,o,s),this.initial=e,this.filters=n,this.input=r,this.begin=i,this.end=o,this.file=s}}const ZA={now:()=>Date.now()};function ZS(){return typeof global=="object"&&global.performance||typeof window=="object"&&window.performance||ZA}class eP{constructor(){this.buffer=""}write(e){this.buffer+=j(e)}}class tP{constructor(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")}}class nP{constructor(){this.buffer=""}write(e){e=K(e),typeof e!="string"&&this.buffer===""?this.buffer=e:this.buffer=j(this.buffer)+j(e)}}class rP{renderTemplatesToNodeStream(e,n){const r=new tP;return Promise.resolve().then(()=>ar(this.renderTemplates(e,n,r))).then(()=>r.end(),i=>r.error(i)),r.stream}*renderTemplates(e,n,r){r||(r=n.opts.keepOutputType?new nP:new eP);const i=[];for(const o of e){n.renderLimit.check(ZS().now());try{const s=yield o.render(n,r);if(s&&r.write(s),r.break||r.continue)break}catch(s){const a=Mi.is(s)?s:new yA(s,o);if(n.opts.catchAllErrors)i.push(a);else throw a}}if(i.length)throw new QS(i);return r.buffer}}class iP{constructor(e){this.postfix=[...aP(e)]}*evaluate(e,n){lt(e,"unable to evaluate: context not defined");const r=[];for(const i of this.postfix)if(ib(i)){const o=r.pop();let s;if(UA[i.operator]===1)s=yield e.opts.operators[i.operator](o,e);else{const a=r.pop();s=yield e.opts.operators[i.operator](a,o,e)}r.push(s)}else r.push(yield De(i,e,n));return r[0]}valid(){return!!this.postfix.length}}function*De(t,e,n=!1){if(t){if("content"in t)return t.content;if(QP(t))return yield oP(t,e,n);if(WP(t))return yield sP(t,e)}}function*oP(t,e,n){const r=[];for(const i of t.props)r.push(yield De(i,e,!1));try{if(t.variable){const i=yield De(t.variable,e,n);return yield e._getFromScope(i,r)}else return yield e._get(r)}catch(i){if(n&&i.name==="InternalUndefinedVariableError")return null;throw new vA(i,t)}}function eb(t){return t.content}function*sP(t,e){const n=yield De(t.lhs,e),r=yield De(t.rhs,e);return BS(+n,+r+1)}function*aP(t){const e=[];for(const n of t)if(ib(n)){for(;e.length&&e[e.length-1].getPrecedence()>n.getPrecedence();)yield e.pop();e.push(n)}else yield n;for(;e.length;)yield e.pop()}function ti(t,e){return!Nc(t,e)}function Nc(t,e){return t=K(t),e.opts.jsTruthy?!t:t===!1||t===void 0||t===null}const lP={"==":li,"!=":(t,e)=>!li(t,e),">":(t,e)=>bn(t)?t.gt(e):bn(e)?e.lt(t):K(t)>K(e),"<":(t,e)=>bn(t)?t.lt(e):bn(e)?e.gt(t):K(t)<K(e),">=":(t,e)=>bn(t)?t.geq(e):bn(e)?e.leq(t):K(t)>=K(e),"<=":(t,e)=>bn(t)?t.leq(e):bn(e)?e.geq(t):K(t)<=K(e),contains:(t,e)=>(t=K(t),We(t)?t.some(n=>li(n,e)):Fe(t==null?void 0:t.indexOf)?t.indexOf(K(e))>-1:!1),not:(t,e)=>Nc(K(t),e),and:(t,e,n)=>ti(K(t),n)&&ti(K(e),n),or:(t,e,n)=>ti(K(t),n)||ti(K(e),n)};function li(t,e){return bn(t)?t.equals(e):bn(e)?e.equals(t):(t=K(t),e=K(e),We(t)?We(e)&&uP(t,e):t===e)}function uP(t,e){return t.length!==e.length?!1:!t.some((n,r)=>!li(n,e[r]))}let If=class{constructor(e,n,r,i){this.key=e,this.value=n,this.next=r,this.prev=i}};class Lv{constructor(e,n=0){this.limit=e,this.size=n,this.cache={},this.head=new If("HEAD",null,null,null),this.tail=new If("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}write(e,n){if(this.cache[e])this.cache[e].value=n;else{const r=new If(e,n,this.head.next,this.head);this.head.next.prev=r,this.head.next=r,this.cache[e]=r,this.size++,this.ensureLimit()}}read(e){if(!this.cache[e])return;const{value:n}=this.cache[e];return this.remove(e),this.write(e,n),n}remove(e){const n=this.cache[e];n.prev.next=n.next,n.next.prev=n.prev,delete this.cache[e],this.size--}clear(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}}ensureLimit(){this.size>this.limit&&this.remove(this.tail.prev.key)}}function tb(t,e){const n=document.createElement("base");n.href=t;const r=document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild);const i=document.createElement("a");i.href=e;const o=i.href;return r.removeChild(n),o}function cP(t,e,n){return t.length&&VS(t)!=="/"&&(t+="/"),tb(t,e).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(i,o,s)=>{const a=s.split("/").pop();return/\.\w+$/.test(a)?i:o+s+n})}function fP(t){return un(this,void 0,void 0,function*(){return new Promise((e,n)=>{const r=new XMLHttpRequest;r.onload=()=>{r.status>=200&&r.status<300?e(r.responseText):n(new Error(r.statusText))},r.onerror=()=>{n(new Error("An error occurred whilst receiving the response."))},r.open("GET",t),r.send()})})}function dP(t){const e=new XMLHttpRequest;if(e.open("GET",t,!1),e.send(),e.status<200||e.status>=300)throw new Error(e.statusText);return e.responseText}function hP(t){return un(this,void 0,void 0,function*(){return!0})}function pP(t){return!0}function mP(t){return tb(t,".")}const gP="/";var yP=Object.freeze({__proto__:null,resolve:cP,readFile:fP,readFileSync:dP,exists:hP,existsSync:pP,dirname:mP,sep:gP});function vP(t,e,...n){return t=K(t),We(t)||Xt(t)?t.length?t:e:t===!1&&new Map(n).get("allow_false")?!1:Nc(t,this.context)?e:t}function Fv(t,e=0){return JSON.stringify(t,null,e)}function wP(t,e=0){const n=[];return JSON.stringify(t,function(r,i){if(typeof i!="object"||i===null)return i;for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)},e)}function kP(t){return Number(t)}const SP={raw:!0,handler:US};var nb={default:vP,raw:SP,jsonify:Fv,to_integer:kP,json:Fv,inspect:wP};const bP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},EP={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function _c(t){return t=j(t),this.context.memoryLimit.use(t.length),t.replace(/&|<|>|"|'/g,e=>bP[e])}function xP(t){return _c.call(this,t)}function TP(t){return t=j(t),this.context.memoryLimit.use(t.length),t.replace(/&(amp|lt|gt|#34|#39);/g,e=>EP[e])}function OP(t){return _c.call(this,TP.call(this,t))}function CP(t){const e=j(t);return this.context.memoryLimit.use(e.length),e.replace(/\r?\n/gm,`<br />
`)}function NP(t){const e=j(t);return this.context.memoryLimit.use(e.length),e.replace(/<script[\s\S]*?<\/script>|<style[\s\S]*?<\/style>|<.*?>|<!--[\s\S]*?-->/g,"")}var _P=Object.freeze({__proto__:null,escape:_c,xml_escape:xP,escape_once:OP,newline_to_br:CP,strip_html:NP});class MP{constructor(e){this.mapping=e,this.sep="/"}exists(e){return un(this,void 0,void 0,function*(){return this.existsSync(e)})}existsSync(e){return!Zt(this.mapping[e])}readFile(e){return un(this,void 0,void 0,function*(){return this.readFileSync(e)})}readFileSync(e){const n=this.mapping[e];if(Zt(n))throw new Error(`ENOENT: ${e}`);return n}dirname(e){const n=e.split(this.sep);return n.pop(),n.join(this.sep)}resolve(e,n,r){if(n+=r,e===".")return n;const i=e.split(/\/+/);for(const o of n.split(this.sep))o==="."||o===""||(o===".."?(i.length>1||i[0]!=="")&&i.pop():i.push(o));return i.join(this.sep)}}const ro={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,keyValueSeparator:":",cache:void 0,extname:"",fs:yP,dynamicPartials:!0,jsTruthy:!1,dateFormat:"%A, %B %-e, %Y at %-l:%M %P %z",locale:"",trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!0,lenientIf:!1,globals:{},keepOutputType:!1,operators:lP,memoryLimit:1/0,parseLimit:1/0,renderLimit:1/0};function IP(t){var e,n;if(t.hasOwnProperty("root")&&(t.hasOwnProperty("partials")||(t.partials=t.root),t.hasOwnProperty("layouts")||(t.layouts=t.root)),t.hasOwnProperty("cache")){let r;typeof t.cache=="number"?r=t.cache>0?new Lv(t.cache):void 0:typeof t.cache=="object"?r=t.cache:r=t.cache?new Lv(1024):void 0,t.cache=r}return t=Object.assign(Object.assign(Object.assign({},ro),t.jekyllInclude?{dynamicPartials:!1}:{}),t),(!t.fs.dirname||!t.fs.sep)&&t.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` and `fs.sep` are required for relativeReference, set relativeReference to `false` to suppress this warning"),t.relativeReference=!1),t.root=Ll(t.root),t.partials=Ll(t.partials),t.layouts=Ll(t.layouts),t.outputEscape=t.outputEscape&&AP(t.outputEscape),t.locale||(t.locale=(n=(e=GS())===null||e===void 0?void 0:e().resolvedOptions().locale)!==null&&n!==void 0?n:"en-US"),t.templates&&(t.fs=new MP(t.templates),t.relativeReference=!0,t.root=t.partials=t.layouts="."),t}function AP(t){return t==="escape"?_c:t==="json"?nb.json:(lt(Fe(t),"`outputEscape` need to be of type string or function"),t)}function Ll(t){let e=[];return We(t)&&(e=t),Xt(t)&&(e=[t]),e}function PP(t,e){let n=!1;for(let r=0;r<t.length;r++){const i=t[r];BP(i)&&(!n&&i.trimLeft&&RP(t[r-1],e.greedy),Ii(i)&&(i.name==="raw"?n=!0:i.name==="endraw"&&(n=!1)),!n&&i.trimRight&&DP(t[r+1],e.greedy))}}function RP(t,e){if(!t||!ym(t))return;const n=e?Io:WS;for(;ce[t.input.charCodeAt(t.end-1-t.trimRight)]&n;)t.trimRight++}function DP(t,e){if(!t||!ym(t))return;const n=e?Io:WS;for(;ce[t.input.charCodeAt(t.begin+t.trimLeft)]&n;)t.trimLeft++;t.input.charAt(t.begin+t.trimLeft)===`
`&&t.trimLeft++}class Jn{constructor(e,n=ro.operators,r,i){this.input=e,this.file=r,this.rawBeginAt=-1,this.p=i?i[0]:0,this.N=i?i[1]:e.length,this.opTrie=Ov(n),this.literalTrie=Ov(HS)}readExpression(){return new iP(this.readExpressionTokens())}*readExpressionTokens(){for(;this.p<this.N;){const e=this.readOperator();if(e){yield e;continue}const n=this.readValue();if(n){yield n;continue}return}}readOperator(){this.skipBlank();const e=this.matchTrie(this.opTrie);if(e!==-1)return new QA(this.input,this.p,this.p=e,this.file)}matchTrie(e){let n=e,r=this.p,i;for(;n[this.input[r]]&&r<this.N;)n=n[this.input[r++]],n.end&&(i=n);return!i||i.needBoundary&&Rl(this.peek(r-this.p))?-1:r}readFilteredValue(){const e=this.p,n=this.readExpression();this.assert(n.valid(),`invalid value expression: ${this.snapshot()}`);const r=this.readFilters();return new XA(n,r,this.input,e,this.p,this.file)}readFilters(){const e=[];for(;;){const n=this.readFilter();if(!n)return e;e.push(n)}}readFilter(){if(this.skipBlank(),this.end())return null;this.assert(this.read()==="|",'expected "|" before filter');const e=this.readIdentifier();if(!e.size())return this.assert(this.end(),"expected filter name"),null;const n=[];if(this.skipBlank(),this.peek()===":")do{++this.p;const r=this.readFilterArg();r&&n.push(r),this.skipBlank(),this.assert(this.end()||this.peek()===","||this.peek()==="|",()=>`unexpected character ${this.snapshot()}`)}while(this.peek()===",");else if(!(this.peek()==="|"||this.end()))throw this.error('expected ":" after filter name');return new XS(e.getText(),n,this.input,e.begin,this.p,this.file)}readFilterArg(){const e=this.readValue();if(!e)return;if(this.skipBlank(),this.peek()!==":")return e;++this.p;const n=this.readValue();return[e.getText(),n]}readTopLevelTokens(e=ro){const n=[];for(;this.p<this.N;){const r=this.readTopLevelToken(e);n.push(r)}return PP(n,e),n}readTopLevelToken(e){const{tagDelimiterLeft:n,outputDelimiterLeft:r}=e;return this.rawBeginAt>-1?this.readEndrawOrRawContent(e):this.match(n)?this.readTagToken(e):this.match(r)?this.readOutputToken(e):this.readHTMLToken([n,r])}readHTMLToken(e){const n=this.p;for(;this.p<this.N&&!e.some(r=>this.match(r));)++this.p;return new Mv(this.input,n,this.p,this.file)}readTagToken(e){const{file:n,input:r}=this,i=this.p;if(this.readToDelimiter(e.tagDelimiterRight)===-1)throw this.error(`tag ${this.snapshot(i)} not closed`,i);const o=new _v(r,i,this.p,e,n);return o.name==="raw"&&(this.rawBeginAt=i),o}readToDelimiter(e,n=!1){for(this.skipBlank();this.p<this.N;){if(n&&this.peekType()&Ev){this.readQuoted();continue}if(++this.p,this.rmatch(e))return this.p}return-1}readOutputToken(e=ro){const{file:n,input:r}=this,{outputDelimiterRight:i}=e,o=this.p;if(this.readToDelimiter(i,!0)===-1)throw this.error(`output ${this.snapshot(o)} not closed`,o);return new VA(r,o,this.p,e,n)}readEndrawOrRawContent(e){const{tagDelimiterLeft:n,tagDelimiterRight:r}=e,i=this.p;let o=this.readTo(n)-n.length;for(;this.p<this.N;){if(this.readIdentifier().getText()!=="endraw"){o=this.readTo(n)-n.length;continue}for(;this.p<=this.N;){if(this.rmatch(r)){const s=this.p;return i===o?(this.rawBeginAt=-1,new _v(this.input,i,s,e,this.file)):(this.p=o,new Mv(this.input,i,o,this.file))}if(this.rmatch(n))break;this.p++}}throw this.error(`raw ${this.snapshot(this.rawBeginAt)} not closed`,i)}readLiquidTagTokens(e=ro){const n=[];for(;this.p<this.N;){const r=this.readLiquidTagToken(e);r&&n.push(r)}return n}readLiquidTagToken(e){if(this.skipBlank(),this.end())return;const n=this.p;this.readToDelimiter(`
`);const r=this.p;return new YA(this.input,n,r,e,this.file)}error(e,n=this.p){return new mA(e,new Mf(this.input,n,this.N,this.file))}assert(e,n,r){if(!e)throw this.error(typeof n=="function"?n():n,r)}snapshot(e=this.p){return JSON.stringify(pA(this.input.slice(e,this.N),32))}readWord(){return this.readIdentifier()}readIdentifier(){this.skipBlank();const e=this.p;for(;!this.end()&&Rl(this.peek());)++this.p;return new Mf(this.input,e,this.p,this.file)}readNonEmptyIdentifier(){const e=this.readIdentifier();return e.size()?e:void 0}readTagName(){return this.skipBlank(),this.input[this.p]==="#"?this.input.slice(this.p,++this.p):this.readIdentifier().getText()}readHashes(e){const n=[];for(;;){const r=this.readHash(e);if(!r)return n;n.push(r)}}readHash(e){this.skipBlank(),this.peek()===","&&++this.p;const n=this.p,r=this.readNonEmptyIdentifier();if(!r)return;let i;this.skipBlank();const o=Xt(e)?e:e?"=":":";return this.peek()===o&&(++this.p,i=this.readValue()),new WA(this.input,n,this.p,r,i,this.file)}remaining(){return this.input.slice(this.p,this.N)}advance(e=1){this.p+=e}end(){return this.p>=this.N}read(){return this.input[this.p++]}readTo(e){for(;this.p<this.N;)if(++this.p,this.rmatch(e))return this.p;return-1}readValue(){this.skipBlank();const e=this.p,n=this.readLiteral()||this.readQuoted()||this.readRange()||this.readNumber(),r=this.readProperties(!n);return r.length?new Av(n,r,this.input,e,this.p):n}readScopeValue(){this.skipBlank();const e=this.p,n=this.readProperties();if(n.length)return new Av(void 0,n,this.input,e,this.p)}readProperties(e=!0){const n=[];for(;;){if(this.peek()==="["){this.p++;const r=this.readValue()||new Mf(this.input,this.p,this.p,this.file);this.assert(this.readTo("]")!==-1,"[ not closed"),n.push(r);continue}if(e&&!n.length){const r=this.readNonEmptyIdentifier();if(r){n.push(r);continue}}if(this.peek()==="."&&this.peek(1)!=="."){this.p++;const r=this.readNonEmptyIdentifier();if(!r)break;n.push(r);continue}break}return n}readNumber(){this.skipBlank();let e=!1,n=!1,r=0;for(this.peekType()&TA&&r++;this.p+r<=this.N;)if(this.peekType(r)&xA)n=!0,r++;else if(this.peek(r)==="."&&this.peek(r+1)!=="."){if(e||!n)return;e=!0,r++}else break;if(n&&!Rl(this.peek(r))){const i=new BA(this.input,this.p,this.p+r,this.file);return this.advance(r),i}}readLiteral(){this.skipBlank();const e=this.matchTrie(this.literalTrie);if(e===-1)return;const n=new qA(this.input,this.p,e,this.file);return this.p=e,n}readRange(){this.skipBlank();const e=this.p;if(this.peek()!=="(")return;++this.p;const n=this.readValueOrThrow();this.p+=2;const r=this.readValueOrThrow();return++this.p,new KA(this.input,e,this.p,n,r,this.file)}readValueOrThrow(){const e=this.readValue();return this.assert(e,()=>`unexpected token ${this.snapshot()}, value expected`),e}readQuoted(){this.skipBlank();const e=this.p;if(!(this.peekType()&Ev))return;++this.p;let n=!1;for(;this.p<this.N&&(++this.p,!(this.input[this.p-1]===this.input[e]&&!n));)n?n=!1:this.input[this.p-1]==="\\"&&(n=!0);return new GA(this.input,e,this.p,this.file)}*readFileNameTemplate(e){const{outputDelimiterLeft:n}=e,r=[","," ",n],i=new Set(r);for(;this.p<this.N&&!i.has(this.peek());)yield this.match(n)?this.readOutputToken(e):this.readHTMLToken(r)}match(e){for(let n=0;n<e.length;n++)if(e[n]!==this.input[this.p+n])return!1;return!0}rmatch(e){for(let n=0;n<e.length;n++)if(e[e.length-1-n]!==this.input[this.p-1-n])return!1;return!0}peekType(e=0){return this.p+e>=this.N?0:ce[this.input.charCodeAt(this.p+e)]}peek(e=0){return this.p+e>=this.N?"":this.input[this.p+e]}skipBlank(){for(;this.peekType()&Io;)++this.p}}class LP{constructor(e,n){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=n}on(e,n){return this.handlers[e]=n,this}trigger(e,n){const r=this.handlers[e];return r?(r.call(this,n),!0):!1}start(){this.trigger("start");let e;for(;!this.stopRequested&&(e=this.tokens.shift());){if(this.trigger("token",e)||Ii(e)&&this.trigger(`tag:${e.name}`,e))continue;const n=this.parseToken(e,this.tokens);this.trigger("template",n)}return this.stopRequested||this.trigger("end"),this}stop(){return this.stopRequested=!0,this}}class gm{constructor(e){this.token=e}}class Ne extends gm{constructor(e,n,r){super(e),this.name=e.name,this.liquid=r,this.tokenizer=e.tokenizer}}class Bo{constructor(e,n){this.hash={};const r=new Jn(e,{});for(const i of r.readHashes(n))this.hash[i.name.content]=i.value}*render(e){const n={};for(const r of Object.keys(this.hash))n[r]=this.hash[r]===void 0?!0:yield De(this.hash[r],e);return n}}function FP(t){return class extends Ne{constructor(e,n,r){super(e,n,r),Fe(t.parse)&&t.parse.call(this,e,n)}*render(e,n){const r=yield new Bo(this.token.args,e.opts.keyValueSeparator).render(e);return yield t.render.call(this,e,n,r)}}}function zP(t){return We(t)}class rb{constructor(e,n,r){this.token=e,this.name=e.name,this.handler=Fe(n)?n:Fe(n==null?void 0:n.handler)?n.handler:US,this.raw=!Fe(n)&&!!(n!=null&&n.raw),this.args=e.args,this.liquid=r}*render(e,n){const r=[];for(const i of this.args)zP(i)?r.push([i[0],yield De(i[1],n)]):r.push(yield De(i,n));return yield this.handler.apply({context:n,token:this.token,liquid:this.liquid},[e,...r])}}class en{constructor(e,n){this.filters=[];const r=typeof e=="string"?new Jn(e,n.options.operators).readFilteredValue():e;this.initial=r.initial,this.filters=r.filters.map(i=>new rb(i,this.getFilter(n,i.name),n))}*value(e,n){n=n||e.opts.lenientIf&&this.filters.length>0&&this.filters[0].name==="default";let r=yield this.initial.evaluate(e,n);for(const i of this.filters)r=yield i.render(r,e);return r}getFilter(e,n){const r=e.filters[n];return lt(r||!e.options.strictFilters,()=>`undefined filter: ${n}`),r}}class jP extends gm{constructor(e,n){var r;super(e);const i=new Jn(e.input,n.options.operators,e.file,e.contentRange);this.value=new en(i.readFilteredValue(),n);const o=this.value.filters,s=n.options.outputEscape;if(!(!((r=o[o.length-1])===null||r===void 0)&&r.raw)&&s){const a=new XS(toString.call(s),[],"",0,0);o.push(new rb(a,s,n))}}*render(e,n){const r=yield this.value.value(e,!1);n.write(r)}}class $P extends gm{constructor(e){super(e),this.str=e.getContent()}*render(e,n){n.write(this.str)}}var Ti;(function(t){t.Partials="partials",t.Layouts="layouts",t.Root="root"})(Ti||(Ti={}));class VP{constructor(e){if(this.options=e,e.relativeReference){const n=e.fs.sep;lt(n,"`fs.sep` is required for relative reference");const r=new RegExp(["."+n,".."+n,"./","../"].map(i=>uA(i)).join("|"));this.shouldLoadRelative=i=>r.test(i)}else this.shouldLoadRelative=n=>!1;this.contains=this.options.fs.contains||(()=>!0)}*lookup(e,n,r,i){const{fs:o}=this.options,s=this.options[n];for(const a of this.candidates(e,s,i,n!==Ti.Root))if(r?o.existsSync(a):yield o.exists(a))return a;throw this.lookupError(e,s)}*candidates(e,n,r,i){const{fs:o,extname:s}=this.options;if(this.shouldLoadRelative(e)&&r){const a=o.resolve(this.dirname(r),e,s);for(const l of n)if(!i||this.contains(l,a)){yield a;break}}for(const a of n){const l=o.resolve(a,e,s);(!i||this.contains(a,l))&&(yield l)}if(o.fallback!==void 0){const a=o.fallback(e);a!==void 0&&(yield a)}}dirname(e){const n=this.options.fs;return lt(n.dirname,"`fs.dirname` is required for relative reference"),n.dirname(e)}lookupError(e,n){const r=new Error("ENOENT");return r.message=`ENOENT: Failed to lookup "${e}" in "${n}"`,r.code="ENOENT",r}}class qr{constructor(e){this.liquid=e,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new VP(this.liquid.options),this.parseLimit=new kh("parse length",e.options.parseLimit)}parse(e,n){e=String(e),this.parseLimit.use(e.length);const i=new Jn(e,this.liquid.options.operators,n).readTopLevelTokens(this.liquid.options);return this.parseTokens(i)}parseTokens(e){let n;const r=[],i=[];for(;n=e.shift();)try{r.push(this.parseToken(n,e))}catch(o){if(this.liquid.options.catchAllErrors)i.push(o);else throw o}if(i.length)throw new QS(i);return r}parseToken(e,n){try{if(Ii(e)){const r=this.liquid.tags[e.name];return lt(r,`tag "${e.name}" not found`),new r(e,n,this.liquid,this)}return qP(e)?new jP(e,this.liquid):new $P(e)}catch(r){throw Mi.is(r)?r:new gA(r,e)}}parseStream(e){return new LP(e,(n,r)=>this.parseToken(n,r))}*_parseFileCached(e,n,r=Ti.Root,i){const o=this.cache,s=this.loader.shouldLoadRelative(e)?i+","+e:r+":"+e,a=yield o.read(s);if(a)return a;const l=this._parseFile(e,n,r,i),u=n?yield l:ar(l);o.write(s,u);try{return yield u}catch(c){throw o.remove(s),c}}*_parseFile(e,n,r=Ti.Root,i){const o=yield this.loader.lookup(e,r,n,i);return this.parse(n?this.fs.readFileSync(o):yield this.fs.readFile(o),o)}}var ye;(function(t){t[t.Number=1]="Number",t[t.Literal=2]="Literal",t[t.Tag=4]="Tag",t[t.Output=8]="Output",t[t.HTML=16]="HTML",t[t.Filter=32]="Filter",t[t.Hash=64]="Hash",t[t.PropertyAccess=128]="PropertyAccess",t[t.Word=256]="Word",t[t.Range=512]="Range",t[t.Quoted=1024]="Quoted",t[t.Operator=2048]="Operator",t[t.FilteredValue=4096]="FilteredValue",t[t.Delimited=12]="Delimited"})(ye||(ye={}));function BP(t){return!!(Dr(t)&ye.Delimited)}function ib(t){return Dr(t)===ye.Operator}function ym(t){return Dr(t)===ye.HTML}function qP(t){return Dr(t)===ye.Output}function Ii(t){return Dr(t)===ye.Tag}function UP(t){return Dr(t)===ye.Quoted}function QP(t){return Dr(t)===ye.PropertyAccess}function WP(t){return Dr(t)===ye.Range}function Dr(t){return t?t.kind:-1}class Gr{constructor(e={},n=ro,r={},{memoryLimit:i,renderLimit:o}={}){var s,a,l,u,c;this.scopes=[{}],this.registers={},this.sync=!!r.sync,this.opts=n,this.globals=(s=r.globals)!==null&&s!==void 0?s:n.globals,this.environments=Oc(e)?e:Object(e),this.strictVariables=(a=r.strictVariables)!==null&&a!==void 0?a:this.opts.strictVariables,this.ownPropertyOnly=(l=r.ownPropertyOnly)!==null&&l!==void 0?l:n.ownPropertyOnly,this.memoryLimit=i??new kh("memory alloc",(u=r.memoryLimit)!==null&&u!==void 0?u:n.memoryLimit),this.renderLimit=o??new kh("template render",ZS().now()+((c=r.renderLimit)!==null&&c!==void 0?c:n.renderLimit))}getRegister(e){return this.registers[e]=this.registers[e]||{}}setRegister(e,n){return this.registers[e]=n}saveRegister(...e){return e.map(n=>[n,this.getRegister(n)])}restoreRegister(e){return e.forEach(([n,r])=>this.setRegister(n,r))}getAll(){return[this.globals,this.environments,...this.scopes].reduce((e,n)=>Su(e,n),{})}get(e){return this.getSync(e)}getSync(e){return lr(this._get(e))}*_get(e){const n=this.findScope(e[0]);return yield this._getFromScope(n,e)}getFromScope(e,n){return lr(this._getFromScope(e,n))}*_getFromScope(e,n,r=this.strictVariables){Xt(n)&&(n=n.split("."));for(let i=0;i<n.length;i++)if(e=yield HP(e,n[i],this.ownPropertyOnly),r&&cA(e))throw new wA(n.slice(0,i+1).join("."));return e}push(e){return this.scopes.push(e)}pop(){return this.scopes.pop()}bottom(){return this.scopes[0]}spawn(e={}){return new Gr(e,this.opts,{sync:this.sync,globals:this.globals,strictVariables:this.strictVariables},{renderLimit:this.renderLimit,memoryLimit:this.memoryLimit})}findScope(e){for(let n=this.scopes.length-1;n>=0;n--){const r=this.scopes[n];if(e in r)return r}return e in this.environments?this.environments:this.globals}}function HP(t,e,n){if(t=$S(t),Zt(t))return t;if(We(t)&&e<0)return t[t.length+ +e];const r=JP(t,e,n);return r===void 0&&t instanceof _i?t.liquidMethodMissing(e):Fe(r)?r.call(t):e==="size"?YP(t):e==="first"?GP(t):e==="last"?KP(t):r}function JP(t,e,n){if(!(n&&!cm.call(t,e)&&!(t instanceof _i)))return t[e]}function GP(t){return We(t)?t[0]:t.first}function KP(t){return We(t)?t[t.length-1]:t.last}function YP(t){if(cm.call(t,"size")||t.size!==void 0)return t.size;if(We(t)||Xt(t))return t.length;if(typeof t=="object")return Object.keys(t).length}var ui;(function(t){t[t.OUTPUT=0]="OUTPUT",t[t.STORE=1]="STORE"})(ui||(ui={}));const XP=Bt(Math.abs),ZP=Bt(Math.max),eR=Bt(Math.min),tR=Bt(Math.ceil),nR=Bt((t,e,n=!1)=>n?Math.floor(t/e):t/e),rR=Bt(Math.floor),iR=Bt((t,e)=>t-e),oR=Bt((t,e)=>t%e),sR=Bt((t,e)=>t*e);function aR(t,e=0){t=K(t),e=K(e);const n=Math.pow(10,e);return Math.round(t*n)/n}function lR(t,e){return t=K(t),e=K(e),Number(t)+Number(e)}var uR=Object.freeze({__proto__:null,abs:XP,at_least:ZP,at_most:eR,ceil:tR,divided_by:nR,floor:rR,minus:iR,modulo:oR,times:sR,round:aR,plus:lR});const cR=t=>decodeURIComponent(j(t)).replace(/\+/g," "),fR=t=>encodeURIComponent(j(t)).replace(/%20/g,"+"),dR=t=>encodeURIComponent(j(t)).replace(/%20/g,"+").replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()),hR=t=>encodeURI(j(t)).replace(/%5B/g,"[").replace(/%5D/g,"]"),zv=/[^\p{M}\p{L}\p{Nd}]+/ug,pR={raw:/\s+/g,default:zv,pretty:/[^\p{M}\p{L}\p{Nd}._~!$&'()+,;=@]+/ug,ascii:/[^A-Za-z0-9]+/g,latin:zv,none:null};function mR(t,e="default",n=!1){t=j(t);const r=pR[e];return r&&(e==="latin"&&(t=gR(t)),t=t.replace(r,"-").replace(/^-|-$/g,"")),n?t:t.toLowerCase()}function gR(t){return t.replace(/[]/g,"a").replace(/[]/g,"ae").replace(/[]/g,"c").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"d").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[]/g,"ss").replace(/[]/g,"oe").replace(/[]/g,"th").replace(/[]/g,"SS").replace(/[]/g,"OE").replace(/[]/g,"TH")}var yR=Object.freeze({__proto__:null,url_decode:cR,url_encode:fR,cgi_escape:dR,uri_escape:hR,slugify:mR});const vR=Bt(function(t,e){const n=je(t),r=Zt(e)?" ":j(e),i=n.length*(1+r.length);return this.context.memoryLimit.use(i),n.join(r)}),wR=Bt(t=>We(t)?VS(t):""),kR=Bt(t=>We(t)?t[0]:""),SR=Bt(function(t){const e=je(t);return this.context.memoryLimit.use(e.length),[...e].reverse()});function*bR(t,e){const n=[],r=je(t);this.context.memoryLimit.use(r.length);for(const i of r)n.push([i,e?yield this.context._getFromScope(i,j(e).split("."),!1):i]);return n.sort((i,o)=>{const s=i[1],a=o[1];return s<a?-1:s>a?1:0}).map(i=>i[0])}function ER(t,e){const n=j(e),r=e===void 0?Sv:(o,s)=>Sv(o[n],s[n]),i=je(t);return this.context.memoryLimit.use(i.length),[...i].sort(r)}const xR=t=>t&&t.length||0;function*TR(t,e){const n=[],r=je(t);this.context.memoryLimit.use(r.length);for(const i of r)n.push(yield this.context._getFromScope(i,j(e),!1));return n}function*OR(t,e){let n=0;const r=je(t);for(const i of r){const o=Number(e?yield this.context._getFromScope(i,j(e),!1):i);n+=Number.isNaN(o)?0:o}return n}function CR(t){const e=je(t);return this.context.memoryLimit.use(e.length),e.filter(n=>!Zt(K(n)))}function ob(t,e=[]){const n=je(t),r=je(e);return this.context.memoryLimit.use(n.length+r.length),n.concat(r)}function NR(t,e){return ob.call(this,t,[e])}function _R(t,e){const n=je(t);this.context.memoryLimit.use(n.length);const r=[...n];return r.unshift(e),r}function MR(t){const e=[...je(t)];return e.pop(),e}function IR(t){const e=je(t);this.context.memoryLimit.use(e.length);const n=[...e];return n.shift(),n}function AR(t,e,n=1){return t=K(t),Zt(t)?[]:(We(t)||(t=j(t)),e=e<0?t.length+e:e,this.context.memoryLimit.use(n),t.slice(e,e+n))}function*PR(t,e,n){const r=[];t=je(t),this.context.memoryLimit.use(t.length);const i=new Jn(j(e)).readScopeValue();for(const o of t)r.push(yield De(i,this.context.spawn(o)));return t.filter((o,s)=>n===void 0?ti(r[s],this.context):li(r[s],n))}function*RR(t,e,n){const r=[],i=new en(j(n),this.liquid),o=je(t);this.context.memoryLimit.use(o.length);for(const s of o)(yield i.value(this.context.spawn({[e]:s})))&&r.push(s);return r}function*DR(t,e){const n=new Map;t=je(t);const r=new Jn(j(e)).readScopeValue();this.context.memoryLimit.use(t.length);for(const i of t){const o=yield De(r,this.context.spawn(i));n.has(o)||n.set(o,[]),n.get(o).push(i)}return[...n.entries()].map(([i,o])=>({name:i,items:o}))}function*LR(t,e,n){const r=new Map,i=new en(j(n),this.liquid);t=je(t),this.context.memoryLimit.use(t.length);for(const o of t){const s=yield i.value(this.context.spawn({[e]:o}));r.has(s)||r.set(s,[]),r.get(s).push(o)}return[...r.entries()].map(([o,s])=>({name:o,items:s}))}function*FR(t,e,n){const r=new Jn(j(e)).readScopeValue(),i=je(t);for(const o of i){const s=yield De(r,this.context.spawn(o));if(li(s,n))return o}}function*zR(t,e,n){const r=new en(j(n),this.liquid),i=je(t);for(const o of i)if(yield r.value(this.context.spawn({[e]:o})))return o}function jR(t){return t=je(t),this.context.memoryLimit.use(t.length),[...new Set(t)]}function $R(t,e=1){if(t=K(t),Zt(t))return[];We(t)||(t=j(t)),this.context.memoryLimit.use(e);const n=[...t].sort(()=>Math.random()-.5);return e===1?n[0]:n.slice(0,e)}var VR=Object.freeze({__proto__:null,join:vR,last:wR,first:kR,reverse:SR,sort:bR,sort_natural:ER,size:xR,map:TR,sum:OR,compact:CR,concat:ob,push:NR,unshift:_R,pop:MR,shift:IR,slice:AR,where:PR,where_exp:RR,group_by:DR,group_by_exp:LR,find:FR,find_exp:zR,uniq:jR,sample:$R});function vm(t,e,n){var r,i,o;const s=((r=t==null?void 0:t.length)!==null&&r!==void 0?r:0)+((i=e==null?void 0:e.length)!==null&&i!==void 0?i:0)+((o=n==null?void 0:n.length)!==null&&o!==void 0?o:0);this.context.memoryLimit.use(s);const a=ab(t,this.context.opts,n);return a?(e=K(e),e=Zt(e)?this.context.opts.dateFormat:j(e),Dl(a,e)):t}function BR(t){return vm.call(this,t,"%Y-%m-%dT%H:%M:%S%:z")}function qR(t){return vm.call(this,t,"%a, %d %b %Y %H:%M:%S %z")}function UR(t,e,n){return sb.call(this,t,"%b",e,n)}function QR(t,e,n){return sb.call(this,t,"%B",e,n)}function sb(t,e,n,r){const i=ab(t,this.context.opts);if(!i)return t;if(n==="ordinal"){const o=i.getDate();return r==="US"?Dl(i,`${e} ${o}%q, %Y`):Dl(i,`${o}%q ${e} %Y`)}return Dl(i,`%d ${e} %Y`)}function ab(t,e,n){let r;const i=n??e.timezoneOffset,o=e.locale;return t=K(t),t==="now"||t==="today"?r=new cn(Date.now(),o,i):dm(t)?r=new cn(t*1e3,o,i):Xt(t)?/^\d+$/.test(t)?r=new cn(+t*1e3,o,i):e.preserveTimezones&&n===void 0?r=cn.createDateFixedToTimezone(t,o):r=new cn(t,o,i):r=new cn(t,o,i),r.valid()?r:void 0}var WR=Object.freeze({__proto__:null,date:vm,date_to_xmlschema:BR,date_to_rfc822:qR,date_to_string:UR,date_to_long_string:QR});const Af=/[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]/gu,jv=/[^\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF\s]+/gu;function HR(t,e){lt(arguments.length===2,"append expect 2 arguments");const n=j(t),r=j(e);return this.context.memoryLimit.use(n.length+r.length),n+r}function JR(t,e){lt(arguments.length===2,"prepend expect 2 arguments");const n=j(t),r=j(e);return this.context.memoryLimit.use(n.length+r.length),r+n}function GR(t,e){const n=j(t);return this.context.memoryLimit.use(n.length),e?(e=hm(j(e)),n.replace(new RegExp(`^[${e}]+`,"g"),"")):n.replace(/^\s+/,"")}function KR(t){const e=j(t);return this.context.memoryLimit.use(e.length),e.toLowerCase()}function YR(t){const e=j(t);return this.context.memoryLimit.use(e.length),j(e).toUpperCase()}function XR(t,e){const n=j(t);return this.context.memoryLimit.use(n.length),n.split(j(e)).join("")}function ZR(t,e){const n=j(t);return this.context.memoryLimit.use(n.length),n.replace(j(e),"")}function eD(t,e){const n=j(t);this.context.memoryLimit.use(n.length);const r=j(e),i=n.lastIndexOf(r);return i===-1?n:n.substring(0,i)+n.substring(i+r.length)}function tD(t,e){return t=j(t),this.context.memoryLimit.use(t.length),e?(e=hm(j(e)),t.replace(new RegExp(`[${e}]+$`,"g"),"")):t.replace(/\s+$/,"")}function nD(t,e){const n=j(t);this.context.memoryLimit.use(n.length);const r=n.split(j(e));for(;r.length&&r[r.length-1]==="";)r.pop();return r}function rD(t,e){const n=j(t);return this.context.memoryLimit.use(n.length),e?(e=hm(j(e)),n.replace(new RegExp(`^[${e}]+`,"g"),"").replace(new RegExp(`[${e}]+$`,"g"),"")):n.trim()}function iD(t){const e=j(t);return this.context.memoryLimit.use(e.length),e.replace(/\r?\n/gm,"")}function oD(t){return t=j(t),this.context.memoryLimit.use(t.length),t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}function sD(t,e,n){const r=j(t);return this.context.memoryLimit.use(r.length),r.split(j(e)).join(n)}function aD(t,e,n){const r=j(t);return this.context.memoryLimit.use(r.length),r.replace(j(e),n)}function lD(t,e,n){const r=j(t);this.context.memoryLimit.use(r.length);const i=j(e),o=r.lastIndexOf(i);if(o===-1)return r;const s=j(n);return r.substring(0,o)+s+r.substring(o+i.length)}function uD(t,e=50,n="..."){const r=j(t);return this.context.memoryLimit.use(r.length),r.length<=e?t:r.substring(0,e-n.length)+n}function cD(t,e=15,n="..."){const r=j(t);this.context.memoryLimit.use(r.length);const i=r.split(/\s+/);e<=0&&(e=1);let o=i.slice(0,e).join(" ");return i.length>=e&&(o+=n),o}function fD(t){const e=j(t);return this.context.memoryLimit.use(e.length),e.replace(/\s+/g," ")}function dD(t,e){const n=j(t);if(this.context.memoryLimit.use(n.length),t=n.trim(),!t)return 0;switch(e){case"cjk":return(t.match(Af)||[]).length+(t.match(jv)||[]).length;case"auto":return Af.test(t)?t.match(Af).length+(t.match(jv)||[]).length:t.split(/\s+/).length;default:return t.split(/\s+/).length}}function hD(t,e="and"){switch(this.context.memoryLimit.use(t.length),t.length){case 0:return"";case 1:return t[0];case 2:return`${t[0]} ${e} ${t[1]}`;default:return`${t.slice(0,-1).join(", ")}, ${e} ${t[t.length-1]}`}}var pD=Object.freeze({__proto__:null,append:HR,prepend:JR,lstrip:GR,downcase:KR,upcase:YR,remove:XR,remove_first:ZR,remove_last:eD,rstrip:tD,split:nD,strip:rD,strip_newlines:iD,capitalize:oD,replace:sD,replace_first:aD,replace_last:lD,truncate:uD,truncatewords:cD,normalize_whitespace:fD,number_of_words:dD,array_to_sentence_string:hD});const mD=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_P),uR),yR),VR),WR),pD),nb);class gD extends Ne{constructor(e,n,r){super(e,n,r),this.key=this.tokenizer.readIdentifier().content,this.tokenizer.assert(this.key,"expected variable name"),this.tokenizer.skipBlank(),this.tokenizer.assert(this.tokenizer.peek()==="=",'expected "="'),this.tokenizer.advance(),this.value=new en(this.tokenizer.readFilteredValue(),this.liquid)}*render(e){e.bottom()[this.key]=yield this.value.value(e,this.liquid.options.lenientIf)}}const $v=["offset","limit","reversed"];class yD extends Ne{constructor(e,n,r,i){super(e,n,r);const o=this.tokenizer.readIdentifier(),s=this.tokenizer.readIdentifier(),a=this.tokenizer.readValue();if(!o.size()||s.content!=="in"||!a)throw new Error(`illegal tag: ${e.getText()}`);this.variable=o.content,this.collection=a,this.hash=new Bo(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=[],this.elseTemplates=[];let l;const u=i.parseStream(n).on("start",()=>l=this.templates).on("tag:else",c=>{ku(c.args),l=this.elseTemplates}).on("tag:endfor",c=>{ku(c.args),u.stop()}).on("template",c=>l.push(c)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});u.start()}*render(e,n){const r=this.liquid.renderer;let i=fm(yield De(this.collection,e));if(!i.length){yield r.renderTemplates(this.elseTemplates,e,n);return}const o="continue-"+this.variable+"-"+this.collection.getText();e.push({continue:e.getRegister(o)});const s=yield this.hash.render(e);e.pop(),i=(this.liquid.options.orderedFilterParameters?Object.keys(s).filter(u=>$v.includes(u)):$v.filter(u=>s[u]!==void 0)).reduce((u,c)=>c==="offset"?wD(u,s.offset):c==="limit"?kD(u,s.limit):vD(u),i),e.setRegister(o,(s.offset||0)+i.length);const l={forloop:new pm(i.length,this.collection.getText(),this.variable)};e.push(l);for(const u of i){if(l[this.variable]=u,yield r.renderTemplates(this.templates,e,n),n.break){n.break=!1;break}n.continue=!1,l.forloop.next()}e.pop()}}function vD(t){return[...t].reverse()}function wD(t,e){return t.slice(e)}function kD(t,e){return t.slice(0,e)}class SD extends Ne{constructor(e,n,r,i){for(super(e,n,r),this.templates=[],this.variable=this.readVariableName();n.length;){const o=n.shift();if(Ii(o)&&o.name==="endcapture")return;this.templates.push(i.parseToken(o,n))}throw new Error(`tag ${e.getText()} not closed`)}*render(e){const r=yield this.liquid.renderer.renderTemplates(this.templates,e);e.bottom()[this.variable]=r}readVariableName(){const e=this.tokenizer.readIdentifier().content;if(e)return e;const n=this.tokenizer.readQuoted();if(n)return eb(n);throw this.tokenizer.error("invalid capture name")}}class bD extends Ne{constructor(e,n,r,i){super(e,n,r),this.branches=[],this.elseTemplates=[],this.value=new en(this.tokenizer.readFilteredValue(),this.liquid),this.elseTemplates=[];let o=[],s=0;const a=i.parseStream(n).on("tag:when",l=>{if(s>0)return;o=[];const u=[];for(;!l.tokenizer.end();)u.push(l.tokenizer.readValueOrThrow()),l.tokenizer.skipBlank(),l.tokenizer.peek()===","?l.tokenizer.readTo(","):l.tokenizer.readTo("or");this.branches.push({values:u,templates:o})}).on("tag:else",()=>{s++,o=this.elseTemplates}).on("tag:endcase",()=>a.stop()).on("template",l=>{(o!==this.elseTemplates||s===1)&&o.push(l)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});a.start()}*render(e,n){const r=this.liquid.renderer,i=K(yield this.value.value(e,e.opts.lenientIf));let o=!1;for(const s of this.branches)for(const a of s.values){const l=yield De(a,e,e.opts.lenientIf);if(li(i,l)){yield r.renderTemplates(s.templates,e,n),o=!0;break}}o||(yield r.renderTemplates(this.elseTemplates,e,n))}}class ED extends Ne{constructor(e,n,r){for(super(e,n,r);n.length;){const i=n.shift();if(Ii(i)&&i.name==="endcomment")return}throw new Error(`tag ${e.getText()} not closed`)}render(){}}class xD extends Ne{constructor(e,n,r,i){super(e,n,r);const o=this.tokenizer;for(this.file=wm(o,this.liquid,i),this.currentFile=e.file;!o.end();){o.skipBlank();const s=o.p,a=o.readIdentifier();if((a.content==="with"||a.content==="for")&&(o.skipBlank(),o.peek()!==":")){const l=o.readValue();if(l){const u=o.p,c=o.readIdentifier();let f;c.content==="as"?f=o.readIdentifier():o.p=u,this[a.content]={value:l,alias:f&&f.content},o.skipBlank(),o.peek()===","&&o.advance();continue}}o.p=s;break}this.hash=new Bo(o.remaining(),r.options.keyValueSeparator)}*render(e,n){const{liquid:r,hash:i}=this,o=yield km(this.file,e,r);lt(o,()=>`illegal file path "${o}"`);const s=e.spawn(),a=s.bottom();if(Su(a,yield i.render(e)),this.with){const{value:l,alias:u}=this.with;a[u||o]=yield De(l,e)}if(this.for){const{value:l,alias:u}=this.for,c=fm(yield De(l,e));a.forloop=new pm(c.length,l.getText(),u);for(const f of c){a[u]=f;const d=yield r._parsePartialFile(o,s.sync,this.currentFile);yield r.renderer.renderTemplates(d,s,n),a.forloop.next()}}else{const l=yield r._parsePartialFile(o,s.sync,this.currentFile);yield r.renderer.renderTemplates(l,s,n)}}}function wm(t,e,n){if(e.options.dynamicPartials){const o=t.readValue();if(t.assert(o,"illegal file path"),o.getText()==="none")return;if(UP(o)){const s=n.parse(eb(o));return Vv(s)}return o}const r=[...t.readFileNameTemplate(e.options)],i=Vv(n.parseTokens(r));return i==="none"?void 0:i}function Vv(t){return t.length===1&&ym(t[0].token)?t[0].token.getContent():t}function*km(t,e,n){return typeof t=="string"?t:Array.isArray(t)?n.renderer.renderTemplates(t,e):yield De(t,e)}class TD extends Ne{constructor(e,n,r,i){super(e,n,r);const{tokenizer:o}=e;this.file=wm(o,this.liquid,i),this.currentFile=e.file;const s=o.p;o.readIdentifier().content==="with"?(o.skipBlank(),o.peek()!==":"?this.withVar=o.readValue():o.p=s):o.p=s,this.hash=new Bo(o.remaining(),r.options.jekyllInclude||r.options.keyValueSeparator)}*render(e,n){const{liquid:r,hash:i,withVar:o}=this,{renderer:s}=r,a=yield km(this.file,e,r);lt(a,()=>`illegal file path "${a}"`);const l=e.saveRegister("blocks","blockMode");e.setRegister("blocks",{}),e.setRegister("blockMode",ui.OUTPUT);const u=yield i.render(e);o&&(u[a]=yield De(o,e));const c=yield r._parsePartialFile(a,e.sync,this.currentFile);e.push(e.opts.jekyllInclude?{include:u}:u),yield s.renderTemplates(c,e,n),e.pop(),e.restoreRegister(l)}}class OD extends Ne{constructor(e,n,r){super(e,n,r),this.variable=this.tokenizer.readIdentifier().content}render(e,n){const r=e.environments;dm(r[this.variable])||(r[this.variable]=0),n.write(j(--r[this.variable]))}}class CD extends Ne{constructor(e,n,r){super(e,n,r),this.candidates=[];const i=this.tokenizer.readValue();for(this.tokenizer.skipBlank(),i&&(this.tokenizer.peek()===":"?(this.group=i,this.tokenizer.advance()):this.candidates.push(i));!this.tokenizer.end();){const o=this.tokenizer.readValue();o&&this.candidates.push(o),this.tokenizer.readTo(",")}this.tokenizer.assert(this.candidates.length,()=>`empty candidates: "${e.getText()}"`)}*render(e,n){const i=`cycle:${yield De(this.group,e)}:`+this.candidates.join(","),o=e.getRegister("cycle");let s=o[i];s===void 0&&(s=o[i]=0);const a=this.candidates[s];return s=(s+1)%this.candidates.length,o[i]=s,yield De(a,e)}}class ND extends Ne{constructor(e,n,r,i){super(e,n,r),this.branches=[];let o=[];i.parseStream(n).on("start",()=>this.branches.push({value:new en(e.args,this.liquid),templates:o=[]})).on("tag:elsif",s=>{lt(!this.elseTemplates,"unexpected elsif after else"),this.branches.push({value:new en(s.args,this.liquid),templates:o=[]})}).on("tag:else",s=>{ku(s.args),lt(!this.elseTemplates,"duplicated else"),o=this.elseTemplates=[]}).on("tag:endif",function(s){ku(s.args),this.stop()}).on("template",s=>o.push(s)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()}*render(e,n){const r=this.liquid.renderer;for(const{value:i,templates:o}of this.branches){const s=yield i.value(e,e.opts.lenientIf);if(ti(s,e)){yield r.renderTemplates(o,e,n);return}}yield r.renderTemplates(this.elseTemplates||[],e,n)}}class _D extends Ne{constructor(e,n,r){super(e,n,r),this.variable=this.tokenizer.readIdentifier().content}render(e,n){const r=e.environments;dm(r[this.variable])||(r[this.variable]=0);const i=r[this.variable];r[this.variable]++,n.write(j(i))}}class MD extends Ne{constructor(e,n,r,i){super(e,n,r),this.file=wm(this.tokenizer,this.liquid,i),this.currentFile=e.file,this.args=new Bo(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=i.parseTokens(n)}*render(e,n){const{liquid:r,args:i,file:o}=this,{renderer:s}=r;if(o===void 0){e.setRegister("blockMode",ui.OUTPUT),yield s.renderTemplates(this.templates,e,n);return}const a=yield km(this.file,e,r);lt(a,()=>`illegal file path "${a}"`);const l=yield r._parseLayoutFile(a,e.sync,this.currentFile);e.setRegister("blockMode",ui.STORE);const u=yield s.renderTemplates(this.templates,e),c=e.getRegister("blocks");c[""]===void 0&&(c[""]=(f,d)=>d.write(u)),e.setRegister("blockMode",ui.OUTPUT),e.push(yield i.render(e)),yield s.renderTemplates(l,e,n),e.pop()}}class ID extends Ne{constructor(e,n,r,i){super(e,n,r),this.templates=[];const o=/\w+/.exec(e.args);for(this.block=o?o[0]:"";n.length;){const s=n.shift();if(Ii(s)&&s.name==="endblock")return;const a=i.parseToken(s,n);this.templates.push(a)}throw new Error(`tag ${e.getText()} not closed`)}*render(e,n){const r=this.getBlockRender(e);e.getRegister("blockMode")===ui.STORE?e.getRegister("blocks")[this.block]=r:yield r(new xv,n)}getBlockRender(e){const{liquid:n,templates:r}=this,i=e.getRegister("blocks")[this.block],o=function*(s,a){e.push({block:s}),yield n.renderer.renderTemplates(r,e,a),e.pop()};return i?(s,a)=>i(new xv(()=>o(s,a)),a):o}}class AD extends Ne{constructor(e,n,r){for(super(e,n,r),this.tokens=[];n.length;){const i=n.shift();if(Ii(i)&&i.name==="endraw")return;this.tokens.push(i)}throw new Error(`tag ${e.getText()} not closed`)}render(){return this.tokens.map(e=>e.getText()).join("")}}class PD extends pm{constructor(e,n,r,i){super(e,r,i),this.length=e,this.cols=n}row(){return Math.floor(this.i/this.cols)+1}col0(){return this.i%this.cols}col(){return this.col0()+1}col_first(){return this.col0()===0}col_last(){return this.col()===this.cols}}class RD extends Ne{constructor(e,n,r,i){super(e,n,r);const o=this.tokenizer.readIdentifier();this.tokenizer.skipBlank();const s=this.tokenizer.readIdentifier(),a=this.tokenizer.readValue();if(s.content!=="in"||!a)throw new Error(`illegal tag: ${e.getText()}`);this.variable=o.content,this.collection=a,this.args=new Bo(this.tokenizer.remaining(),r.options.keyValueSeparator),this.templates=[];let l;const u=i.parseStream(n).on("start",()=>l=this.templates).on("tag:endtablerow",()=>u.stop()).on("template",c=>l.push(c)).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)});u.start()}*render(e,n){let r=fm(yield De(this.collection,e));const i=yield this.args.render(e),o=i.offset||0,s=i.limit===void 0?r.length:i.limit;r=r.slice(o,o+s);const a=i.cols||r.length,l=this.liquid.renderer,u=new PD(r.length,a,this.collection.getText(),this.variable),c={tablerowloop:u};e.push(c);for(let f=0;f<r.length;f++,u.next())c[this.variable]=r[f],u.col0()===0&&(u.row()!==1&&n.write("</tr>"),n.write(`<tr class="row${u.row()}">`)),n.write(`<td class="col${u.col()}">`),yield l.renderTemplates(this.templates,e,n),n.write("</td>");r.length&&n.write("</tr>"),e.pop()}}class DD extends Ne{constructor(e,n,r,i){super(e,n,r),this.branches=[],this.elseTemplates=[];let o=[],s=0;i.parseStream(n).on("start",()=>this.branches.push({value:new en(e.args,this.liquid),test:Nc,templates:o=[]})).on("tag:elsif",a=>{if(s>0){o=[];return}this.branches.push({value:new en(a.args,this.liquid),test:ti,templates:o=[]})}).on("tag:else",()=>{s++,o=this.elseTemplates}).on("tag:endunless",function(){this.stop()}).on("template",a=>{(o!==this.elseTemplates||s===1)&&o.push(a)}).on("end",()=>{throw new Error(`tag ${e.getText()} not closed`)}).start()}*render(e,n){const r=this.liquid.renderer;for(const{value:i,test:o,templates:s}of this.branches){const a=yield i.value(e,e.opts.lenientIf);if(o(a,e)){yield r.renderTemplates(s,e,n);return}}yield r.renderTemplates(this.elseTemplates,e,n)}}class LD extends Ne{render(e,n){n.break=!0}}class FD extends Ne{render(e,n){n.continue=!0}}class zD extends Ne{constructor(e,n,r){super(e,n,r),this.tokenizer.skipBlank(),this.tokenizer.end()||(this.value=new en(this.tokenizer.readFilteredValue(),this.liquid))}*render(e,n){if(!this.value)return;const r=yield this.value.value(e,!1);n.write(r)}}class jD extends Ne{constructor(e,n,r,i){super(e,n,r);const o=this.tokenizer.readLiquidTagTokens(this.liquid.options);this.templates=i.parseTokens(o)}*render(e,n){yield this.liquid.renderer.renderTemplates(this.templates,e,n)}}class $D extends Ne{constructor(e,n,r){if(super(e,n,r),e.args.search(/\n\s*[^#\s]/g)!==-1)throw new Error("every line of an inline comment must start with a '#' character")}render(){}}const VD={assign:gD,for:yD,capture:SD,case:bD,comment:ED,include:TD,render:xD,decrement:OD,increment:_D,cycle:CD,if:ND,layout:MD,block:ID,raw:AD,tablerow:RD,unless:DD,break:LD,continue:FD,echo:zD,liquid:jD,"#":$D};class Sm{constructor(e={}){this.renderer=new rP,this.filters={},this.tags={},this.options=IP(e),this.parser=new qr(this),kv(VD,(n,r)=>this.registerTag(r,n)),kv(mD,(n,r)=>this.registerFilter(r,n))}parse(e,n){return new qr(this).parse(e,n)}_render(e,n,r){const i=n instanceof Gr?n:new Gr(n,this.options,r);return this.renderer.renderTemplates(e,i)}render(e,n,r){return un(this,void 0,void 0,function*(){return ar(this._render(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}renderSync(e,n,r){return lr(this._render(e,n,Object.assign(Object.assign({},r),{sync:!0})))}renderToNodeStream(e,n,r={}){const i=new Gr(n,this.options,r);return this.renderer.renderTemplatesToNodeStream(e,i)}_parseAndRender(e,n,r){const i=this.parse(e);return this._render(i,n,r)}parseAndRender(e,n,r){return un(this,void 0,void 0,function*(){return ar(this._parseAndRender(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}parseAndRenderSync(e,n,r){return lr(this._parseAndRender(e,n,Object.assign(Object.assign({},r),{sync:!0})))}_parsePartialFile(e,n,r){return new qr(this).parseFile(e,n,Ti.Partials,r)}_parseLayoutFile(e,n,r){return new qr(this).parseFile(e,n,Ti.Layouts,r)}_parseFile(e,n,r,i){return new qr(this).parseFile(e,n,r,i)}parseFile(e,n){return un(this,void 0,void 0,function*(){return ar(new qr(this).parseFile(e,!1,n))})}parseFileSync(e,n){return lr(new qr(this).parseFile(e,!0,n))}*_renderFile(e,n,r){const i=yield this._parseFile(e,r.sync,r.lookupType);return yield this._render(i,n,r)}renderFile(e,n,r){return un(this,void 0,void 0,function*(){return ar(this._renderFile(e,n,Object.assign(Object.assign({},r),{sync:!1})))})}renderFileSync(e,n,r){return lr(this._renderFile(e,n,Object.assign(Object.assign({},r),{sync:!0})))}renderFileToNodeStream(e,n,r){return un(this,void 0,void 0,function*(){const i=yield this.parseFile(e);return this.renderToNodeStream(i,n,r)})}_evalValue(e,n){const r=new en(e,this),i=n instanceof Gr?n:new Gr(n,this.options);return r.value(i)}evalValue(e,n){return un(this,void 0,void 0,function*(){return ar(this._evalValue(e,n))})}evalValueSync(e,n){return lr(this._evalValue(e,n))}registerFilter(e,n){this.filters[e]=n}registerTag(e,n){this.tags[e]=Fe(n)?n:FP(n)}plugin(e){return e.call(this,Sm)}express(){const e=this;let n=!0;return function(r,i,o){if(n){n=!1;const s=Ll(this.root);e.options.root.unshift(...s),e.options.layouts.unshift(...s),e.options.partials.unshift(...s)}e.renderFile(r,i).then(s=>o(null,s),o)}}}function Ke(t){this.content=t}Ke.prototype={constructor:Ke,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Ke(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ke(n)},addToStart:function(t,e){return new Ke([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ke(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Ke(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ke.from(t),t.size?new Ke(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ke.from(t),t.size?new Ke(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ke.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ke.from=function(t){if(t instanceof Ke)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ke(e)};function lb(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=lb(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function ub(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let u=0,c=Math.min(s.text.length,a.text.length);for(;u<c&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let u=ub(s.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class A{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new A(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new A(r,i)}cutByIndex(e,n){return e==n?A.empty:e==0&&n==this.content.length?this:new A(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new A(i,o)}addToStart(e){return new A([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new A(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return lb(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return ub(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Za(0,e);if(e==this.size)return Za(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Za(r+1,s):Za(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return A.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new A(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return A.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new A(n||e,r)}static from(e){if(!e)return A.empty;if(e instanceof A)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new A([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}A.empty=new A([],0);const Pf={index:0,offset:0};function Za(t,e){return Pf.index=t,Pf.offset=e,Pf}function bu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!bu(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!bu(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let we=class Sh{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&bu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Sh.none;if(e instanceof Sh)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};we.none=[];class Eu extends Error{}class q{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=fb(this.content,e+this.openStart,n);return r&&new q(r,this.openStart,this.openEnd)}removeBetween(e,n){return new q(cb(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return q.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new q(A.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new q(e,r,i)}}q.empty=new q(A.empty,0,0);function cb(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(cb(o.content,e-i-1,n-i-1)))}function fb(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=fb(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function BD(t,e,n){if(n.openStart>t.depth)throw new Eu("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Eu("Inconsistent open depths");return db(t,e,n,0)}function db(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=db(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return fi(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=qD(n,t);return fi(o,pb(t,s,a,e,r))}else return fi(o,xu(t,e,r))}function hb(t,e){if(!e.type.compatibleContent(t.type))throw new Eu("Cannot join "+e.type.name+" onto "+t.type.name)}function bh(t,e,n){let r=t.node(n);return hb(r,e.node(n)),r}function ci(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Os(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(ci(t.nodeAfter,r),o++));for(let a=o;a<s;a++)ci(i.child(a),r);e&&e.depth==n&&e.textOffset&&ci(e.nodeBefore,r)}function fi(t,e){return t.type.checkContent(e),t.copy(e)}function pb(t,e,n,r,i){let o=t.depth>i&&bh(t,e,i+1),s=r.depth>i&&bh(n,r,i+1),a=[];return Os(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(hb(o,s),ci(fi(o,pb(t,e,n,r,i+1)),a)):(o&&ci(fi(o,xu(t,e,i+1)),a),Os(e,n,i,a),s&&ci(fi(s,xu(n,r,i+1)),a)),Os(r,null,i,a),new A(a)}function xu(t,e,n){let r=[];if(Os(null,t,n,r),t.depth>n){let i=bh(t,e,n+1);ci(fi(i,xu(t,e,n+1)),r)}return Os(e,null,n,r),new A(r)}function qD(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(A.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class sa{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return we.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Tu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(r.push(s,a,i+l),!u||(s=s.child(a),s.isText))break;o=u-1,i+=l+1}return new sa(n,r,o)}static resolveCached(e,n){let r=Bv.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else Bv.set(e,r=new UD);let i=r.elts[r.i]=sa.resolve(e,n);return r.i=(r.i+1)%QD,i}}class UD{constructor(){this.elts=[],this.i=0}}const QD=12,Bv=new WeakMap;class Tu{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const WD=Object.create(null);let di=class Eh{constructor(e,n,r,i=we.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||A.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&bu(this.attrs,n||e.defaultAttrs||WD)&&we.sameSet(this.marks,r||we.none)}copy(e=null){return e==this.content?this:new Eh(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Eh(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return q.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),u=i.node(s).content.cut(i.pos-a,o.pos-a);return new q(u,i.depth-s,o.depth-s)}replace(e,n,r){return BD(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return sa.resolveCached(this,e)}resolveNoCache(e){return sa.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),mb(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=A.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=we.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!we.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=A.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};di.prototype.text=void 0;class Ou extends di{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):mb(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ou(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ou(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function mb(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Oi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new HD(e,n);if(r.next==null)return Oi.empty;let i=gb(r);r.next&&r.err("Unexpected trailing text");let o=eL(ZD(i));return tL(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return A.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,a.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Oi.empty=new Oi(!0);class HD{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function gb(t){let e=[];do e.push(JD(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function JD(t){let e=[];do e.push(GD(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function GD(t){let e=XD(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=KD(t,e);else break;return e}function qv(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function KD(t,e){let n=qv(t),r=n;return t.eat(",")&&(t.next!="}"?r=qv(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function YD(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function XD(t){if(t.eat("(")){let e=gb(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=YD(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function ZD(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let u={term:l,to:a};return e[s].push(u),u}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;i(u,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,l),c),l=c}if(s.max==-1)i(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let c=n();r(l,c),i(o(s.expr,l),c),l=c}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function yb(t,e){return e-t}function Uv(t,e){let n=[];return r(e),n.sort(yb);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function eL(t){let e=Object.create(null);return n(Uv(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);Uv(t,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Oi(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(yb);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function tL(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function vb(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function wb(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function kb(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function Sb(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new rL(t,r,e[r]);return n}let Qv=class bb{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Sb(e,r.attrs),this.defaultAttrs=vb(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Oi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:wb(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new di(this,this.computeAttrs(e),A.from(n),we.setFrom(r))}createChecked(e=null,n,r){return n=A.from(n),this.checkContent(n),new di(this,this.computeAttrs(e),n,we.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=A.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(A.empty,!0);return o?new di(this,e,n.append(o),we.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){kb(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:we.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new bb(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function nL(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class rL{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?nL(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class bm{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Sb(e,i.attrs),this.excluded=null;let o=vb(this.attrs);this.instance=o?new we(this,o):null}create(e=null){return!e&&this.instance?this.instance:new we(this,wb(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new bm(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){kb(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Eb{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ke.from(e.nodes),n.marks=Ke.from(e.marks||{}),this.nodes=Qv.compile(this.spec.nodes,this),this.marks=bm.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Oi.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?Wv(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Wv(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Qv){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Ou(r,r.defaultAttrs,e,we.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return di.fromJSON(this,e)}markFromJSON(e){return we.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Wv(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function iL(t){return t.tag!=null}function oL(t){return t.style!=null}class hi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(iL(i))this.tags.push(i);else if(oL(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new Jv(this,n,!1);return r.addAll(e,we.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Jv(this,n,!0);return r.addAll(e,we.none,n.from,n.to),q.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(lL(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Gv(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Gv(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new hi(e,hi.schemaRules(e)))}}const xb={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},sL={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Tb={ol:!0,ul:!0},Cu=1,Nu=2,Cs=4;function Hv(t,e,n){return e!=null?(e?Cu:0)|(e==="full"?Nu:0):t&&t.whitespace=="pre"?Cu|Nu:n&~Cs}class el{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=we.none,this.match=o||(s&Cs?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(A.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Cu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=A.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(A.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!xb.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jv{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=Hv(null,n.preserveWhitespace,0)|(r?Cs:0);i?o=new el(i.type,i.attrs,we.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new el(null,null,we.none,!0,null,s):o=new el(e.schema.topNodeType,null,we.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&Nu||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Cu)i.options&Nu?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),o;Tb.hasOwnProperty(i)&&this.parser.normalizeLists&&aL(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:sL.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,u=this.needsBlock;if(xb.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let c=s&&s.skip?n:this.readStyles(e,n);c&&this.addAll(e,c),a&&this.sync(l),this.needsBlock=u}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,s,a,s.consuming===!1?o:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=we.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):Kv(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=Hv(e,o,s.options);s.options&Cs&&s.content.length==0&&(a|=Cs);let l=we.none;return r=r.filter(u=>(s.type?s.type.allowsMarkType(u.type):Kv(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new el(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function aL(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Tb.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function lL(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Gv(t){let e={};for(let n in t)e[n]=t[n];return e}function Kv(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}class xa{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Rf(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Fl(Rf(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Fl(Rf(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Fl(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new xa(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Yv(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Yv(e.marks)}}function Yv(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Rf(t){return t.document||window.document}const Xv=new WeakMap;function uL(t){let e=Xv.get(t);return e===void 0&&Xv.set(t,e=cL(t)),e}function cL(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Fl(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=uL(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let f in u)if(u[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),u[f]):l.setAttribute(f,u[f])}}for(let f=c;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=Fl(t,d,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const Ob=65535,Cb=Math.pow(2,16);function fL(t,e){return t+e*Cb}function Zv(t){return t&Ob}function dL(t){return(t-(t&Ob))/Cb}const Nb=1,_b=2,zl=4,Mb=8;class xh{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Mb)>0}get deletedBefore(){return(this.delInfo&(Nb|zl))>0}get deletedAfter(){return(this.delInfo&(_b|zl))>0}get deletedAcross(){return(this.delInfo&zl)>0}}class Pt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Pt.empty)return Pt.empty}recover(e){let n=0,r=Zv(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+dL(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],c=this.ranges[a+s],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:n:n,h=l+i+(d<0?0:c);if(r)return h;let p=e==(n<0?l:f)?null:fL(a/3,e-l),v=e==l?_b:e==f?Nb:zl;return(n<0?e!=l:e!=f)&&(v|=Mb),new xh(h,v,p)}i+=c-u}return r?e+i:new xh(e+i,0,null)}touches(e,n){let r=0,i=Zv(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(a,a+u,l,l+c),o+=c-u}}invert(){return new Pt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Pt.empty:new Pt(e<0?[0,-e,0]:[0,0,e])}}Pt.empty=new Pt([]);class Ns{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Ns(this.maps,this.mirror,e,n)}copy(){return new Ns(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ns;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new xh(e,i,null)}}const Df=Object.create(null);class ut{getMap(){return Pt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Df[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Df)throw new RangeError("Duplicate use of step JSON ID "+e);return Df[e]=n,n.prototype.jsonID=e,n}}class Re{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Re(e,null)}static fail(e){return new Re(null,e)}static fromReplace(e,n,r,i){try{return Re.ok(e.replace(n,r,i))}catch(o){if(o instanceof Eu)return Re.fail(o.message);throw o}}}function Em(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Em(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return A.fromArray(r)}class ni extends ut{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new q(Em(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,o)}invert(){return new ri(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ni(n.pos,r.pos,this.mark)}merge(e){return e instanceof ni&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ni(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ni(n.from,n.to,e.markFromJSON(n.mark))}}ut.jsonID("addMark",ni);class ri extends ut{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new q(Em(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,r)}invert(){return new ni(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ri(n.pos,r.pos,this.mark)}merge(e){return e instanceof ri&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ri(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ri(n.from,n.to,e.markFromJSON(n.mark))}}ut.jsonID("removeMark",ri);class ii extends ut{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Re.fromReplace(e,this.pos,this.pos+1,new q(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ii(this.pos,n.marks[i]);return new ii(this.pos,this.mark)}}return new aa(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ii(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ii(n.pos,e.markFromJSON(n.mark))}}ut.jsonID("addNodeMark",ii);class aa extends ut{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Re.fromReplace(e,this.pos,this.pos+1,new q(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ii(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new aa(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new aa(n.pos,e.markFromJSON(n.mark))}}ut.jsonID("removeNodeMark",aa);class At extends ut{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Th(e,this.from,this.to)?Re.fail("Structure replace would overwrite content"):Re.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Pt([this.from,this.to-this.from,this.slice.size])}invert(e){return new At(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new At(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof At)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?q.empty:new q(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new At(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?q.empty:new q(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new At(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new At(n.from,n.to,q.fromJSON(e,n.slice),!!n.structure)}}ut.jsonID("replace",At);class Ct extends ut{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Th(e,this.from,this.gapFrom)||Th(e,this.gapTo,this.to)))return Re.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Re.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Re.fromReplace(e,this.from,this.to,r):Re.fail("Content does not fit in gap")}getMap(){return new Pt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ct(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ct(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ct(n.from,n.to,n.gapFrom,n.gapTo,q.fromJSON(e,n.slice),n.insert,!!n.structure)}}ut.jsonID("replaceAround",Ct);function Th(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function hL(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function qo(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!hL(i,o,s))break}return null}function xm(t,e,n=null,r=t){let i=pL(t,e),o=i&&mL(r,e);return o?i.map(e0).concat({type:e,attrs:n}).concat(o.map(e0)):null}function e0(t){return{type:t,attrs:null}}function pL(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function mL(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:s}function yo(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let v=r&&r[c]||f;if(!f.canReplace(d+1,f.childCount)||!v.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Lr(t,e){let n=t.resolve(e),r=n.index();return Ib(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function gL(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function Ib(t,e){return!!(t&&e&&!t.isLeaf&&gL(t,e))}function Mc(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&Ib(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Ab(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function Tm(t,e,n=e,r=q.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return yL(i,o,r)?new At(e,n,r):new vL(i,o,r).fit()}function yL(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class vL{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=A.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=A.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new q(o,s,a);return e>-1?new Ct(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new At(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Lf(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,f=null;if(n==1&&(s?u.matchType(s.type)||(f=u.fillBefore(A.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:f};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Lf(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new q(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Lf(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new q(fs(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new q(fs(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)c.push(i.child(v));f=f.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let v=a.child(u),w=f.matchType(v.type);if(!w)break;u++,(u>1||l==0||v.content.size)&&(f=w,c.push(Pb(v.mark(d.allowedMarks(v.marks)),u==1?l:0,u==a.childCount?h:-1)))}let p=u==a.childCount;p||(h=-1),this.placed=ds(this.placed,n,A.from(c)),this.frontier[n].match=f,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,w=a;v<h;v++){let m=w.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),w=m.content}this.unplaced=p?e==0?q.empty:new q(fs(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new q(fs(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Ff(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Ff(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=Ff(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ds(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ds(this.placed,this.depth,A.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(A.empty,!0);n.childCount&&(this.placed=ds(this.placed,this.frontier.length,n))}}function fs(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(fs(t.firstChild.content,e-1,n)))}function ds(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ds(t.lastChild.content,e-1,n)))}function Lf(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Pb(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Pb(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(A.empty,!0)))),t.copy(r)}function Ff(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!wL(n,o.content,s)?a:null}function wL(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}class _s extends ut{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Re.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Re.fromReplace(e,this.pos,this.pos+1,new q(A.from(i),0,n.isLeaf?0:1))}getMap(){return Pt.empty}invert(e){return new _s(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _s(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _s(n.pos,n.attr,n.value)}}ut.jsonID("attr",_s);class _u extends ut{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Re.ok(r)}getMap(){return Pt.empty}invert(e){return new _u(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new _u(n.attr,n.value)}}ut.jsonID("docAttr",_u);let la=class extends Error{};la=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};la.prototype=Object.create(Error.prototype);la.prototype.constructor=la;la.prototype.name="TransformError";const zf=Object.create(null);class Y{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new kL(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=q.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),a?q.empty:n),a==0&&r0(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),u=l.map(s.pos),c=l.map(a.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),r0(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new J(e):ji(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?ji(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):ji(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new mn(e.node(0))}static atStart(e){return ji(e,e,0,0,1)||new mn(e)}static atEnd(e){return ji(e,e,e.content.size,e.childCount,-1)||new mn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=zf[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in zf)throw new RangeError("Duplicate use of selection JSON ID "+e);return zf[e]=n,n.prototype.jsonID=e,n}getBookmark(){return J.between(this.$anchor,this.$head).getBookmark()}}Y.prototype.visible=!0;class kL{constructor(e,n){this.$from=e,this.$to=n}}let t0=!1;function n0(t){!t0&&!t.parent.inlineContent&&(t0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class J extends Y{constructor(e,n=e){n0(e),n0(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Y.near(r);let i=e.resolve(n.map(this.anchor));return new J(i.parent.inlineContent?i:r,r)}replace(e,n=q.empty){if(super.replace(e,n),n==q.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof J&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ic(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new J(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Y.findFrom(n,r,!0)||Y.findFrom(n,-r,!0);if(o)n=o.$head;else return Y.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Y.findFrom(e,-r,!0)||Y.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new J(e,n)}}Y.jsonID("text",J);class Ic{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ic(e.map(this.anchor),e.map(this.head))}resolve(e){return J.between(e.resolve(this.anchor),e.resolve(this.head))}}class Q extends Y{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Y.near(o):new Q(o)}content(){return new q(A.from(this.node),0,0)}eq(e){return e instanceof Q&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Om(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Q(e.resolve(n.anchor))}static create(e,n){return new Q(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Q.prototype.visible=!1;Y.jsonID("node",Q);class Om{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ic(r,r):new Om(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Q.isSelectable(r)?new Q(n):Y.near(n)}}class mn extends Y{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=q.empty){if(n==q.empty){e.delete(0,e.doc.content.size);let r=Y.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new mn(e)}map(e){return new mn(e)}eq(e){return e instanceof mn}getBookmark(){return SL}}Y.jsonID("all",mn);const SL={map(){return this},resolve(t){return new mn(t)}};function ji(t,e,n,r,i,o=!1){if(e.inlineContent)return J.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&Q.isSelectable(a))return Q.create(t,n-(i<0?a.nodeSize:0))}else{let l=ji(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function r0(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof At||i instanceof Ct))return;let o=t.mapping.maps[r],s;o.forEach((a,l,u,c)=>{s==null&&(s=c)}),t.setSelection(Y.near(t.doc.resolve(s),n))}function i0(t,e){return!e||!t?t:t.bind(e)}class tl{constructor(e,n,r){this.name=e,this.init=i0(n.init,r),this.apply=i0(n.apply,r)}}new tl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new tl("selection",{init(t,e){return t.selection||Y.atStart(e.doc)},apply(t){return t.selection}}),new tl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new tl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});function Rb(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Rb(i,e,{})),n[r]=i}return n}class Mt{constructor(e){this.spec=e,this.props={},e.props&&Rb(e.props,this,this.props),this.key=e.key?e.key.key:Db("plugin")}getState(e){return e[this.key]}}const jf=Object.create(null);function Db(t){return t in jf?t+"$"+ ++jf[t]:(jf[t]=0,t+"$")}class Pn{constructor(e="key"){this.key=Db(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ai=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Lb=function(t,e,n,r){return n&&(o0(t,e,n,r,-1)||o0(t,e,n,r,1))},bL=/^(img|br|input|textarea|hr)$/i;function o0(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Mu(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Cm(t)||bL.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ai(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Mu(t):0}else return!1}}function Mu(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function EL(t,e,n){for(let r=e==0,i=e==Mu(t);r||i;){if(t==n)return!0;let o=Ai(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Mu(t)}}function Cm(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Fb=function(t){return t.focusNode&&Lb(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function zb(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const In=typeof navigator<"u"?navigator:null,s0=typeof document<"u"?document:null,Fr=In&&In.userAgent||"",Oh=/Edge\/(\d+)/.exec(Fr),jb=/MSIE \d/.exec(Fr),Ch=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fr),Ta=!!(jb||Ch||Oh),$b=jb?document.documentMode:Ch?+Ch[1]:Oh?+Oh[1]:0,Ac=!Ta&&/gecko\/(\d+)/i.test(Fr);Ac&&+(/Firefox\/(\d+)/.exec(Fr)||[0,0])[1];const Nh=!Ta&&/Chrome\/(\d+)/.exec(Fr),zr=!!Nh,Vb=Nh?+Nh[1]:0,Pi=!Ta&&!!In&&/Apple Computer/.test(In.vendor),Nm=Pi&&(/Mobile\/\w+/.test(Fr)||!!In&&In.maxTouchPoints>2),Ut=Nm||(In?/Mac/.test(In.platform):!1),xL=In?/Win/.test(In.platform):!1,Oa=/Android \d/.test(Fr),_m=!!s0&&"webkitFontSmoothing"in s0.documentElement.style,TL=_m?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function OL(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,u;if(Fb(n)){for(l=s;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Q.isSelectable(f)&&i.parent&&!(f.isInline&&EL(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new Q(s==d?a:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=s,d=s;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);f=Math.min(f,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(f<0)return null;[l,s]=d==t.state.selection.anchor?[d,f]:[f,d],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let f=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;u=qb(t,c,a,f)}return u}function Bb(t){return t.editable?t.hasFocus():ML(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Mm(t,e=!1){let n=t.state.selection;if(_L(t,n),!!Bb(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&zr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Lb(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)NL(t);else{let{anchor:r,head:i}=n,o,s;a0&&!(n instanceof J)&&(n.$from.parent.inlineContent||(o=l0(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=l0(t,n.to))),t.docView.setSelection(r,i,t.root,e),a0&&(o&&u0(o),s&&u0(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&CL(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const a0=Pi||zr&&Vb<63;function l0(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Pi&&i&&i.contentEditable=="false")return $f(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return $f(i);if(o)return $f(o)}}function $f(t){return t.contentEditable="true",Pi&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function u0(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function CL(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Bb(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function NL(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Ai(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ta&&$b<=11&&(r.disabled=!0,r.disabled=!1)}function _L(t,e){if(e instanceof Q){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(c0(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else c0(t)}function c0(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function qb(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||J.between(e,n,r)}function ML(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function _h(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Y.findFrom(o,e)}function rr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function f0(t,e,n){let r=t.state.selection;if(r instanceof J)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return rr(t,new J(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=_h(t.state,e);return i&&i instanceof Q?rr(t,i):!1}else if(!(Ut&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Q.isSelectable(o)?rr(t,new Q(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):_m?rr(t,new J(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Q&&r.node.isInline)return rr(t,new J(e>0?r.$to:r.$from));{let i=_h(t.state,e);return i?rr(t,i):!1}}}function Iu(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ms(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Li(t,e){return e<0?IL(t):AL(t)}function IL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Ac&&n.nodeType==1&&r<Iu(n)&&Ms(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Ms(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Ub(n))break;{let a=n.previousSibling;for(;a&&Ms(a,-1);)i=n.parentNode,o=Ai(a),a=a.previousSibling;if(a)n=a,r=Iu(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Mh(t,n,r):i&&Mh(t,i,o)}function AL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Iu(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Ms(a,1))o=n,s=++r;else break}else{if(Ub(n))break;{let a=n.nextSibling;for(;a&&Ms(a,1);)o=a.parentNode,s=Ai(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Iu(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Mh(t,o,s)}function Ub(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function PL(t,e){for(;t&&e==t.childNodes.length&&!Cm(t);)e=Ai(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function RL(t,e){for(;t&&!e&&!Cm(t);)e=Ai(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Mh(t,e,n){if(e.nodeType!=3){let o,s;(s=PL(e,n))?(e=s,n=0):(o=RL(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Fb(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Mm(t)},50)}function d0(t,e){let n=t.state.doc.resolve(e);if(!(zr||xL)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function h0(t,e,n){let r=t.state.selection;if(r instanceof J&&!r.empty||n.indexOf("s")>-1||Ut&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=_h(t.state,e);if(s&&s instanceof Q)return rr(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof mn?Y.near(s,e):Y.findFrom(s,e);return a?rr(t,a):!1}return!1}function p0(t,e){if(!(t.state.selection instanceof J))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function m0(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function DL(t){if(!Pi||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;m0(t,r,"true"),setTimeout(()=>m0(t,r,"false"),20)}return!1}function LL(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function FL(t,e){let n=e.keyCode,r=LL(e);if(n==8||Ut&&n==72&&r=="c")return p0(t,-1)||Li(t,-1);if(n==46&&!e.shiftKey||Ut&&n==68&&r=="c")return p0(t,1)||Li(t,1);if(n==13||n==27)return!0;if(n==37||Ut&&n==66&&r=="c"){let i=n==37?d0(t,t.state.selection.from)=="ltr"?-1:1:-1;return f0(t,i,r)||Li(t,i)}else if(n==39||Ut&&n==70&&r=="c"){let i=n==39?d0(t,t.state.selection.from)=="ltr"?1:-1:1;return f0(t,i,r)||Li(t,i)}else{if(n==38||Ut&&n==80&&r=="c")return h0(t,-1,r)||Li(t,-1);if(n==40||Ut&&n==78&&r=="c")return DL(t)||h0(t,1,r)||Li(t,1);if(r==(Ut?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Qb(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||xa.fromSchema(t.state.schema),a=Yb(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=Kb[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=a.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function Wb(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new q(A.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):q.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)a=f;else{let d=i.marks(),{schema:h}=t.state,p=xa.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let w=s.appendChild(document.createElement("p"));v&&w.appendChild(p.serializeNode(h.text(v,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),s=VL(n),_m&&BL(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||hi.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!zL.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)a=qL(g0(a,+c[1],+c[2]),c[4]);else if(a=q.maxOpen(jL(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let h=a.content.firstChild;f<a.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=a.content.lastChild;d<a.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);a=g0(a,f,d)}return t.someProp("transformPasted",f=>{a=f(a,t)}),a}const zL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function jL(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&o.length&&Jb(l,o,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=Gb(s[s.length-1],o.length));let c=Hb(a,l);s.push(c),i=i.matchType(c.type),o=l}}),s)return A.from(s)}return t}function Hb(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,A.from(t));return t}function Jb(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Jb(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(A.from(Hb(n,t,i+1))))}}function Gb(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Gb(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(A.empty,!0);return t.copy(n.append(r))}function Ih(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=Ih(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(A.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function g0(t,e,n){return e<t.openStart&&(t=new q(Ih(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new q(Ih(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Kb={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let y0=null;function Yb(){return y0||(y0=document.implementation.createHTMLDocument("title"))}let Vf=null;function $L(t){let e=window.trustedTypes;return e?(Vf||(Vf=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Vf.createHTML(t)):t}function VL(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Yb().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Kb[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=$L(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function BL(t){let e=t.querySelectorAll(zr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function qL(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=A.from(l.create(r[a+1],i)),o++,s++}return new q(i,o,s)}const vn={},zt={};function dr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}zt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Zb(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Oa&&zr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Nm&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,zb(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||FL(t,n)?n.preventDefault():dr(t,"key")};zt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};zt.keypress=(t,e)=>{let n=e;if(Zb(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ut&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof J)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Pc(t){return{left:t.clientX,top:t.clientY}}function UL(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Im(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function vo(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function QL(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Q.isSelectable(r)?(vo(t,new Q(n)),!0):!1}function WL(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Q&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Q.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(vo(t,Q.create(t.state.doc,i)),!0):!1}function HL(t,e,n,r,i){return Im(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?WL(t,n):QL(t,n))}function JL(t,e,n,r){return Im(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function GL(t,e,n,r){return Im(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||KL(t,n,r)}function KL(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(vo(t,J.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)vo(t,J.create(r,a+1,a+1+s.content.size));else if(Q.isSelectable(s))vo(t,Q.create(r,a));else continue;return!0}}function Am(t){return Au(t)}const Xb=Ut?"metaKey":"ctrlKey";vn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Am(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&UL(n,t.input.lastClick)&&!n[Xb]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Pc(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new YL(t,s,n,!!r)):(o=="doubleClick"?JL:GL)(t,s.pos,s.inside,n)?n.preventDefault():dr(t,"pointer"))};class YL{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Xb],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Q&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ac&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),dr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Mm(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Pc(e))),this.updateAllowDefault(e),this.allowDefault||!n?dr(this.view,"pointer"):HL(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Pi&&this.mightDrag&&!this.mightDrag.node.isAtom||zr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(vo(this.view,Y.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):dr(this.view,"pointer")}move(e){this.updateAllowDefault(e),dr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}vn.touchstart=t=>{t.input.lastTouch=Date.now(),Am(t),dr(t,"pointer")};vn.touchmove=t=>{t.input.lastTouch=Date.now(),dr(t,"pointer")};vn.contextmenu=t=>Am(t);function Zb(t,e){return t.composing?!0:Pi&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const XL=Oa?5e3:-1;zt.compositionstart=zt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof J&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Au(t,!0),t.markCursor=null;else if(Au(t,!e.selection.empty),Ac&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}eE(t,XL)};zt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,eE(t,20))};function eE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Au(t),e))}function ZL(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=eF());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function eF(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Au(t,e=!1){if(!(Oa&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),ZL(t),e||t.docView&&t.docView.dirty){let n=OL(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function tF(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ua=Ta&&$b<15||Nm&&TL<604;vn.copy=zt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=ua?null:n.clipboardData,s=r.content(),{dom:a,text:l}=Qb(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):tF(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function nF(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function rF(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ah(t,r.value,null,i,e):Ah(t,r.textContent,r.innerHTML,i,e)},50)}function Ah(t,e,n,r,i){let o=Wb(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||q.empty)))return!0;if(!o)return!1;let s=nF(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function tE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}zt.paste=(t,e)=>{let n=e;if(t.composing&&!Oa)return;let r=ua?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Ah(t,tE(r),r.getData("text/html"),i,n)?n.preventDefault():rF(t,n)};class iF{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const nE=Ut?"altKey":"ctrlKey";vn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Pc(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Q?i.to-1:i.to))){if(r&&r.mightDrag)s=Q.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(s=Q.create(t.state.doc,f.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:u,slice:c}=Qb(t,a);(!n.dataTransfer.files.length||!zr||Vb>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ua?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",ua||n.dataTransfer.setData("text/plain",u),t.dragging=new iF(c,!n[nE],s)};vn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};zt.dragover=zt.dragenter=(t,e)=>e.preventDefault();zt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Pc(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=Wb(t,tE(n.dataTransfer),ua?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[nE]);if(t.someProp("handleDrop",p=>p(t,n,s||q.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?Ab(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=t.state.tr;if(a){let{node:p}=r;p?p.replace(u):u.deleteSelection()}let c=u.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&Q.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Q(h));else{let p=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((v,w,m,g)=>p=g),u.setSelection(qb(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};vn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Mm(t)},20))};vn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};vn.beforeinput=(t,e)=>{if(zr&&Oa&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,zb(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in zt)vn[t]=zt[t];function ca(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Pu{constructor(e,n){this.toDOM=e,this.spec=n||pi,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new On(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Pu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ca(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class br{constructor(e,n){this.attrs=e,this.spec=n||pi}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new On(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof br&&ca(this.attrs,e.attrs)&&ca(this.spec,e.spec)}static is(e){return e.type instanceof br}destroy(){}}class Pm{constructor(e,n){this.attrs=e,this.spec=n||pi}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new On(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Pm&&ca(this.attrs,e.attrs)&&ca(this.spec,e.spec)}destroy(){}}class On{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new On(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new On(e,e,new Pu(n,r))}static inline(e,n,r,i){return new On(e,n,new br(r,i))}static node(e,n,r,i){return new On(e,n,new Pm(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof br}get widget(){return this.type instanceof Pu}}const $i=[],pi={};class qe{constructor(e,n){this.local=e.length?e:$i,this.children=n.length?n:$i}static create(e,n){return n.length?Ru(n,e,0,pi):ft}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==ft||e.maps.length==0?this:this.mapInner(e,n,0,0,r||pi)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?oF(this.children,s||[],e,n,r,i,o):s?new qe(s.sort(mi),$i):ft}add(e,n){return n.length?this==ft?qe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let u=l+r,c;if(c=iE(n,a,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,c,u+1):i.splice(o,0,l,l+a.nodeSize,Ru(c,a,u+1,pi)),o+=3}});let s=rE(o?oE(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new qe(s.length?this.local.concat(s).sort(mi):this.local,i||this.children)}remove(e){return e.length==0||this==ft?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>a&&f.to<l&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,a+1);u!=ft?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new qe(i,r):ft}forChild(e,n){if(this==ft)return this;if(n.isLeaf)return qe.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof br){let u=Math.max(o,l.from)-o,c=Math.min(s,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new qe(i.sort(mi),$i);return r?new Kr([a,r]):a}return r||ft}eq(e){if(this==e)return!0;if(!(e instanceof qe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Rm(this.localsInner(e))}localsInner(e){if(this==ft)return $i;if(e.inlineContent||!this.local.some(br.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof br||n.push(this.local[r]);return n}forEachSet(e){e(this)}}qe.empty=new qe([],[]);qe.removeOverlap=Rm;const ft=qe.empty;class Kr{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,pi));return Kr.from(r)}forChild(e,n){if(n.isLeaf)return qe.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=ft&&(o instanceof Kr?r=r.concat(o.members):r.push(o))}return Kr.from(r)}eq(e){if(!(e instanceof Kr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Rm(r?n:n.sort(mi)):$i}static from(e){switch(e.length){case 0:return ft;case 1:return e[0];default:return new Kr(e.every(n=>n instanceof qe)?e:e.reduce((n,r)=>n.concat(r instanceof qe?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function oF(t,e,n,r,i,o,s){let a=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,h,p,v)=>{let w=v-p-(h-d);for(let m=0;m<a.length;m+=3){let g=a[m+1];if(g<0||d>g+c-f)continue;let y=a[m]+c-f;h>=y?a[m+1]=d<=y?-2:-1:d>=c&&w&&(a[m]+=w,a[m+1]+=w)}f+=w}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(t[u]+o),f=c-i;if(f<0||f>=r.content.size){l=!0;continue}let d=n.map(t[u+1]+o,-1),h=d-i,{index:p,offset:v}=r.content.findIndex(f),w=r.maybeChild(p);if(w&&v==f&&v+w.nodeSize==h){let m=a[u+2].mapInner(n,w,c+1,t[u]+o+1,s);m!=ft?(a[u]=f,a[u+1]=h,a[u+2]=m):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=sF(a,t,e,n,i,o,s),c=Ru(u,r,0,s);e=c.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<a.length&&a[d]<h;)d+=3;a.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new qe(e.sort(mi),a)}function rE(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new On(i.from+e,i.to+e,i.type))}return n}function sF(t,e,n,r,i,o,s){function a(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function iE(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function oE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ru(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let u=iE(t,a,l+n);if(u){o=!0;let c=Ru(u,a,n+l+1,r);c!=ft&&i.push(l,l+a.nodeSize,c)}});let s=rE(o?oE(t):t,-n).sort(mi);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new qe(s,i):ft}function mi(t,e){return t.from-e.from||t.to-e.to}function Rm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),v0(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),v0(e,i,r.copy(o.from,r.to)));break}}}return e}function v0(t,e,n){for(;e<t.length&&mi(n,t[e])>0;)e++;t.splice(e,0,n)}var Mr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Du={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},aF=typeof navigator<"u"&&/Mac/.test(navigator.platform),lF=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xe=0;Xe<10;Xe++)Mr[48+Xe]=Mr[96+Xe]=String(Xe);for(var Xe=1;Xe<=24;Xe++)Mr[Xe+111]="F"+Xe;for(var Xe=65;Xe<=90;Xe++)Mr[Xe]=String.fromCharCode(Xe+32),Du[Xe]=String.fromCharCode(Xe);for(var Bf in Mr)Du.hasOwnProperty(Bf)||(Du[Bf]=Mr[Bf]);function uF(t){var e=aF&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||lF&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Du:Mr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const cF=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function fF(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))cF?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function dF(t){let e=Object.create(null);for(let n in t)e[fF(n)]=t[n];return e}function qf(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function hF(t){return new Mt({props:{handleKeyDown:sE(t)}})}function sE(t){let e=dF(t);return function(n,r){let i=uF(r),o,s=e[qf(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[qf(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Mr[r.keyCode])&&o!=i){let a=e[qf(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const pF=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function aE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const mF=(t,e,n)=>{let r=aE(t,n);if(!r)return!1;let i=Dm(r);if(!i){let s=r.blockRange(),a=s&&qo(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(fE(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ao(o,"end")||Q.isSelectable(o)))for(let s=r.depth;;s--){let a=Tm(t.doc,r.before(s),r.after(s),q.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Ao(o,"end")?Y.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Q.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},gF=(t,e,n)=>{let r=aE(t,n);if(!r)return!1;let i=Dm(r);return i?lE(t,i,e):!1},yF=(t,e,n)=>{let r=uE(t,n);if(!r)return!1;let i=Lm(r);return i?lE(t,i,e):!1};function lE(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=Tm(t.doc,o,l,q.empty);if(!u||u.from!=o||u instanceof At&&u.slice.size>=l-o)return!1;if(n){let c=t.tr.step(u);c.setSelection(J.create(c.doc,o)),n(c.scrollIntoView())}return!0}function Ao(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const vF=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Dm(r)}let s=o&&o.nodeBefore;return!s||!Q.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Q.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Dm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function uE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const wF=(t,e,n)=>{let r=uE(t,n);if(!r)return!1;let i=Lm(r);if(!i)return!1;let o=i.nodeAfter;if(fE(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ao(o,"start")||Q.isSelectable(o))){let s=Tm(t.doc,r.before(),r.after(),q.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Ao(o,"start")?Y.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Q.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},kF=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Lm(r)}let s=o&&o.nodeAfter;return!s||!Q.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Q.create(t.doc,o.pos)).scrollIntoView()),!0)};function Lm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const SF=(t,e)=>{let n=t.selection,r=n instanceof Q,i;if(r){if(n.node.isTextblock||!Lr(t.doc,n.from))return!1;i=n.from}else if(i=Mc(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(Q.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},bF=(t,e)=>{let n=t.selection,r;if(n instanceof Q){if(n.node.isTextblock||!Lr(t.doc,n.to))return!1;r=n.to}else if(r=Mc(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},EF=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&qo(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},xF=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function cE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const TF=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=cE(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Y.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},OF=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof mn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=cE(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(J.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},CF=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(yo(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&qo(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},NF=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(Q.create(t.doc,i))),!0)};function _F(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Lr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function fE(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&_F(t,e,n))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,p=A.empty;for(let m=s.length-1;m>=0;m--)p=A.from(s[m].create(null,p));p=A.from(i.copy(p));let v=t.tr.step(new Ct(e.pos-1,h,e.pos,h,new q(p,1,0),s.length,!0)),w=v.doc.resolve(h+2*s.length);w.nodeAfter&&w.nodeAfter.type==i.type&&Lr(v.doc,w.pos)&&v.join(w.pos),n(v.scrollIntoView())}return!0}let c=o.type.spec.isolating||r>0&&l?null:Y.findFrom(e,1),f=c&&c.$from.blockRange(c.$to),d=f&&qo(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(u&&Ao(o,"start",!0)&&Ao(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let v=o,w=1;for(;!v.isTextblock;v=v.firstChild)w++;if(h.canReplace(h.childCount,h.childCount,v.content)){if(n){let m=A.empty;for(let y=p.length-1;y>=0;y--)m=A.from(p[y].copy(m));let g=t.tr.step(new Ct(e.pos-p.length,e.pos+o.nodeSize,e.pos+w,e.pos+o.nodeSize-w,new q(m,p.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function dE(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(J.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const MF=dE(-1),IF=dE(1);function AF(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&xm(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function w0(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=n.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function PF(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);l=new Tu(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new Tu(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let u=xm(l,t,e,s);return u?(r&&r(RF(n.tr,s,u,a,t).scrollIntoView()),!0):!1}}function RF(t,e,n,r,i){let o=A.empty;for(let c=n.length-1;c>=0;c--)o=A.from(n[c].type.create(n[c].attrs,o));t.step(new Ct(e.start-(r?2:0),e.end,e.start,e.end,new q(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let a=n.length-s,l=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&yo(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return t}function DF(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?LF(e,n,t,o):FF(e,n,o):!0:!1}}function LF(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Ct(o-1,s,o,s,new q(A.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Tu(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=qo(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Lr(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function FF(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,v=n.startIndex;p>v;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(a?0:1),c+1,s.content.append(l?A.empty:A.from(i))))return!1;let f=o.pos,d=f+s.nodeSize;return r.step(new Ct(f-(a?1:0),d+(l?1:0),f+1,d-1,new q((a?A.empty:A.from(i.copy(A.empty))).append(l?A.empty:A.from(i.copy(A.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function zF(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,c=A.from(u?t.create():null),f=new q(A.from(t.create(null,A.from(a.type.create(null,c)))),u?3:1,0),d=o.start,h=o.end;n(e.tr.step(new Ct(d-(u?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}function Rc(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Fm{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>{const f=l(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,u=e||o.tr,c=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...v)=>{const w=this.buildProps(u,n),m=h(...v)(w);return a.push(m),f}])),run:c};return f}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:Rc({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}function $(t,e,n){return t.config[e]===void 0&&t.parent?$(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?$(t.parent,e,n):null}):t.config[e]}function Dc(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function hE(t){const e=[],{nodeExtensions:n,markExtensions:r}=Dc(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=$(s,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,h])=>{e.push({type:f,name:d,attribute:{...o,...h}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=$(s,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,f])=>{const d={...o,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:s.name,name:c,attribute:d})})}),e}function tt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function mt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],l=r[i]?r[i].split(" "):[],u=a.filter(c=>!l.includes(c));r[i]=[...l,...u].join(" ")}else if(i==="style"){const a=o?o.split(";").map(c=>c.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{const[f,d]=c.split(":").map(h=>h.trim());u.set(f,d)}),a.forEach(c=>{const[f,d]=c.split(":").map(h=>h.trim());u.set(f,d)}),r[i]=Array.from(u.entries()).map(([c,f])=>`${c}: ${f}`).join("; ")}else r[i]=o}),r},{})}function Ph(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>mt(n,r),{})}function jF(t){return typeof t=="function"}function G(t,e=void 0,...n){return jF(t)?e?t.bind(e)(...n):t(...n):t}function $F(t={}){return Object.keys(t).length===0&&t.constructor===Object}function VF(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function k0(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):VF(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function S0(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&$F(n)?!1:n!=null))}function pE(t,e){var n;const r=hE(t),{nodeExtensions:i,markExtensions:o}=Dc(t),s=(n=i.find(u=>$(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(u=>{const c=r.filter(m=>m.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((m,g)=>{const y=$(g,"extendNodeSchema",f);return{...m,...y?y(u):{}}},{}),h=S0({...d,content:G($(u,"content",f)),marks:G($(u,"marks",f)),group:G($(u,"group",f)),inline:G($(u,"inline",f)),atom:G($(u,"atom",f)),selectable:G($(u,"selectable",f)),draggable:G($(u,"draggable",f)),code:G($(u,"code",f)),whitespace:G($(u,"whitespace",f)),defining:G($(u,"defining",f)),isolating:G($(u,"isolating",f)),attrs:Object.fromEntries(c.map(m=>{var g;return[m.name,{default:(g=m==null?void 0:m.attribute)===null||g===void 0?void 0:g.default}]}))}),p=G($(u,"parseHTML",f));p&&(h.parseDOM=p.map(m=>k0(m,c)));const v=$(u,"renderHTML",f);v&&(h.toDOM=m=>v({node:m,HTMLAttributes:Ph(m,c)}));const w=$(u,"renderText",f);return w&&(h.toText=w),[u.name,h]})),l=Object.fromEntries(o.map(u=>{const c=r.filter(w=>w.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((w,m)=>{const g=$(m,"extendMarkSchema",f);return{...w,...g?g(u):{}}},{}),h=S0({...d,inclusive:G($(u,"inclusive",f)),excludes:G($(u,"excludes",f)),group:G($(u,"group",f)),spanning:G($(u,"spanning",f)),code:G($(u,"code",f)),attrs:Object.fromEntries(c.map(w=>{var m;return[w.name,{default:(m=w==null?void 0:w.attribute)===null||m===void 0?void 0:m.default}]}))}),p=G($(u,"parseHTML",f));p&&(h.parseDOM=p.map(w=>k0(w,c)));const v=$(u,"renderHTML",f);return v&&(h.toDOM=w=>v({mark:w,HTMLAttributes:Ph(w,c)})),[u.name,h]}));return new Eb({topNode:s,nodes:a,marks:l})}function Uf(t,e){return e.nodes[t]||e.marks[t]||null}function b0(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const BF=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-o))}),n};function zm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Lc{constructor(e){this.find=e.find,this.handler=e.handler}}const qF=(t,e)=>{if(zm(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function nl(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1;const f=BF(u)+o;return s.forEach(d=>{if(c)return;const h=qF(f,d.find);if(!h)return;const p=l.state.tr,v=Rc({state:l.state,transaction:p}),w={from:r-(h[0].length-o.length),to:i},{commands:m,chain:g,can:y}=new Fm({editor:n,state:v});d.handler({state:v,range:w,match:h,commands:m,chain:g,can:y})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:o}),l.dispatch(p),c=!0)}),c}function UF(t){const{editor:e,rules:n}=t,r=new Mt({state:{init(){return null},apply(i,o){const s=i.getMeta(r);if(s)return s;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:u,text:c}=a,f=u+c.length;nl({editor:e,from:u,to:f,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return nl({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&nl({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?nl({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function QF(t){return Object.prototype.toString.call(t).slice(8,-1)}function rl(t){return QF(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Fc(t,e){const n={...t};return rl(t)&&rl(e)&&Object.keys(e).forEach(r=>{rl(e[r])&&rl(t[r])?n[r]=Fc(t[r],e[r]):n[r]=e[r]}),n}class Ir{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=G($(this,"addOptions",{name:this.name}))),this.storage=G($(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ir(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Fc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Ir(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=G($(n,"addOptions",{name:n.name})),n.storage=G($(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=s.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function WF(t){return typeof t=="number"}class HF{constructor(e){this.find=e.find,this.handler=e.handler}}const JF=(t,e,n)=>{if(zm(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function GF(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:u,can:c}=new Fm({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const v=Math.max(r,p),w=Math.min(i,p+h.content.size),m=h.textBetween(v-p,w-p,void 0,"");JF(m,o.find,s).forEach(y=>{if(y.index===void 0)return;const k=v+y.index+1,S=k+y[0].length,b={from:n.tr.mapping.map(k),to:n.tr.mapping.map(S)},x=o.handler({state:n,range:b,match:y,commands:l,chain:u,can:c,pasteEvent:s,dropEvent:a});f.push(x)})}),f.every(h=>h!==null)}const KF=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function YF(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:c,from:f,to:d,rule:h,pasteEvt:p})=>{const v=c.tr,w=Rc({state:c,transaction:v});if(!(!GF({editor:e,state:w,from:Math.max(f-1,0),to:d.b-1,rule:h,pasteEvent:p,dropEvent:a})||!v.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v};return n.map(c=>new Mt({view(f){const d=h=>{var p;r=!((p=f.dom.parentElement)===null||p===void 0)&&p.contains(h.target)?f.dom.parentElement:null};return window.addEventListener("dragstart",d),{destroy(){window.removeEventListener("dragstart",d)}}},props:{handleDOMEvents:{drop:(f,d)=>(o=r===f.dom.parentElement,a=d,!1),paste:(f,d)=>{var h;const p=(h=d.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return s=d,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(f,d,h)=>{const p=f[0],v=p.getMeta("uiEvent")==="paste"&&!i,w=p.getMeta("uiEvent")==="drop"&&!o,m=p.getMeta("applyPasteRules"),g=!!m;if(!v&&!w&&!g)return;if(g){const{from:S,text:b}=m,x=S+b.length,T=KF(b);return l({rule:c,state:h,from:S,to:{b:x},pasteEvt:T})}const y=d.doc.content.findDiffStart(h.doc.content),k=d.doc.content.findDiffEnd(h.doc.content);if(!(!WF(y)||!k||y===k.b))return l({rule:c,state:h,from:y,to:k,pasteEvt:s})}}))}function XF(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class io{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=io.resolve(e),this.schema=pE(this.extensions,n),this.setupExtensions()}static resolve(e){const n=io.sort(io.flatten(e)),r=XF(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=$(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=$(r,"priority")||100,s=$(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Uf(n.name,this.schema)},i=$(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=io.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:Uf(s.name,this.schema)},l=[],u=$(s,"addKeyboardShortcuts",a);let c={};if(s.type==="mark"&&$(s,"exitable",a)&&(c.ArrowRight=()=>Ir.handleExit({editor:e,mark:s})),u){const v=Object.fromEntries(Object.entries(u()).map(([w,m])=>[w,()=>m({editor:e})]));c={...c,...v}}const f=hF(c);l.push(f);const d=$(s,"addInputRules",a);b0(s,e.options.enableInputRules)&&d&&r.push(...d());const h=$(s,"addPasteRules",a);b0(s,e.options.enablePasteRules)&&h&&i.push(...h());const p=$(s,"addProseMirrorPlugins",a);if(p){const v=p();l.push(...v)}return l}).flat();return[UF({editor:e,rules:r}),...YF({editor:e,rules:i}),...o]}get attributes(){return hE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Dc(this.extensions);return Object.fromEntries(n.filter(r=>!!$(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:tt(r.name,this.schema)},s=$(r,"addNodeView",o);if(!s)return[];const a=(l,u,c,f,d)=>{const h=Ph(l,i);return s()({node:l,view:u,getPos:c,decorations:f,innerDecorations:d,editor:e,extension:r,HTMLAttributes:h})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Uf(e.name,this.schema)};e.type==="mark"&&(!((n=G($(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=$(e,"onBeforeCreate",r),o=$(e,"onCreate",r),s=$(e,"onUpdate",r),a=$(e,"onSelectionUpdate",r),l=$(e,"onTransaction",r),u=$(e,"onFocus",r),c=$(e,"onBlur",r),f=$(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),f&&this.editor.on("destroy",f)})}}class gt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=G($(this,"addOptions",{name:this.name}))),this.storage=G($(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Fc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new gt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=G($(n,"addOptions",{name:n.name})),n.storage=G($(n,"addStorage",{name:n.name,options:n.options})),n}}function ZF(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,i,(l,u,c,f)=>{var d;l.isBlock&&u>r&&(a+=o);const h=s==null?void 0:s[l.type.name];if(h)return c&&(a+=h({node:l,pos:u,parent:c,index:f,range:e})),!1;l.isText&&(a+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(r,u)-u,i-u))}),a}function e2(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}gt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Mt({key:new Pn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.$from.pos)),a=Math.max(...o.map(c=>c.$to.pos)),l=e2(n);return ZF(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});const t2=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),n2=(t=!1)=>({commands:e})=>e.setContent("",t),r2=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=e,f=u.resolve(c.map(l)),d=u.resolve(c.map(l+a.nodeSize)),h=f.blockRange(d);if(!h)return;const p=qo(h);if(a.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,v)}(p||p===0)&&e.lift(h,p)})}),!0},i2=t=>e=>t(e),o2=()=>({state:t,dispatch:e})=>OF(t,e),s2=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new J(r.doc.resolve(s-1))),!0},a2=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);t.delete(a,l).scrollIntoView()}return!0}return!1},l2=t=>({tr:e,state:n,dispatch:r})=>{const i=tt(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),u=o.after(s);e.delete(l,u).scrollIntoView()}return!0}return!1},u2=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},c2=()=>({state:t,dispatch:e})=>pF(t,e),f2=()=>({commands:t})=>t.keyboardShortcut("Enter"),d2=()=>({state:t,dispatch:e})=>TF(t,e);function Lu(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:zm(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Rh(t,e,n={}){return t.find(r=>r.type===e&&Lu(r.attrs,n))}function h2(t,e,n={}){return!!Rh(t,e,n)}function jm(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e))return;const i=Rh([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(Rh([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&h2([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function jr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const p2=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=jr(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:u,to:c}=a;if(i){const f=jm(l,o,e);if(f&&f.from<=u&&f.to>=c){const d=J.create(s,f.from,f.to);n.setSelection(d)}}return!0},m2=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function mE(t){return t instanceof J}function oi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function g2(t,e=null){if(!e)return null;const n=Y.atStart(t),r=Y.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?J.create(t,oi(0,i,o),oi(t.content.size,i,o)):J.create(t,oi(e,i,o),oi(e,i,o))}function $m(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const y2=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{$m()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!mE(n.state.selection))return s(),!0;const a=g2(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},v2=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),w2=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),gE=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&gE(r)}return t};function il(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return gE(n)}function Fu(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return A.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Fu("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const l=new Eb({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?hi.fromSchema(l).parseSlice(il(t),n.parseOptions):hi.fromSchema(l).parse(il(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=hi.fromSchema(e);return n.slice?o.parseSlice(il(t),n.parseOptions).content:o.parse(il(t),n.parseOptions)}return Fu("",e,n)}function k2(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof At||i instanceof Ct))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,u,c)=>{s===0&&(s=c)}),t.setSelection(Y.near(t.doc.resolve(s),n))}const S2=t=>!("type"in t),b2=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=Fu(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(p){return o.emit("contentError",{editor:o,error:p,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,f=!0;if((S2(a)?a:[a]).forEach(p=>{p.check(),c=c?p.isText&&p.marks.length===0:!1,f=f?p.isBlock:!1}),l===u&&f){const{parent:p}=r.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,u+=1)}let h;c?(Array.isArray(e)?h=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?h=e.text:h=e,r.insertText(h,l,u)):(h=a,r.replaceWith(l,u,h)),n.updateSelection&&k2(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:h})}return!0},E2=()=>({state:t,dispatch:e})=>SF(t,e),x2=()=>({state:t,dispatch:e})=>bF(t,e),T2=()=>({state:t,dispatch:e})=>mF(t,e),O2=()=>({state:t,dispatch:e})=>wF(t,e),C2=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Mc(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},N2=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Mc(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},_2=()=>({state:t,dispatch:e})=>gF(t,e),M2=()=>({state:t,dispatch:e})=>yF(t,e);function yE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function I2(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))$m()||yE()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const A2=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=I2(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function Vm(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?tt(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(f,d)=>{if(f.isText)return;const h=Math.max(r,d),p=Math.min(i,d+f.nodeSize);a.push({node:f,from:h,to:p})});const l=i-r,u=a.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>Lu(f.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=l}const P2=(t,e={})=>({state:n,dispatch:r})=>{const i=tt(t,n.schema);return Vm(n,i,e)?EF(n,r):!1},R2=()=>({state:t,dispatch:e})=>CF(t,e),D2=t=>({state:e,dispatch:n})=>{const r=tt(t,e.schema);return DF(r)(e,n)},L2=()=>({state:t,dispatch:e})=>xF(t,e);function vE(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function E0(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const F2=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=vE(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=tt(t,r.schema)),a==="mark"&&(s=jr(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,E0(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(f=>{s===f.type&&n.addMark(c,c+u.nodeSize,s.create(E0(f.attrs,e)))})})}),!0):!1},z2=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),j2=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),$2=()=>({state:t,dispatch:e})=>vF(t,e),V2=()=>({state:t,dispatch:e})=>kF(t,e),B2=()=>({state:t,dispatch:e})=>NF(t,e),q2=()=>({state:t,dispatch:e})=>IF(t,e),U2=()=>({state:t,dispatch:e})=>MF(t,e);function Q2(t,e,n={},r={}){return Fu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const W2=(t,e=!1,n={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,u;const{doc:c}=o;if(n.preserveWhitespace!=="full"){const f=Q2(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,c.content.size,f).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function H2(t,e){const n=jr(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function J2(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function G2(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Bm(t){return e=>G2(e.$from,t)}function K2(t,e){const n=xa.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Y2(t,e){const n=io.resolve(t);return pE(n,e)}function X2(t,e){const n=Y2(e),r=di.fromJSON(n,t);return K2(r.content,n)}function wE(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),s=jm(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function jl(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Z2(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?jr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>Lu(f.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:f,$to:d})=>{const h=f.pos,p=d.pos;t.doc.nodesBetween(h,p,(v,w)=>{if(!v.isText&&!v.marks.length)return;const m=Math.max(h,w),g=Math.min(p,w+v.nodeSize),y=g-m;s+=y,a.push(...v.marks.map(k=>({mark:k,from:m,to:g})))})}),s===0)return!1;const l=a.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>Lu(f.mark.attrs,n,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=a.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+u:l)>=s}function x0(t,e){const{nodeExtensions:n}=Dc(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=G($(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function kE(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(kE(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function ez(t){return t instanceof Q}function tz(t,e,n){var r;const{selection:i}=e;let o=null;if(mE(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(c,f,d)=>{if(u)return!1;if(c.isInline){const h=!d||d.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(v=>v.type.excludes(n));u=h&&p}return!u}),u})}const nz=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=jr(t,r.schema);if(i)if(s){const u=H2(r,l);n.addStoredMark(l.create({...u,...e}))}else a.forEach(u=>{const c=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(c,f,(d,h)=>{const p=Math.max(h,c),v=Math.min(h+d.nodeSize,f);d.marks.find(m=>m.type===l)?d.marks.forEach(m=>{l===m.type&&n.addMark(p,v,l.create({...m.attrs,...e}))}):n.addMark(p,v,l.create(e))})});return tz(r,n,l)},rz=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),iz=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=tt(t,n.schema);return o.isTextblock?i().command(({commands:s})=>w0(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>w0(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},oz=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=oi(t,0,r.content.size),o=Q.create(r,i);e.setSelection(o)}return!0},sz=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=J.atStart(r).from,a=J.atEnd(r).to,l=oi(i,s,a),u=oi(o,s,a),c=J.create(r,l,u);e.setSelection(c)}return!0},az=t=>({state:e,dispatch:n})=>{const r=tt(t,e.schema);return zF(r)(e,n)};function T0(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const lz=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,u=i.extensionManager.attributes,c=jl(u,a.node().type.name,a.node().attrs);if(o instanceof Q&&o.node.isBlock)return!a.parentOffset||!yo(s,a.pos)?!1:(r&&(t&&T0(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,d=a.depth===0?void 0:J2(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=f&&d?[{type:d,attrs:c}]:void 0,p=yo(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&yo(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(p=!0,h=d?[{type:d,attrs:c}]:void 0),r){if(p&&(o instanceof J&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),d&&!f&&!a.parentOffset&&a.parent.type!==d)){const v=e.mapping.map(a.before()),w=e.doc.resolve(v);a.node(-1).canReplaceWith(w.index(),w.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}t&&T0(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},uz=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=tt(t,r.schema),{$from:l,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const f=l.node(-1);if(f.type!==a)return!1;const d=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let m=A.empty;const g=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-g;T>=l.depth-3;T-=1)m=A.from(l.node(T).copy(m));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...jl(d,l.node().type.name,l.node().attrs),...e},S=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(k))||void 0;m=m.append(A.from(a.createAndFill(null,S)||void 0));const b=l.before(l.depth-(g-1));n.replace(b,l.after(-y),new q(m,4-g,0));let x=-1;n.doc.nodesBetween(b,n.doc.content.size,(T,D)=>{if(x>-1)return!1;T.isTextblock&&T.content.size===0&&(x=D+1)}),x>-1&&n.setSelection(J.near(n.doc.resolve(x))),n.scrollIntoView()}return!0}const h=u.pos===l.end()?f.contentMatchAt(0).defaultType:null,p={...jl(d,f.type.name,f.attrs),...e},v={...jl(d,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,u.pos);const w=h?[{type:a,attrs:p},{type:h,attrs:v}]:[{type:a,attrs:p}];if(!yo(n.doc,l.pos,2))return!1;if(i){const{selection:m,storedMarks:g}=r,{splittableMarks:y}=o.extensionManager,k=g||m.$to.parentOffset&&m.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!k||!i)return!0;const S=k.filter(b=>y.includes(b.type.name));n.ensureMarks(S)}return!0},Qf=(t,e)=>{const n=Bm(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Lr(t.doc,n.pos)&&t.join(n.pos),!0},Wf=(t,e)=>{const n=Bm(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Lr(t.doc,r)&&t.join(r),!0},cz=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:u,can:c})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,h=tt(t,s.schema),p=tt(e,s.schema),{selection:v,storedMarks:w}=s,{$from:m,$to:g}=v,y=m.blockRange(g),k=w||v.$to.parentOffset&&v.$from.marks();if(!y)return!1;const S=Bm(b=>x0(b.type.name,f))(v);if(y.depth>=1&&S&&y.depth-S.depth<=1){if(S.node.type===h)return u.liftListItem(p);if(x0(S.node.type.name,f)&&h.validContent(S.node.content)&&a)return l().command(()=>(o.setNodeMarkup(S.pos,h),!0)).command(()=>Qf(o,h)).command(()=>Wf(o,h)).run()}return!n||!k||!a?l().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>Qf(o,h)).command(()=>Wf(o,h)).run():l().command(()=>{const b=c().wrapInList(h,r),x=k.filter(T=>d.includes(T.type.name));return o.ensureMarks(x),b?!0:u.clearNodes()}).wrapInList(h,r).command(()=>Qf(o,h)).command(()=>Wf(o,h)).run()},fz=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=jr(t,r.schema);return Z2(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},dz=(t,e,n={})=>({state:r,commands:i})=>{const o=tt(t,r.schema),s=tt(e,r.schema),a=Vm(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...n})},hz=(t,e={})=>({state:n,commands:r})=>{const i=tt(t,n.schema);return Vm(n,i,e)?r.lift(i):r.wrapIn(i,e)},pz=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},mz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},gz=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=jr(t,r.schema),{$from:u,empty:c,ranges:f}=a;if(!i)return!0;if(c&&s){let{from:d,to:h}=a;const p=(o=u.marks().find(w=>w.type===l))===null||o===void 0?void 0:o.attrs,v=jm(u,l,p);v&&(d=v.from,h=v.to),n.removeMark(d,h,l)}else f.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,l)});return n.removeStoredMark(l),!0},yz=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=vE(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=tt(t,r.schema)),a==="mark"&&(s=jr(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;r.doc.nodesBetween(u,c,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(h=>{if(s===h.type){const p=Math.max(d,u),v=Math.min(d+f.nodeSize,c);n.addMark(p,v,s.create({...h.attrs,...e}))}})})}),!0):!1},vz=(t,e={})=>({state:n,dispatch:r})=>{const i=tt(t,n.schema);return AF(i,e)(n,r)},wz=(t,e={})=>({state:n,dispatch:r})=>{const i=tt(t,n.schema);return PF(i,e)(n,r)};var kz=Object.freeze({__proto__:null,blur:t2,clearContent:n2,clearNodes:r2,command:i2,createParagraphNear:o2,cut:s2,deleteCurrentNode:a2,deleteNode:l2,deleteRange:u2,deleteSelection:c2,enter:f2,exitCode:d2,extendMarkRange:p2,first:m2,focus:y2,forEach:v2,insertContent:w2,insertContentAt:b2,joinBackward:T2,joinDown:x2,joinForward:O2,joinItemBackward:C2,joinItemForward:N2,joinTextblockBackward:_2,joinTextblockForward:M2,joinUp:E2,keyboardShortcut:A2,lift:P2,liftEmptyBlock:R2,liftListItem:D2,newlineInCode:L2,resetAttributes:F2,scrollIntoView:z2,selectAll:j2,selectNodeBackward:$2,selectNodeForward:V2,selectParentNode:B2,selectTextblockEnd:q2,selectTextblockStart:U2,setContent:W2,setMark:nz,setMeta:rz,setNode:iz,setNodeSelection:oz,setTextSelection:sz,sinkListItem:az,splitBlock:lz,splitListItem:uz,toggleList:cz,toggleMark:fz,toggleNode:dz,toggleWrap:hz,undoInputRule:pz,unsetAllMarks:mz,unsetMark:gz,updateAttributes:yz,wrapIn:vz,wrapInList:wz});gt.create({name:"commands",addCommands(){return{...kz}}});gt.create({name:"drop",addProseMirrorPlugins(){return[new Mt({key:new Pn("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}});gt.create({name:"editable",addProseMirrorPlugins(){return[new Mt({key:new Pn("editable"),props:{editable:()=>this.editor.options.editable}})]}});gt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Mt({key:new Pn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}});gt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:f}=l,{pos:d,parent:h}=f,p=f.parent.isTextblock&&d>0?a.doc.resolve(d-1):f,v=p.parent.type.spec.isolating,w=f.pos-f.parentOffset,m=v&&p.parent.childCount===1?w===f.pos:Y.atStart(u).from===d;return!c||!h.type.isTextblock||h.textContent.length||!m||m&&f.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return $m()||yE()?o:i},addProseMirrorPlugins(){return[new Mt({key:new Pn("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),i=t.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=Y.atStart(e.doc).from,u=Y.atEnd(e.doc).to;if(o||!(s===l&&a===u)||!kE(n.doc))return;const d=n.tr,h=Rc({state:n,transaction:d}),{commands:p}=new Fm({editor:this.editor,state:h});if(p.clearNodes(),!!d.steps.length)return d}})]}});gt.create({name:"paste",addProseMirrorPlugins(){return[new Mt({key:new Pn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}});gt.create({name:"tabindex",addProseMirrorPlugins(){return[new Mt({key:new Pn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});function Po(t){return new Lc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=G(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),u=n.from+a.indexOf(s),c=u+s.length;if(wE(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(v=>v===t.type&&v!==h.mark.type)).filter(h=>h.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+l,u);const d=n.from+l+s.length;o.addMark(n.from+l,d,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function Sz(t){return new Lc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=G(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=s+u;c>a?c=a:a=c+r[1].length;const f=r[0][r[0].length-1];o.insertText(f,s+r[0].length-1),o.replaceWith(c,a,l)}else if(r[0]){const u=t.type.isInline?s:s-1;o.insert(u,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function Dh(t){return new Lc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=G(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function fa(t){return new Lc({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=G(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),u=l&&xm(l,t.type,o);if(!u)return null;if(s.wrap(l,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:d}=e,{splittableMarks:h}=t.editor.extensionManager,p=d||f.$to.parentOffset&&f.$from.marks();if(p){const v=p.filter(w=>h.includes(w.type.name));s.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Lr(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&s.join(n.from-1)}})}class _t{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=G($(this,"addOptions",{name:this.name}))),this.storage=G($(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _t(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Fc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new _t(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=G($(n,"addOptions",{name:n.name})),n.storage=G($(n,"addStorage",{name:n.name,options:n.options})),n}}function Ro(t){return new HF({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=G(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let u=n.to;if(a){const c=l.search(/\S/),f=n.from+l.indexOf(a),d=f+a.length;if(wE(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===t.type&&w!==p.mark.type)).filter(p=>p.to>f).length)return null;d<n.to&&s.delete(d,n.to),f>n.from&&s.delete(n.from+c,f),u=n.from+c+a.length,s.addMark(n.from+c,u,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}const bz=/^\s*>\s$/,Ez=_t.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[fa({find:bz,type:this.type})]}}),xz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Tz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Oz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Cz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Nz=Ir.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Po({find:xz,type:this.type}),Po({find:Oz,type:this.type})]},addPasteRules(){return[Ro({find:Tz,type:this.type}),Ro({find:Cz,type:this.type})]}}),_z="listItem",O0="textStyle",C0=/^\s*([-+*])\s$/,Mz=_t.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",mt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_z,this.editor.getAttributes(O0)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=fa({find:C0,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=fa({find:C0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(O0),editor:this.editor})),[t]}}),Iz=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,Az=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,Pz=Ir.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Po({find:Iz,type:this.type})]},addPasteRules(){return[Ro({find:Az,type:this.type})]}}),Rz=/^```([a-z]+)?[\s\n]$/,Dz=/^~~~([a-z]+)?[\s\n]$/,Lz=_t.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",mt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:u})=>(u.setSelection(Y.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Dh({find:Rz,type:this.type,getAttributes:t=>({language:t[1]})}),Dh({find:Dz,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Mt({key:new Pn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(J.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),Fz=_t.create({name:"doc",topNode:!0,content:"block+"});function zz(t={}){return new Mt({view(e){return new jz(e,t)}})}class jz{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let c=u.getBoundingClientRect(),f=a?c.bottom:c.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=Ab(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const $z=gt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[zz(this.options)]}});class Te extends Y{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Te.valid(r)?new Te(r):Y.near(r)}content(){return q.empty}eq(e){return e instanceof Te&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Te(e.resolve(n.pos))}getBookmark(){return new qm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Vz(e)||!Bz(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Te.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(Te.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Q.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(Te.valid(a))return a}return null}}}Te.prototype.visible=!1;Te.findFrom=Te.findGapCursorFrom;Y.jsonID("gapcursor",Te);class qm{constructor(e){this.pos=e}map(e){return new qm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Te.valid(n)?new Te(n):Y.near(n)}}function Vz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Bz(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function qz(){return new Mt({props:{decorations:Hz,createSelectionBetween(t,e,n){return e.pos==n.pos&&Te.valid(n)?new Te(n):null},handleClick:Qz,handleKeyDown:Uz,handleDOMEvents:{beforeinput:Wz}}})}const Uz=sE({ArrowLeft:ol("horiz",-1),ArrowRight:ol("horiz",1),ArrowUp:ol("vert",-1),ArrowDown:ol("vert",1)});function ol(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof J){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=Te.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new Te(u))),!0):!1}}function Qz(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Te.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Q.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Te(r))),!0)}function Wz(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Te))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=A.empty;for(let s=r.length-1;s>=0;s--)i=A.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new q(i,0,0));return o.setSelection(J.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function Hz(t){if(!(t.selection instanceof Te))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",qe.create(t.doc,[On.widget(t.selection.head,e,{key:"gapcursor"})])}const Jz=gt.create({name:"gapCursor",addProseMirrorPlugins(){return[qz()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=G($(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),Gz=_t.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",mt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&s){const f=l.filter(d=>a.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Kz=_t.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,mt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Dh({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var zu=200,Qe=function(){};Qe.prototype.append=function(e){return e.length?(e=Qe.from(e),!this.length&&e||e.length<zu&&this.leafAppend(e)||this.length<zu&&e.leafPrepend(this)||this.appendInner(e)):this};Qe.prototype.prepend=function(e){return e.length?Qe.from(e).append(this):this};Qe.prototype.appendInner=function(e){return new Yz(this,e)};Qe.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Qe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Qe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Qe.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Qe.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Qe.from=function(e){return e instanceof Qe?e:e&&e.length?new SE(e):Qe.empty};var SE=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=zu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=zu)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Qe);Qe.empty=new SE([]);var Yz=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Qe);const Xz=500;class fn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new En(f.map));let h=f.step.map(i.slice(o)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],u.push(new En(p,void 0,void 0,u.length+c.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,l=new fn(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new En(e.mapping.maps[c],f,n),h;(h=l&&l.merge(d))&&(d=h,c?o.pop():a=a.slice(0,a.length-1)),o.push(d),n&&(s++,n=void 0),i||(l=d)}let u=s-r.depth;return u>ej&&(a=Zz(a,u),s-=u),new fn(a.append(o),s)}remapping(e,n){let r=new Ns;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new fn(this.items.append(e.map(n=>new En(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=n;this.items.forEach(d=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let p=o.maps[h];if(d.step){let v=e.steps[h].invert(e.docs[h]),w=d.selection&&d.selection.map(o.slice(l+1,h));w&&a++,r.push(new En(p,v,w))}else r.push(new En(p))},i);let u=[];for(let d=n;d<s;d++)u.push(new En(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new fn(c,a);return f.emptyItemCount()>Xz&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let f=new En(u.invert(),l,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else s.map&&r--},this.items.length,0),new fn(Qe.from(i.reverse()),o)}}fn.empty=new fn(Qe.empty,0);function Zz(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class En{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new En(n.getMap().invert(),n,this.selection)}}}class ir{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const ej=20;function tj(t,e,n,r){let i=n.getMeta(gi),o;if(i)return i.historyState;n.getMeta(ij)&&(t=new ir(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(gi))return s.getMeta(gi).redo?new ir(t.done.addTransform(n,void 0,r,$l(e)),t.undone,N0(n.mapping.maps),t.prevTime,t.prevComposition):new ir(t.done,t.undone.addTransform(n,void 0,r,$l(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!nj(n,t.prevRanges)),u=s?Hf(t.prevRanges,n.mapping):N0(n.mapping.maps);return new ir(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,$l(e)),fn.empty,u,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new ir(t.done.rebased(n,o),t.undone.rebased(n,o),Hf(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ir(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Hf(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function nj(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function N0(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function Hf(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function rj(t,e,n){let r=$l(e),i=gi.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new ir(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(gi,{redo:n,historyState:l})}let Jf=!1,_0=null;function $l(t){let e=t.plugins;if(_0!=e){Jf=!1,_0=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Jf=!0;break}}return Jf}const gi=new Pn("history"),ij=new Pn("closeHistory");function oj(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Mt({key:gi,state:{init(){return new ir(fn.empty,fn.empty,null,0,-1)},apply(e,n,r){return tj(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?EE:r=="historyRedo"?xE:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function bE(t,e){return(n,r)=>{let i=gi.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=rj(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const EE=bE(!1,!0),xE=bE(!0,!0),sj=gt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>EE(t,e),redo:()=>({state:t,dispatch:e})=>xE(t,e)}},addProseMirrorPlugins(){return[oj(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),aj=_t.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",mt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,o=t();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):ez(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:u}=s.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(J.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(Q.create(s.doc,u.pos)):s.setSelection(J.create(s.doc,u.pos));else{const f=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(s.insert(c,f),s.setSelection(J.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Sz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),lj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,uj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,cj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,fj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,dj=Ir.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Po({find:lj,type:this.type}),Po({find:cj,type:this.type})]},addPasteRules(){return[Ro({find:uj,type:this.type}),Ro({find:fj,type:this.type})]}}),hj=_t.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",mt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),pj="listItem",M0="textStyle",I0=/^(\d+)\.\s$/,mj=_t.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",mt(this.options.HTMLAttributes,n),0]:["ol",mt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pj,this.editor.getAttributes(M0)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=fa({find:I0,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=fa({find:I0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(M0)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),gj=_t.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),yj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,vj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,wj=Ir.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Po({find:yj,type:this.type})]},addPasteRules(){return[Ro({find:vj,type:this.type})]}}),kj=_t.create({name:"text",group:"inline"}),Sj=gt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,a,l,u,c,f,d,h,p,v,w,m;const g=[];return this.options.bold!==!1&&g.push(Nz.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&g.push(Ez.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&g.push(Mz.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&g.push(Pz.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&g.push(Lz.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&g.push(Fz.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&g.push($z.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&g.push(Jz.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&g.push(Gz.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&g.push(Kz.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&g.push(sj.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&g.push(aj.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&g.push(dj.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&g.push(hj.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&g.push(mj.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&g.push(gj.configure((v=this.options)===null||v===void 0?void 0:v.paragraph)),this.options.strike!==!1&&g.push(wj.configure((w=this.options)===null||w===void 0?void 0:w.strike)),this.options.text!==!1&&g.push(kj.configure((m=this.options)===null||m===void 0?void 0:m.text)),g}}),bj=()=>{const{state:t}=Ea(),e=t==null?void 0:t.activeLecture,n=X2(e.text,[Sj]);try{const r=new Sm({strictVariables:!0,greedy:!0,trimOutputLeft:!0,trimOutputRight:!0,trimTagLeft:!0,trimTagRight:!0}),i=r.renderSync(r.parse(n),e.text||{});return H.jsx("div",{className:"vizzly_rich_text","data-component":"rich-text-view-only",dangerouslySetInnerHTML:{__html:i}})}catch(r){return console.error(r),H.jsx("div",{dangerouslySetInnerHTML:{__html:n}})}},Ej=()=>{const{state:t}=Ea();return H.jsxs(bt.Fragment,{children:[(t==null?void 0:t.activeLecture.type)===vh.Video&&H.jsx(sA,{}),(t==null?void 0:t.activeLecture.type)===vh.Article&&H.jsx(bj,{})]})},xj=({course:t})=>H.jsx(JM,{course:t,children:H.jsxs("div",{className:RI({width:"100%",display:"flex"}),children:[H.jsxs("div",{className:HM,children:[H.jsx(Ej,{}),H.jsx(KM,{})]}),H.jsx(fI,{})]})}),Tj=t=>H.jsx(R_,{client:rM(pS.ANONYMOUS),children:H.jsx(Nj,{...t})}),Oj=_o`
  query getCourse($id: uuid!) {
    courses_by_pk(id: $id) {
      content
      id
    }
  }
`,Cj=t=>{const{loading:e,error:n,data:r}=B_(Oj,{variables:{id:t},fetchPolicy:"network-only"}),i=r==null?void 0:r.courses_by_pk;return{loading:e,error:n,course:i||void 0}},Nj=t=>{const{course:e,loading:n,error:r}=Cj(t.courseId);return n&&!e?H.jsx("div",{children:"Loading..."}):r?H.jsxs("div",{children:["Error: ",r.message]}):H.jsx(H.Fragment,{children:e&&H.jsx(xj,{course:e})})},_j=t=>H.jsx(Tj,{courseId:t.courseid}),Mj=rO(_j,BE,Gf,{props:{courseid:"string"}});customElements.define("customer-academy",Mj)});export default Ij();
